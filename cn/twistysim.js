// TwistySim v1.5.5
// Built on: Thu Dec  1 09:14:03 UTC 2016
// Revision: 6a5a02347fbdd0c65a9c33ee7f7062589f9c9009
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
(function (global){
"use strict";function typedArraySupport(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Buffer(t){return this instanceof Buffer?(Buffer.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?fromNumber(this,t):"string"==typeof t?fromString(this,t,arguments.length>1?arguments[1]:"utf8"):fromObject(this,t)):arguments.length>1?new Buffer(t,arguments[1]):new Buffer(t)}function fromNumber(t,e){if(t=allocate(t,e<0?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;r++)t[r]=0;return t}function fromString(t,e,r){"string"==typeof r&&""!==r||(r="utf8");var n=0|byteLength(e,r);return t=allocate(t,n),t.write(e,r),t}function fromObject(t,e){if(Buffer.isBuffer(e))return fromBuffer(t,e);if(isArray(e))return fromArray(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return fromTypedArray(t,e);if(e instanceof ArrayBuffer)return fromArrayBuffer(t,e)}return e.length?fromArrayLike(t,e):fromJsonObject(t,e)}function fromBuffer(t,e){var r=0|checked(e.length);return t=allocate(t,r),e.copy(t,0,0,r),t}function fromArray(t,e){var r=0|checked(e.length);t=allocate(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function fromTypedArray(t,e){var r=0|checked(e.length);t=allocate(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function fromArrayBuffer(t,e){return Buffer.TYPED_ARRAY_SUPPORT?(e.byteLength,t=Buffer._augment(new Uint8Array(e))):t=fromTypedArray(t,new Uint8Array(e)),t}function fromArrayLike(t,e){var r=0|checked(e.length);t=allocate(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function fromJsonObject(t,e){var r,n=0;"Buffer"===e.type&&isArray(e.data)&&(r=e.data,n=0|checked(r.length)),t=allocate(t,n);for(var f=0;f<n;f+=1)t[f]=255&r[f];return t}function allocate(t,e){Buffer.TYPED_ARRAY_SUPPORT?(t=Buffer._augment(new Uint8Array(e)),t.__proto__=Buffer.prototype):(t.length=e,t._isBuffer=!0);var r=0!==e&&e<=Buffer.poolSize>>>1;return r&&(t.parent=rootParent),t}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function SlowBuffer(t,e){if(!(this instanceof SlowBuffer))return new SlowBuffer(t,e);var r=new Buffer(t,e);return delete r.parent,r}function byteLength(t,e){"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(t).length;default:if(n)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),n=!0}}function slowToString(t,e,r){var n=!1;if(e=0|e,r=void 0===r||r===1/0?this.length:0|r,t||(t="utf8"),e<0&&(e=0),r>this.length&&(r=this.length),r<=e)return"";for(;;)switch(t){case"hex":return hexSlice(this,e,r);case"utf8":case"utf-8":return utf8Slice(this,e,r);case"ascii":return asciiSlice(this,e,r);case"binary":return binarySlice(this,e,r);case"base64":return base64Slice(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function hexWrite(t,e,r,n){r=Number(r)||0;var f=t.length-r;n?(n=Number(n),n>f&&(n=f)):n=f;var i=e.length;if(i%2!==0)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;o++){var u=parseInt(e.substr(2*o,2),16);if(isNaN(u))throw new Error("Invalid hex string");t[r+o]=u}return o}function utf8Write(t,e,r,n){return blitBuffer(utf8ToBytes(e,t.length-r),t,r,n)}function asciiWrite(t,e,r,n){return blitBuffer(asciiToBytes(e),t,r,n)}function binaryWrite(t,e,r,n){return asciiWrite(t,e,r,n)}function base64Write(t,e,r,n){return blitBuffer(base64ToBytes(e),t,r,n)}function ucs2Write(t,e,r,n){return blitBuffer(utf16leToBytes(e,t.length-r),t,r,n)}function base64Slice(t,e,r){return 0===e&&r===t.length?base64.fromByteArray(t):base64.fromByteArray(t.slice(e,r))}function utf8Slice(t,e,r){r=Math.min(t.length,r);for(var n=[],f=e;f<r;){var i=t[f],o=null,u=i>239?4:i>223?3:i>191?2:1;if(f+u<=r){var s,a,h,c;switch(u){case 1:i<128&&(o=i);break;case 2:s=t[f+1],128===(192&s)&&(c=(31&i)<<6|63&s,c>127&&(o=c));break;case 3:s=t[f+1],a=t[f+2],128===(192&s)&&128===(192&a)&&(c=(15&i)<<12|(63&s)<<6|63&a,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:s=t[f+1],a=t[f+2],h=t[f+3],128===(192&s)&&128===(192&a)&&128===(192&h)&&(c=(15&i)<<18|(63&s)<<12|(63&a)<<6|63&h,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),f+=u}return decodeCodePointsArray(n)}function decodeCodePointsArray(t){var e=t.length;if(e<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(t,e,r){var n="";r=Math.min(t.length,r);for(var f=e;f<r;f++)n+=String.fromCharCode(127&t[f]);return n}function binarySlice(t,e,r){var n="";r=Math.min(t.length,r);for(var f=e;f<r;f++)n+=String.fromCharCode(t[f]);return n}function hexSlice(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=e;i<r;i++)f+=toHex(t[i]);return f}function utf16leSlice(t,e,r){for(var n=t.slice(e,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,r,n,f,i){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>f||e<i)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range")}function objectWriteUInt16(t,e,r,n){e<0&&(e=65535+e+1);for(var f=0,i=Math.min(t.length-r,2);f<i;f++)t[r+f]=(e&255<<8*(n?f:1-f))>>>8*(n?f:1-f)}function objectWriteUInt32(t,e,r,n){e<0&&(e=4294967295+e+1);for(var f=0,i=Math.min(t.length-r,4);f<i;f++)t[r+f]=e>>>8*(n?f:3-f)&255}function checkIEEE754(t,e,r,n,f,i){if(e>f||e<i)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range");if(r<0)throw new RangeError("index out of range")}function writeFloat(t,e,r,n,f){return f||checkIEEE754(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(t,e,r,n,23,4),r+4}function writeDouble(t,e,r,n,f){return f||checkIEEE754(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(t,e,r,n,52,8),r+8}function base64clean(t){if(t=stringtrim(t).replace(INVALID_BASE64_RE,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function toHex(t){return t<16?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){e=e||1/0;for(var r,n=t.length,f=null,i=[],o=0;o<n;o++){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!f){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),f=r;continue}r=(f-55296<<10|r-56320)+65536}else f&&(e-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function utf16leToBytes(t,e){for(var r,n,f,i=[],o=0;o<t.length&&!((e-=2)<0);o++)r=t.charCodeAt(o),n=r>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(t){return base64.toByteArray(base64clean(t))}function blitBuffer(t,e,r,n){for(var f=0;f<n&&!(f+r>=e.length||f>=t.length);f++)e[f+r]=t[f];return f}var base64=_dereq_("base64-js"),ieee754=_dereq_("ieee754"),isArray=_dereq_("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192;var rootParent={};Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT?(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array):(Buffer.prototype.length=void 0,Buffer.prototype.parent=void 0),Buffer.isBuffer=function(t){return!(null==t||!t._isBuffer)},Buffer.compare=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,f=0,i=Math.min(r,n);f<i&&t[f]===e[f];)++f;return f!==i&&(r=t[f],n=e[f]),r<n?-1:n<r?1:0},Buffer.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(t,e){if(!isArray(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new Buffer(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;r++)e+=t[r].length;var n=new Buffer(e),f=0;for(r=0;r<t.length;r++){var i=t[r];i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function(){var t="",e=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:Buffer.compare(this,t)},Buffer.prototype.indexOf=function(t,e){function r(t,e,r){for(var n=-1,f=0;r+f<t.length;f++)if(t[r+f]===e[n===-1?0:f-n]){if(n===-1&&(n=f),f-n+1===e.length)return r+n}else n=-1;return-1}if(e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(e<0&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(Buffer.isBuffer(t))return r(this,t,e);if("number"==typeof t)return Buffer.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):r(this,[t],e);throw new TypeError("val must be string, number or Buffer")},Buffer.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},Buffer.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},Buffer.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var f=n;n=e,e=0|r,r=f}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return hexWrite(this,t,e,r);case"utf8":case"utf-8":return utf8Write(this,t,e,r);case"ascii":return asciiWrite(this,t,e,r);case"binary":return binaryWrite(this,t,e,r);case"base64":return base64Write(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);var n;if(Buffer.TYPED_ARRAY_SUPPORT)n=Buffer._augment(this.subarray(t,e));else{var f=e-t;n=new Buffer(f,void 0);for(var i=0;i<f;i++)n[i]=this[i+t]}return n.length&&(n.parent=this.parent||this),n},Buffer.prototype.readUIntLE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t],f=1,i=0;++i<e&&(f*=256);)n+=this[t+i]*f;return n},Buffer.prototype.readUIntBE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t+--e],f=1;e>0&&(f*=256);)n+=this[t+--e]*f;return n},Buffer.prototype.readUInt8=function(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t],f=1,i=0;++i<e&&(f*=256);)n+=this[t+i]*f;return f*=128,n>=f&&(n-=Math.pow(2,8*e)),n},Buffer.prototype.readIntBE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=e,f=1,i=this[t+--n];n>0&&(f*=256);)i+=this[t+--n]*f;return f*=128,i>=f&&(i-=Math.pow(2,8*e)),i},Buffer.prototype.readInt8=function(t,e){return e||checkOffset(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},Buffer.prototype.readInt16LE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function(t,e,r,n){t=+t,e=0|e,r=0|r,n||checkInt(this,t,e,r,Math.pow(2,8*r),0);var f=1,i=0;for(this[e]=255&t;++i<r&&(f*=256);)this[e+i]=t/f&255;return e+r},Buffer.prototype.writeUIntBE=function(t,e,r,n){t=+t,e=0|e,r=0|r,n||checkInt(this,t,e,r,Math.pow(2,8*r),0);var f=r-1,i=1;for(this[e+f]=255&t;--f>=0&&(i*=256);)this[e+f]=t/i&255;return e+r},Buffer.prototype.writeUInt8=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e=0|e,!n){var f=Math.pow(2,8*r-1);checkInt(this,t,e,r,f-1,-f)}var i=0,o=1,u=t<0?1:0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e=0|e,!n){var f=Math.pow(2,8*r-1);checkInt(this,t,e,r,f-1,-f)}var i=r-1,o=1,u=t<0?1:0;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeInt8=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function(t,e,r){return writeFloat(this,t,e,!0,r)},Buffer.prototype.writeFloatBE=function(t,e,r){return writeFloat(this,t,e,!1,r)},Buffer.prototype.writeDoubleLE=function(t,e,r){return writeDouble(this,t,e,!0,r)},Buffer.prototype.writeDoubleBE=function(t,e,r){return writeDouble(this,t,e,!1,r)},Buffer.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var f,i=n-r;if(this===t&&r<e&&e<n)for(f=i-1;f>=0;f--)t[f+e]=this[f+r];else if(i<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(f=0;f<i;f++)t[f+e]=this[f+r];else t._set(this.subarray(r,r+i),e);return i},Buffer.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),r<e)throw new RangeError("end < start");if(r!==e&&0!==this.length){if(e<0||e>=this.length)throw new RangeError("start out of bounds");if(r<0||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=e;n<r;n++)this[n]=t;else{var f=utf8ToBytes(t.toString()),i=f.length;for(n=e;n<r;n++)this[n]=f[n%i]}return this}},Buffer.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(Buffer.TYPED_ARRAY_SUPPORT)return new Buffer(this).buffer;for(var t=new Uint8Array(this.length),e=0,r=t.length;e<r;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype;Buffer._augment=function(t){return t.constructor=Buffer,t._isBuffer=!0,t._set=t.set,t.get=BP.get,t.set=BP.set,t.write=BP.write,t.toString=BP.toString,t.toLocaleString=BP.toString,t.toJSON=BP.toJSON,t.equals=BP.equals,t.compare=BP.compare,t.indexOf=BP.indexOf,t.copy=BP.copy,t.slice=BP.slice,t.readUIntLE=BP.readUIntLE,t.readUIntBE=BP.readUIntBE,t.readUInt8=BP.readUInt8,t.readUInt16LE=BP.readUInt16LE,t.readUInt16BE=BP.readUInt16BE,t.readUInt32LE=BP.readUInt32LE,t.readUInt32BE=BP.readUInt32BE,t.readIntLE=BP.readIntLE,t.readIntBE=BP.readIntBE,t.readInt8=BP.readInt8,t.readInt16LE=BP.readInt16LE,t.readInt16BE=BP.readInt16BE,t.readInt32LE=BP.readInt32LE,t.readInt32BE=BP.readInt32BE,t.readFloatLE=BP.readFloatLE,t.readFloatBE=BP.readFloatBE,t.readDoubleLE=BP.readDoubleLE,t.readDoubleBE=BP.readDoubleBE,t.writeUInt8=BP.writeUInt8,t.writeUIntLE=BP.writeUIntLE,t.writeUIntBE=BP.writeUIntBE,t.writeUInt16LE=BP.writeUInt16LE,t.writeUInt16BE=BP.writeUInt16BE,t.writeUInt32LE=BP.writeUInt32LE,t.writeUInt32BE=BP.writeUInt32BE,t.writeIntLE=BP.writeIntLE,t.writeIntBE=BP.writeIntBE,t.writeInt8=BP.writeInt8,t.writeInt16LE=BP.writeInt16LE,t.writeInt16BE=BP.writeInt16BE,t.writeInt32LE=BP.writeInt32LE,t.writeInt32BE=BP.writeInt32BE,t.writeFloatLE=BP.writeFloatLE,t.writeFloatBE=BP.writeFloatBE,t.writeDoubleLE=BP.writeDoubleLE,t.writeDoubleBE=BP.writeDoubleBE,t.fill=BP.fill,t.inspect=BP.inspect,t.toArrayBuffer=BP.toArrayBuffer,t};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"base64-js":2,"ieee754":3,"isarray":4}],2:[function(_dereq_,module,exports){
var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function r(t){var r=t.charCodeAt(0);return r===h||r===u?62:r===c||r===f?63:r<o?-1:r<o+10?r-o+26+26:r<i+26?r-i:r<A+26?r-A+26:void 0}function e(t){function e(t){i[f++]=t}var n,h,c,o,A,i;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=t.length;A="="===t.charAt(u-2)?2:"="===t.charAt(u-1)?1:0,i=new a(3*t.length/4-A),c=A>0?t.length-4:t.length;var f=0;for(n=0,h=0;n<c;n+=4,h+=3)o=r(t.charAt(n))<<18|r(t.charAt(n+1))<<12|r(t.charAt(n+2))<<6|r(t.charAt(n+3)),e((16711680&o)>>16),e((65280&o)>>8),e(255&o);return 2===A?(o=r(t.charAt(n))<<2|r(t.charAt(n+1))>>4,e(255&o)):1===A&&(o=r(t.charAt(n))<<10|r(t.charAt(n+1))<<4|r(t.charAt(n+2))>>2,e(o>>8&255),e(255&o)),i}function n(t){function r(t){return lookup.charAt(t)}function e(t){return r(t>>18&63)+r(t>>12&63)+r(t>>6&63)+r(63&t)}var n,a,h,c=t.length%3,o="";for(n=0,h=t.length-c;n<h;n+=3)a=(t[n]<<16)+(t[n+1]<<8)+t[n+2],o+=e(a);switch(c){case 1:a=t[t.length-1],o+=r(a>>2),o+=r(a<<4&63),o+="==";break;case 2:a=(t[t.length-2]<<8)+t[t.length-1],o+=r(a>>10),o+=r(a>>4&63),o+=r(a<<2&63),o+="="}return o}var a="undefined"!=typeof Uint8Array?Uint8Array:Array,h="+".charCodeAt(0),c="/".charCodeAt(0),o="0".charCodeAt(0),A="a".charCodeAt(0),i="A".charCodeAt(0),u="-".charCodeAt(0),f="_".charCodeAt(0);t.toByteArray=e,t.fromByteArray=n}("undefined"==typeof exports?this.base64js={}:exports);
},{}],3:[function(_dereq_,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:(s?-1:1)*(1/0);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],4:[function(_dereq_,module,exports){
var toString={}.toString;module.exports=Array.isArray||function(r){return"[object Array]"==toString.call(r)};
},{}],5:[function(_dereq_,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)t[u-1]=arguments[u];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],6:[function(_dereq_,module,exports){
void 0==CanvasRenderingContext2D.prototype.ellipse&&(CanvasRenderingContext2D.prototype.ellipse=function(t,r,n,e,o,i,a,s){this.save(),this.translate(t,r),this.rotate(o),this.scale(n,e),this.arc(0,0,1,i,a,s),this.restore()}),"function"!=typeof Path2D&&!function(){function t(t){if(this.ops_=[],void 0!=t)if("string"==typeof t)try{this.ops_=parser.parse(t)}catch(t){}else{if(!t.hasOwnProperty("ops_"))throw"Error: "+typeof t+"is not a valid argument to Path";this.ops_=t.ops_.slice(0)}}function r(t){return function(){this.ops_.push({type:t,args:Array.prototype.slice.call(arguments,0)})}}parser=function(){function t(t,r){function n(){this.constructor=t}n.prototype=r.prototype,t.prototype=new n}function r(t,r,n,e,o,i){this.message=t,this.expected=r,this.found=n,this.offset=e,this.line=o,this.column=i,this.name="SyntaxError"}function n(t){function n(r){function n(r,n,e){var o,i;for(o=n;o<e;o++)i=t.charAt(o),"\n"===i?(r.seenCR||r.line++,r.column=1,r.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(r.line++,r.column=1,r.seenCR=!0):(r.column++,r.seenCR=!1)}return Ar!==r&&(Ar>r&&(Ar=0,xr={line:1,column:1,seenCR:!1}),n(xr,Ar,r),Ar=r),xr}function e(t){Cr<Pr||(Cr>Pr&&(Pr=Cr,Rr=[]),Rr.push(t))}function o(e,o,i){function a(t){var r=1;for(t.sort(function(t,r){return t.description<r.description?-1:t.description>r.description?1:0});r<t.length;)t[r-1]===t[r]?t.splice(r,1):r++}function s(t,r){function n(t){function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+r(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+r(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+r(t)})}var e,o,i,a=new Array(t.length);for(i=0;i<t.length;i++)a[i]=t[i].description;return e=t.length>1?a.slice(0,-1).join(", ")+" or "+a[t.length-1]:a[0],o=r?'"'+n(r)+'"':"end of input","Expected "+e+" but "+o+" found."}var u=n(i),c=i<t.length?t.charAt(i):null;return null!==o&&a(o),new r(null!==e?e:s(o,c),o,c,i,u.line,u.column)}function i(){var t,r,n,e,o;for(t=Cr,r=[],n=B();n!==lt;)r.push(n),n=B();if(r!==lt)if(n=a(),n===lt&&(n=gt),n!==lt){for(e=[],o=B();o!==lt;)e.push(o),o=B();e!==lt?(_r=t,r=yt(n),t=r):(Cr=t,t=vt)}else Cr=t,t=vt;else Cr=t,t=vt;return t}function a(){var t,r,n,e,o;if(t=Cr,r=s(),r!==lt){for(n=Cr,e=[],o=B();o!==lt;)e.push(o),o=B();e!==lt?(o=a(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)}else Cr=t,t=vt;return t}function s(){var t,r,n,e,o;if(t=Cr,r=p(),r!==lt){for(n=Cr,e=[],o=B();o!==lt;)e.push(o),o=B();e!==lt?(o=u(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)}else Cr=t,t=vt;return t}function u(){var t,r,n,e,o;if(t=Cr,r=c(),r!==lt){for(n=Cr,e=[],o=B();o!==lt;)e.push(o),o=B();e!==lt?(o=u(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)}else Cr=t,t=vt;return t}function c(){var t;return t=f(),t===lt&&(t=h(),t===lt&&(t=g(),t===lt&&(t=d(),t===lt&&(t=C(),t===lt&&(t=x(),t===lt&&(t=M(),t===lt&&(t=T(),t===lt&&(t=b())))))))),t}function p(){var r,n,o,i;if(r=Cr,dt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(Ct)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=l(),i!==lt?(_r=r,n=_t(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function l(){var t,r,n,e,o;return t=Cr,r=q(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=v(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function f(){var r,n;return r=Cr,xt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(Pt)),n!==lt&&(_r=r,n=Rt()),r=n}function h(){var r,n,o,i;if(r=Cr,Mt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(wt)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=v(),i!==lt?(_r=r,n=Dt(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function v(){var t,r,n,e,o;return t=Cr,r=q(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=v(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function g(){var r,n,o,i;if(r=Cr,Tt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(mt)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=y(),i!==lt?(_r=r,n=bt(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function y(){var t,r,n,e,o;return t=Cr,r=E(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=y(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function d(){var r,n,o,i;if(r=Cr,Ft.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(kt)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=y(),i!==lt?(_r=r,n=qt(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function C(){var r,n,o,i;if(r=Cr,Et.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(St)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=_(),i!==lt?(_r=r,n=It(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function _(){var t,r,n,e,o;return t=Cr,r=A(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=_(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function A(){var t,r,n,e,o,i;return t=Cr,r=q(),r!==lt?(n=z(),n===lt&&(n=gt),n!==lt?(e=q(),e!==lt?(o=z(),o===lt&&(o=gt),o!==lt?(i=q(),i!==lt?(_r=t,r=Ot(r,e,i),t=r):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt),t}function x(){var r,n,o,i;if(r=Cr,zt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(jt)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=P(),i!==lt?(_r=r,n=Ht(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function P(){var t,r,n,e,o;return t=Cr,r=R(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=P(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function R(){var t,r,n,e;return t=Cr,r=q(),r!==lt?(n=z(),n===lt&&(n=gt),n!==lt?(e=q(),e!==lt?(_r=t,r=Qt(r,e),t=r):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt),t}function M(){var r,n,o,i;if(r=Cr,Vt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(Lt)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=w(),i!==lt?(_r=r,n=Zt(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function w(){var t,r,n,e,o;return t=Cr,r=D(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=w(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function D(){var t,r,n,e;return t=Cr,r=q(),r!==lt?(n=z(),n===lt&&(n=gt),n!==lt?(e=q(),e!==lt?(_r=t,r=Qt(r,e),t=r):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt),t}function T(){var r,n,o,i;if(r=Cr,Bt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(Ut)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=m(),i!==lt?(_r=r,n=Gt(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function m(){var t,r,n,e,o;return t=Cr,r=q(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=m(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function b(){var r,n,o,i;if(r=Cr,Jt.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(Kt)),n!==lt){for(o=[],i=B();i!==lt;)o.push(i),i=B();o!==lt?(i=F(),i!==lt?(_r=r,n=Nt(n,i),r=n):(Cr=r,r=vt)):(Cr=r,r=vt)}else Cr=r,r=vt;return r}function F(){var t,r,n,e,o;return t=Cr,r=k(),r!==lt?(n=Cr,e=z(),e===lt&&(e=gt),e!==lt?(o=F(),o!==lt?(e=[e,o],n=e):(Cr=n,n=vt)):(Cr=n,n=vt),n===lt&&(n=gt),n!==lt?(_r=t,r=At(r,n),t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t}function k(){var t,r,n,e,o,i,a,s,u,c,p,l;return t=Cr,r=S(),r!==lt?(n=z(),n===lt&&(n=gt),n!==lt?(e=S(),e!==lt?(o=z(),o===lt&&(o=gt),o!==lt?(i=I(),i!==lt?(a=z(),a!==lt?(s=O(),s!==lt?(u=z(),u===lt&&(u=gt),u!==lt?(c=O(),c!==lt?(p=z(),p===lt&&(p=gt),p!==lt?(l=q(),l!==lt?(_r=t,r=Wt(r,e,i,s,c,l),t=r):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt),t}function q(){var t,r,n,e;return t=Cr,r=E(),r!==lt?(n=z(),n===lt&&(n=gt),n!==lt?(e=E(),e!==lt?(_r=t,r=Xt(r,e),t=r):(Cr=t,t=vt)):(Cr=t,t=vt)):(Cr=t,t=vt),t}function E(){var t,r;return t=Cr,r=I(),r!==lt&&(_r=t,r=Yt(r)),t=r}function S(){var t;return t=H(),t===lt&&(t=Z()),t}function I(){var t,r,n;return t=Cr,r=L(),r===lt&&(r=gt),r!==lt?(n=H(),n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t===lt&&(t=Cr,r=L(),r===lt&&(r=gt),r!==lt?(n=Z(),n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)):(Cr=t,t=vt)),t}function O(){var r;return 48===t.charCodeAt(Cr)?(r=$t,Cr++):(r=lt,0===Mr&&e(tr)),r===lt&&(49===t.charCodeAt(Cr)?(r=rr,Cr++):(r=lt,0===Mr&&e(nr))),r}function z(){var t,r,n,e,o;if(t=Cr,r=[],n=B(),n!==lt)for(;n!==lt;)r.push(n),n=B();else r=vt;if(r!==lt)if(n=j(),n===lt&&(n=gt),n!==lt){for(e=[],o=B();o!==lt;)e.push(o),o=B();e!==lt?(r=[r,n,e],t=r):(Cr=t,t=vt)}else Cr=t,t=vt;else Cr=t,t=vt;if(t===lt)if(t=Cr,r=j(),r!==lt){for(n=[],e=B();e!==lt;)n.push(e),e=B();n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)}else Cr=t,t=vt;return t}function j(){var r;return 44===t.charCodeAt(Cr)?(r=er,Cr++):(r=lt,0===Mr&&e(or)),r}function H(){var t,r,n;return t=Cr,r=Q(),r!==lt?(n=V(),n===lt&&(n=gt),n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)):(Cr=t,t=vt),t===lt&&(t=Cr,r=Z(),r!==lt?(n=V(),n!==lt?(r=[r,n],t=r):(Cr=t,t=vt)):(Cr=t,t=vt)),t}function Q(){var r,n,o,i;return r=Cr,n=Z(),n===lt&&(n=gt),n!==lt?(46===t.charCodeAt(Cr)?(o=ir,Cr++):(o=lt,0===Mr&&e(ar)),o!==lt?(i=Z(),i!==lt?(n=[n,o,i],r=n):(Cr=r,r=vt)):(Cr=r,r=vt)):(Cr=r,r=vt),r===lt&&(r=Cr,n=Z(),n!==lt?(46===t.charCodeAt(Cr)?(o=ir,Cr++):(o=lt,0===Mr&&e(ar)),o!==lt?(n=[n,o],r=n):(Cr=r,r=vt)):(Cr=r,r=vt)),r}function V(){var r,n,o,i;return r=Cr,sr.test(t.charAt(Cr))?(n=t.charAt(Cr),Cr++):(n=lt,0===Mr&&e(ur)),n!==lt?(o=L(),o===lt&&(o=gt),o!==lt?(i=Z(),i!==lt?(n=[n,o,i],r=n):(Cr=r,r=vt)):(Cr=r,r=vt)):(Cr=r,r=vt),r}function L(){var r;return 43===t.charCodeAt(Cr)?(r=cr,Cr++):(r=lt,0===Mr&&e(pr)),r===lt&&(45===t.charCodeAt(Cr)?(r=lr,Cr++):(r=lt,0===Mr&&e(fr))),r}function Z(){var r,n,o;if(r=Cr,n=[],hr.test(t.charAt(Cr))?(o=t.charAt(Cr),Cr++):(o=lt,0===Mr&&e(vr)),o!==lt)for(;o!==lt;)n.push(o),hr.test(t.charAt(Cr))?(o=t.charAt(Cr),Cr++):(o=lt,0===Mr&&e(vr));else n=vt;return n!==lt&&(_r=r,n=gr(n)),r=n}function B(){var r;return yr.test(t.charAt(Cr))?(r=t.charAt(Cr),Cr++):(r=lt,0===Mr&&e(dr)),r}function U(t,r){return"mlazhvcsqt".indexOf(t)===-1?wr=r:(wr[0]+=r[0],wr[1]+=r[1]),br=t,wr.slice(0)}function G(t,r){for(var n=[],e=wr.slice(0),o=0;o<r.length;o+=2){wr=e.slice(0);var i=U(t,r.slice(o,o+2));n=n.concat(i),o==r.length-4&&(Dr=i.slice(0))}return n}function J(){"CcSsQqTt".indexOf(br)==-1&&(Dr=wr.slice(0));var t=[0,0];return t[0]=2*wr[0]-Dr[0],t[1]=2*wr[1]-Dr[1],t}function K(t,r){var n=[r,0];return"H"==t&&(n[1]=wr[1]),U(t,n)}function N(t,r){var n=[0,r];return"V"==t&&(n[0]=wr[0]),U(t,n)}function W(t,r){var n=[t];if(r&&r.length>1)for(var e=r[1],o=0;o<e.length;o++)n.push(e[o]);return n}function X(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function Y(t,r){return t[0]*r[0]+t[1]*r[1]}function $(t,r){return Y(t,r)/(X(t)*X(r))}function tt(t,r){var n=1;return t[0]*r[1]-t[1]*r[0]<0&&(n=-1),n*Math.acos($(t,r))}function rt(t,r){var n=Math.cos(r),e=Math.sin(r);return[n*t[0]+e*t[1],-1*e*t[0]+n*t[1]]}function nt(t,r){var n=Math.cos(r),e=Math.sin(r);return[n*t[0]-e*t[1],e*t[0]+n*t[1]]}function et(t,r){return[(t[0]-r[0])/2,(t[1]-r[1])/2]}function ot(t,r){return[(t[0]+r[0])/2,(t[1]+r[1])/2]}function it(t,r){return[t[0]*r[0],t[1]*r[1]]}function at(t,r){return[t*r[0],t*r[1]]}function st(t,r){return[t[0]+r[0],t[1]+r[1]]}function ut(t,r,n,e,o,i,a){if(0==r||0==n)return void Tr.push({type:"lineTo",args:a});var e=e*(Math.PI/180);r=Math.abs(r),n=Math.abs(n);var s=rt(et(t,a),e),u=it(s,s),c=Math.pow(r,2),p=Math.pow(n,2),l=Math.sqrt(u[0]/c+u[1]/p);l>1&&(r*=l,n*=l,c=Math.pow(r,2),p=Math.pow(n,2));var f=Math.sqrt((c*p-c*u[1]-p*u[0])/(c*u[1]+p*u[0]));o==i&&(f*=-1);var h=at(f,[r*s[1]/n,-n*s[0]/r]),v=st(nt(h,e),ot(t,a)),g=[(s[0]-h[0])/r,(s[1]-h[1])/n],y=[(-1*s[0]-h[0])/r,(-1*s[1]-h[1])/n],d=tt([1,0],g),C=tt(g,y),_=d,A=d+C;Tr.push({type:"save",args:[]},{type:"translate",args:[v[0],v[1]]},{type:"rotate",args:[e]},{type:"scale",args:[r,n]},{type:"arc",args:[0,0,1,_,A,1-i]},{type:"restore",args:[]})}var ct,pt=arguments.length>1?arguments[1]:{},lt={},ft={svg_path:i},ht=i,vt=lt,gt=null,yt=function(t){return Tr},dt=/^[Mm]/,Ct={type:"class",value:"[Mm]",description:"[Mm]"},_t=function(t,r){var n=t;mr&&(n="M",mr=!1),Tr.push({type:"moveTo",args:U(n,r[0])});for(var e=1;e<r.length;e++)Tr.push({type:"lineTo",args:U(t,r[e])})},At=function(t,r){return W(t,r)},xt=/^[Zz]/,Pt={type:"class",value:"[Zz]",description:"[Zz]"},Rt=function(){Tr.push({type:"closePath",args:[]})},Mt=/^[Ll]/,wt={type:"class",value:"[Ll]",description:"[Ll]"},Dt=function(t,r){for(var n=0;n<r.length;n++)Tr.push({type:"lineTo",args:U(t,r[n])})},Tt=/^[Hh]/,mt={type:"class",value:"[Hh]",description:"[Hh]"},bt=function(t,r){for(var n=0;n<r.length;n++)Tr.push({type:"lineTo",args:K(t,r[n])})},Ft=/^[Vv]/,kt={type:"class",value:"[Vv]",description:"[Vv]"},qt=function(t,r){for(var n=0;n<r.length;n++)Tr.push({type:"lineTo",args:N(t,r[n])})},Et=/^[Cc]/,St={type:"class",value:"[Cc]",description:"[Cc]"},It=function(t,r){for(var n=0;n<r.length;n++)Tr.push({type:"bezierCurveTo",args:G(t,r[n])})},Ot=function(t,r,n){return t.concat(r,n)},zt=/^[Ss]/,jt={type:"class",value:"[Ss]",description:"[Ss]"},Ht=function(t,r){for(var n=0;n<r.length;n++)Tr.push({type:"bezierCurveTo",args:J().concat(G(t,r[n]))})},Qt=function(t,r){return t.concat(r)},Vt=/^[Qq]/,Lt={type:"class",value:"[Qq]",description:"[Qq]"},Zt=function(t,r){for(var n=0;n<r.length;n++)Tr.push({type:"quadraticCurveTo",args:G(t,r[n])})},Bt=/^[Tt]/,Ut={type:"class",value:"[Tt]",description:"[Tt]"},Gt=function(t,r){for(var n=0;n<r.length;n++){var e=J();Tr.push({type:"quadraticCurveTo",args:e.concat(G(t,r[n]))}),Dr=e.slice(0)}},Jt=/^[Aa]/,Kt={type:"class",value:"[Aa]",description:"[Aa]"},Nt=function(t,r){for(var n=0;n<r.length;n++){var e=[wr.slice()],o=[U(t,r[n].slice(-2))];absArgs=e.concat(r[n].slice(0,-2),o),ut.apply(this,absArgs)}},Wt=function(t,r,n,e,o,i){return[parseFloat(t),parseFloat(r),parseFloat(n.join("")),parseInt(e),parseInt(o),i[0],i[1]]},Xt=function(t,r){return[t,r]},Yt=function(t){return parseFloat(t.join(""))},$t="0",tr={type:"literal",value:"0",description:'"0"'},rr="1",nr={type:"literal",value:"1",description:'"1"'},er=",",or={type:"literal",value:",",description:'","'},ir=".",ar={type:"literal",value:".",description:'"."'},sr=/^[eE]/,ur={type:"class",value:"[eE]",description:"[eE]"},cr="+",pr={type:"literal",value:"+",description:'"+"'},lr="-",fr={type:"literal",value:"-",description:'"-"'},hr=/^[0-9]/,vr={type:"class",value:"[0-9]",description:"[0-9]"},gr=function(t){return t.join("")},yr=/^[ \t\n\r]/,dr={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},Cr=0,_r=0,Ar=0,xr={line:1,column:1,seenCR:!1},Pr=0,Rr=[],Mr=0;if("startRule"in pt){if(!(pt.startRule in ft))throw new Error("Can't start parsing from rule \""+pt.startRule+'".');ht=ft[pt.startRule]}var wr=[0,0],Dr=[0,0],Tr=[],mr=!0,br="";if(ct=ht(),ct!==lt&&Cr===t.length)return ct;throw ct!==lt&&Cr<t.length&&e({type:"end",description:"end of input"}),o(null,Rr,Pr)}return t(r,Error),{SyntaxError:r,parse:n}}();for(var n=["closePath","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","rect","arc","arcTo","ellipse","isPointInPath","isPointInStroke"],e=0;e<n.length;e++){var o=n[e];t.prototype[o]=r(o)}t.prototype.addPath=function(t,r){var n=!1;r&&r.hasOwnProperty("a")&&r.hasOwnProperty("b")&&r.hasOwnProperty("c")&&r.hasOwnProperty("d")&&r.hasOwnProperty("e")&&r.hasOwnProperty("f")&&(n=!0,this.ops_.push({type:"save",args:[]}),this.ops_.push({type:"transform",args:[r.a,r.b,r.c,r.d,r.e,r.f]})),this.ops_=this.ops_.concat(t.ops_),n&&this.ops_.push({type:"restore",args:[]})},original_fill=CanvasRenderingContext2D.prototype.fill,original_stroke=CanvasRenderingContext2D.prototype.stroke,original_clip=CanvasRenderingContext2D.prototype.clip,original_is_point_in_path=CanvasRenderingContext2D.prototype.isPointInPath,original_is_point_in_stroke=CanvasRenderingContext2D.prototype.isPointInStroke,CanvasRenderingContext2D.prototype.fill=function(r){if(r instanceof t){this.beginPath();for(var n=0,e=r.ops_.length;n<e;n++){var o=r.ops_[n];CanvasRenderingContext2D.prototype[o.type].apply(this,o.args)}original_fill.apply(this,Array.prototype.slice.call(arguments,1))}else original_fill.apply(this,arguments)},CanvasRenderingContext2D.prototype.stroke=function(r){if(r instanceof t){this.beginPath();for(var n=0,e=r.ops_.length;n<e;n++){var o=r.ops_[n];CanvasRenderingContext2D.prototype[o.type].apply(this,o.args)}original_stroke.call(this)}else original_stroke.call(this)},CanvasRenderingContext2D.prototype.clip=function(r){if(r instanceof t){this.beginPath();for(var n=0,e=r.ops_.length;n<e;n++){var o=r.ops_[n];CanvasRenderingContext2D.prototype[o.type].apply(this,o.args)}original_clip.apply(this,Array.prototype.slice.call(arguments,1))}else original_clip.apply(this,arguments)},CanvasRenderingContext2D.prototype.isPointInPath=function(r){if(r instanceof t){this.beginPath();for(var n=0,e=r.ops_.length;n<e;n++){var o=r.ops_[n];CanvasRenderingContext2D.prototype[o.type].apply(this,o.args)}return original_is_point_in_path.apply(this,Array.prototype.slice.call(arguments,1))}return original_is_point_in_path.apply(this,arguments)},CanvasRenderingContext2D.prototype.isPointInStroke=function(r){if(r instanceof t){this.beginPath();for(var n=0,e=r.ops_.length;n<e;n++){var o=r.ops_[n];CanvasRenderingContext2D.prototype[o.type].apply(this,o.args)}return original_is_point_in_stroke.apply(this,Array.prototype.slice.call(arguments,1))}return original_is_point_in_stroke.apply(this,arguments)},Path2D=t}();
},{}],7:[function(_dereq_,module,exports){
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.d3_ease={})}(this,function(n){"use strict";function t(n){return+n}function e(n){return n*n}function u(n){return n*(2-n)}function r(n){return((n*=2)<=1?n*n:--n*(2-n)+1)/2}function a(n){return n*n*n}function o(n){return--n*n*n+1}function i(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}function c(n){return 1-Math.cos(n*y)}function s(n){return Math.sin(n*y)}function f(n){return(1-Math.cos(E*n))/2}function h(n){return Math.pow(2,10*n-10)}function p(n){return 1-Math.pow(2,-10*n)}function M(n){return((n*=2)<=1?Math.pow(2,10*n-10):2-Math.pow(2,10-10*n))/2}function I(n){return 1-Math.sqrt(1-n*n)}function d(n){return Math.sqrt(1- --n*n)}function O(n){return((n*=2)<=1?1-Math.sqrt(1-n*n):Math.sqrt(1-(n-=2)*n)+1)/2}function l(n){return 1-x(1-n)}function x(n){return(n=+n)<P?g*n*n:n<k?g*(n-=b)*n+q:n<S?g*(n-=Q)*n+j:g*(n-=L)*n+_}function w(n){return((n*=2)<=1?1-x(1-n):x(n-1)+1)/2}var m=3,v=function n(t){function e(n){return Math.pow(n,t)}return t=+t,e.exponent=n,e}(m),B=function n(t){function e(n){return 1-Math.pow(1-n,t)}return t=+t,e.exponent=n,e}(m),C=function n(t){function e(n){return((n*=2)<=1?Math.pow(n,t):2-Math.pow(2-n,t))/2}return t=+t,e.exponent=n,e}(m),E=Math.PI,y=E/2,P=4/11,b=6/11,k=8/11,q=.75,Q=9/11,S=10/11,j=.9375,L=21/22,_=63/64,g=1/P/P,z=1.70158,A=function n(t){function e(n){return n*n*((t+1)*n-t)}return t=+t,e.overshoot=n,e}(z),D=function n(t){function e(n){return--n*n*((t+1)*n+t)+1}return t=+t,e.overshoot=n,e}(z),F=function n(t){function e(n){return((n*=2)<1?n*n*((t+1)*n-t):(n-=2)*n*((t+1)*n+t)+2)/2}return t=+t,e.overshoot=n,e}(z),G=2*Math.PI,H=1,J=.3,K=function n(t,e){function u(n){return t*Math.pow(2,10*--n)*Math.sin((r-n)/e)}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=G);return u.amplitude=function(t){return n(t,e*G)},u.period=function(e){return n(t,e)},u}(H,J),N=function n(t,e){function u(n){return 1-t*Math.pow(2,-10*(n=+n))*Math.sin((n+r)/e)}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=G);return u.amplitude=function(t){return n(t,e*G)},u.period=function(e){return n(t,e)},u}(H,J),R=function n(t,e){function u(n){return((n=2*n-1)<0?t*Math.pow(2,10*n)*Math.sin((r-n)/e):2-t*Math.pow(2,-10*n)*Math.sin((r+n)/e))/2}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=G);return u.amplitude=function(t){return n(t,e*G)},u.period=function(e){return n(t,e)},u}(H,J),T="0.7.0";n.version=T,n.easeLinear=t,n.easeQuad=r,n.easeQuadIn=e,n.easeQuadOut=u,n.easeQuadInOut=r,n.easeCubic=i,n.easeCubicIn=a,n.easeCubicOut=o,n.easeCubicInOut=i,n.easePoly=C,n.easePolyIn=v,n.easePolyOut=B,n.easePolyInOut=C,n.easeSin=f,n.easeSinIn=c,n.easeSinOut=s,n.easeSinInOut=f,n.easeExp=M,n.easeExpIn=h,n.easeExpOut=p,n.easeExpInOut=M,n.easeCircle=O,n.easeCircleIn=I,n.easeCircleOut=d,n.easeCircleInOut=O,n.easeBounce=x,n.easeBounceIn=l,n.easeBounceOut=x,n.easeBounceInOut=w,n.easeBack=F,n.easeBackIn=A,n.easeBackOut=D,n.easeBackInOut=F,n.easeElastic=N,n.easeElasticIn=K,n.easeElasticOut=N,n.easeElasticInOut=R});
},{}],8:[function(_dereq_,module,exports){
!function(){function n(n){return n&&(n.ownerDocument||n.document||n).documentElement}function t(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function e(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function r(n){return null===n?NaN:+n}function i(n){return!isNaN(n)}function u(n){return{left:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var u=r+i>>>1;n(t[u],e)<0?r=u+1:i=u}return r},right:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var u=r+i>>>1;n(t[u],e)>0?i=u:r=u+1}return r}}}function o(n){return n.length}function a(n){for(var t=1;n*t%1;)t*=10;return t}function c(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function l(){this._=Object.create(null)}function f(n){return(n+="")===ho||n[0]===po?po+n:n}function s(n){return(n+="")[0]===po?n.slice(1):n}function h(n){return f(n)in this._}function p(n){return(n=f(n))in this._&&delete this._[n]}function g(){var n=[];for(var t in this._)n.push(s(t));return n}function v(){var n=0;for(var t in this._)++n;return n}function d(){for(var n in this._)return!1;return!0}function y(){this._=Object.create(null)}function m(n){return n}function M(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function x(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=go.length;e<r;++e){var i=go[e]+t;if(i in n)return i}}function b(){}function _(){}function w(n){function t(){for(var t,r=e,i=-1,u=r.length;++i<u;)(t=r[i].on)&&t.apply(this,arguments);return n}var e=[],r=new l;return t.on=function(t,i){var u,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,u=e.indexOf(o)).concat(e.slice(u+1)),r.remove(t)),i&&e.push(r.set(t,{on:i})),n)},t}function S(){to.event.preventDefault()}function k(){for(var n,t=to.event;n=t.sourceEvent;)t=n;return t}function N(n){for(var t=new _,e=0,r=arguments.length;++e<r;)t[arguments[e]]=w(t);return t.of=function(e,r){return function(i){try{var u=i.sourceEvent=to.event;i.target=n,to.event=i,t[i.type].apply(e,r)}finally{to.event=u}}},t}function E(n){return yo(n,bo),n}function A(n){return"function"==typeof n?n:function(){return mo(n,this)}}function C(n){return"function"==typeof n?n:function(){return Mo(n,this)}}function z(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function i(){this.setAttribute(n,t)}function u(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=to.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?u:i}function q(n){return n.trim().replace(/\s+/g," ")}function L(n){return new RegExp("(?:^|\\s+)"+to.requote(n)+"(?:\\s+|$)","g")}function T(n){return(n+"").trim().split(/^|\s+/)}function R(n,t){function e(){for(var e=-1;++e<i;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<i;)n[e](this,r)}n=T(n).map(D);var i=n.length;return"function"==typeof t?r:e}function D(n){var t=L(n);return function(e,r){if(i=e.classList)return r?i.add(n):i.remove(n);var i=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||e.setAttribute("class",q(i+" "+n))):e.setAttribute("class",q(i.replace(t," ")))}}function P(n,t,e){function r(){this.style.removeProperty(n)}function i(){this.style.setProperty(n,t,e)}function u(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?u:i}function U(n,t){function e(){delete this[n]}function r(){this[n]=t}function i(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?i:r}function j(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e?t.createElementNS(e,n):t.createElement(n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=to.ns.qualify(n)).local?e:t}function F(){var n=this.parentNode;n&&n.removeChild(this)}function H(n){return{__data__:n}}function O(n){return function(){return xo(this,n)}}function I(n){return arguments.length||(n=e),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function Y(n,t){for(var e=0,r=n.length;e<r;e++)for(var i,u=n[e],o=0,a=u.length;o<a;o++)(i=u[o])&&t(i,o,e);return n}function Z(n){return yo(n,wo),n}function V(n){var t,e;return function(r,i,u){var o,a=n[u].update,c=a.length;for(u!=e&&(e=u,t=0),i>=t&&(t=i+1);!(o=a[t])&&++t<c;);return o}}function X(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function i(){var i=c(t,ro(arguments));r.call(this),this.addEventListener(n,this[o]=i,i.$=e),i._=t}function u(){var t,e=new RegExp("^__on([^.]+)"+to.requote(n)+"$");for(var r in this)if(t=r.match(e)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var o="__on"+n,a=n.indexOf("."),c=$;a>0&&(n=n.slice(0,a));var l=So.get(n);return l&&(n=l,c=B),a?t?i:r:t?b:u}function $(n,t){return function(e){var r=to.event;to.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{to.event=r}}}function B(n,t){var e=$(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function W(e){var r=".dragsuppress-"+ ++No,i="click"+r,u=to.select(t(e)).on("touchmove"+r,S).on("dragstart"+r,S).on("selectstart"+r,S);if(null==ko&&(ko=!("onselectstart"in e)&&x(e.style,"userSelect")),ko){var o=n(e).style,a=o[ko];o[ko]="none"}return function(n){if(u.on(r,null),ko&&(o[ko]=a),n){var t=function(){u.on(i,null)};u.on(i,function(){S(),t()},!0),setTimeout(t,0)}}}function J(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();if(Eo<0){var u=t(n);if(u.scrollX||u.scrollY){r=to.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Eo=!(o.f||o.e),r.remove()}}return Eo?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}function G(){return to.event.changedTouches[0].identifier}function K(n){return n>0?1:n<0?-1:0}function Q(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nn(n){return n>1?0:n<-1?zo:Math.acos(n)}function tn(n){return n>1?To:n<-1?-To:Math.asin(n)}function en(n){return((n=Math.exp(n))-1/n)/2}function rn(n){return((n=Math.exp(n))+1/n)/2}function un(n){return((n=Math.exp(2*n))-1)/(n+1)}function on(n){return(n=Math.sin(n/2))*n}function an(){}function cn(n,t,e){return this instanceof cn?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof cn?new cn(n.h,n.s,n.l):_n(""+n,wn,cn):new cn(n,t,e)}function ln(n,t,e){function r(n){return n>360?n-=360:n<0&&(n+=360),n<60?u+(o-u)*n/60:n<180?o:n<240?u+(o-u)*(240-n)/60:u}function i(n){return Math.round(255*r(n))}var u,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:t<0?0:t>1?1:t,e=e<0?0:e>1?1:e,o=e<=.5?e*(1+t):e+t-e*t,u=2*e-o,new mn(i(n+120),i(n),i(n-120))}function fn(n,t,e){return this instanceof fn?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof fn?new fn(n.h,n.c,n.l):n instanceof hn?gn(n.l,n.a,n.b):gn((n=Sn((n=to.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new fn(n,t,e)}function sn(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new hn(e,Math.cos(n*=Ro)*t,Math.sin(n)*t)}function hn(n,t,e){return this instanceof hn?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof hn?new hn(n.l,n.a,n.b):n instanceof fn?sn(n.h,n.c,n.l):Sn((n=mn(n)).r,n.g,n.b):new hn(n,t,e)}function pn(n,t,e){var r=(n+16)/116,i=r+t/500,u=r-e/200;return i=vn(i)*Vo,r=vn(r)*Xo,u=vn(u)*$o,new mn(yn(3.2404542*i-1.5371385*r-.4985314*u),yn(-.969266*i+1.8760108*r+.041556*u),yn(.0556434*i-.2040259*r+1.0572252*u))}function gn(n,t,e){return n>0?new fn(Math.atan2(e,t)*Do,Math.sqrt(t*t+e*e),n):new fn(NaN,NaN,n)}function vn(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function dn(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function yn(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function mn(n,t,e){return this instanceof mn?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof mn?new mn(n.r,n.g,n.b):_n(""+n,mn,ln):new mn(n,t,e)}function Mn(n){return new mn(n>>16,n>>8&255,255&n)}function xn(n){return Mn(n)+""}function bn(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function _n(n,t,e){var r,i,u,o=0,a=0,c=0;if(r=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Nn(i[0]),Nn(i[1]),Nn(i[2]))}return(u=Jo.get(n))?t(u.r,u.g,u.b):(null==n||"#"!==n.charAt(0)||isNaN(u=parseInt(n.slice(1),16))||(4===n.length?(o=(3840&u)>>4,o=o>>4|o,a=240&u,a=a>>4|a,c=15&u,c=c<<4|c):7===n.length&&(o=(16711680&u)>>16,a=(65280&u)>>8,c=255&u)),t(o,a,c))}function wn(n,t,e){var r,i,u=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-u,c=(o+u)/2;return a?(i=c<.5?a/(o+u):a/(2-o-u),r=n==o?(t-e)/a+(t<e?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=NaN,i=c>0&&c<1?0:r),new cn(r,i,c)}function Sn(n,t,e){n=kn(n),t=kn(t),e=kn(e);var r=dn((.4124564*n+.3575761*t+.1804375*e)/Vo),i=dn((.2126729*n+.7151522*t+.072175*e)/Xo),u=dn((.0193339*n+.119192*t+.9503041*e)/$o);return hn(116*i-16,500*(r-i),200*(i-u))}function kn(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Nn(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function En(n){return"function"==typeof n?n:function(){return n}}function An(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Cn(t,e,n,r)}}function Cn(n,t,e,r){function i(){var n,t=c.status;if(!t&&qn(c)||t>=200&&t<300||304===t){try{n=e.call(u,c)}catch(n){return void o.error.call(u,n)}o.load.call(u,n)}else o.error.call(u,c)}var u={},o=to.dispatch("beforesend","progress","load","error"),a={},c=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(n)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=i:c.onreadystatechange=function(){c.readyState>3&&i()},c.onprogress=function(n){var t=to.event;to.event=n;try{o.progress.call(u,c)}finally{to.event=t}},u.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",u)},u.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",u):t},u.responseType=function(n){return arguments.length?(l=n,u):l},u.response=function(n){return e=n,u},["get","post"].forEach(function(n){u[n]=function(){return u.send.apply(u,[n].concat(ro(arguments)))}}),u.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),c.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),c.setRequestHeader)for(var f in a)c.setRequestHeader(f,a[f]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=l&&(c.responseType=l),null!=i&&u.on("error",i).on("load",function(n){i(null,n)}),o.beforesend.call(u,c),c.send(null==r?null:r),u},u.abort=function(){return c.abort(),u},to.rebind(u,o,"on"),null==r?u:u.get(zn(r))}function zn(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function qn(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function Ln(){var n=Tn(),t=Rn()-n;t>24?(isFinite(t)&&(clearTimeout(na),na=setTimeout(Ln,t)),Qo=0):(Qo=1,ea(Ln))}function Tn(){var n=Date.now();for(ta=Go;ta;)n>=ta.t&&(ta.f=ta.c(n-ta.t)),ta=ta.n;return n}function Rn(){for(var n,t=Go,e=1/0;t;)t.f?t=n?n.n=t.n:Go=t.n:(t.t<e&&(e=t.t),t=(n=t).n);return Ko=n,e}function Dn(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Pn(n,t){var e=Math.pow(10,3*so(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function Un(n){var t=n.decimal,e=n.thousands,r=n.grouping,i=n.currency,u=r&&e?function(n,t){for(var i=n.length,u=[],o=0,a=r[0],c=0;i>0&&a>0&&(c+a+1>t&&(a=Math.max(1,t-c)),u.push(n.substring(i-=a,i+a)),!((c+=a+1)>t));)a=r[o=(o+1)%r.length];return u.reverse().join(e)}:m;return function(n){var e=ia.exec(n),r=e[1]||" ",o=e[2]||">",a=e[3]||"-",c=e[4]||"",l=e[5],f=+e[6],s=e[7],h=e[8],p=e[9],g=1,v="",d="",y=!1,m=!0;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===o)&&(l=r="0",o="="),p){case"n":s=!0,p="g";break;case"%":g=100,d="%",p="f";break;case"p":g=100,d="%",p="r";break;case"b":case"o":case"x":case"X":"#"===c&&(v="0"+p.toLowerCase());case"c":m=!1;case"d":y=!0,h=0;break;case"s":g=-1,p="r"}"$"===c&&(v=i[0],d=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=ua.get(p)||jn;var M=l&&s;return function(n){var e=d;if(y&&n%1)return"";var i=n<0||0===n&&1/n<0?(n=-n,"-"):"-"===a?"":a;if(g<0){var c=to.formatPrefix(n,h);n=c.scale(n),e=c.symbol+d}else n*=g;n=p(n,h);var x,b,_=n.lastIndexOf(".");if(_<0){var w=m?n.lastIndexOf("e"):-1;w<0?(x=n,b=""):(x=n.substring(0,w),b=n.substring(w))}else x=n.substring(0,_),b=t+n.substring(_+1);!l&&s&&(x=u(x,1/0));var S=v.length+x.length+b.length+(M?0:i.length),k=S<f?new Array(S=f-S+1).join(r):"";return M&&(x=u(k+x,k.length?f-b.length:1/0)),i+=v,n=x+b,("<"===o?i+n+k:">"===o?k+i+n:"^"===o?k.substring(0,S>>=1)+i+n+k.substring(S):i+(M?n:k+n))+e}}}function jn(n){return n+""}function Fn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Hn(n,t,e){function r(t){var e=n(t),r=u(e,1);return t-e<r-t?e:r}function i(e){return t(e=n(new aa(e-1)),1),e}function u(n,e){return t(n=new aa(+n),e),n}function o(n,r,u){var o=i(n),a=[];if(u>1)for(;o<r;)e(o)%u||a.push(new Date(+o)),t(o,1);else for(;o<r;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{aa=Fn;var r=new Fn;return r._=n,o(r,t,e)}finally{aa=Date}}n.floor=n,n.round=r,n.ceil=i,n.offset=u,n.range=o;var c=n.utc=On(n);return c.floor=c,c.round=On(r),c.ceil=On(i),c.offset=On(u),c.range=a,n}function On(n){return function(t,e){try{aa=Fn;var r=new Fn;return r._=t,n(r,e)._}finally{aa=Date}}}function In(n){function t(n){function t(t){for(var e,i,u,o=[],a=-1,c=0;++a<r;)37===n.charCodeAt(a)&&(o.push(n.slice(c,a)),null!=(i=la[e=n.charAt(++a)])&&(e=n.charAt(++a)),(u=A[e])&&(e=u(t,null==i?"e"===e?" ":"0":i)),o.push(e),c=a+1);return o.push(n.slice(c,a)),o.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=e(r,n,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var u=null!=r.Z&&aa!==Fn,o=new(u?Fn:aa);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),u?o._:o},t.toString=function(){return n},t}function e(n,t,e,r){for(var i,u,o,a=0,c=t.length,l=e.length;a<c;){if(r>=l)return-1;if(i=t.charCodeAt(a++),37===i){if(o=t.charAt(a++),u=C[o in la?t.charAt(a++):o],!u||(r=u(n,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){N.lastIndex=0;var r=N.exec(t.slice(e));return r?(n.m=E.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){S.lastIndex=0;var r=S.exec(t.slice(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,A.c.toString(),t,r)}function c(n,t,r){return e(n,A.x.toString(),t,r)}function l(n,t,r){return e(n,A.X.toString(),t,r)}function f(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var s=n.dateTime,h=n.date,p=n.time,g=n.periods,v=n.days,d=n.shortDays,y=n.months,m=n.shortMonths;t.utc=function(n){function e(n){try{aa=Fn;var t=new aa;return t._=n,r(t)}finally{aa=Date}}var r=t(n);return e.parse=function(n){try{aa=Fn;var t=r.parse(n);return t&&t._}finally{aa=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ct;var M=to.map(),x=Zn(v),b=Vn(v),_=Zn(d),w=Vn(d),S=Zn(y),k=Vn(y),N=Zn(m),E=Vn(m);g.forEach(function(n,t){M.set(n.toLowerCase(),t)});var A={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return m[n.getMonth()]},B:function(n){return y[n.getMonth()]},c:t(s),d:function(n,t){return Yn(n.getDate(),t,2)},e:function(n,t){return Yn(n.getDate(),t,2)},H:function(n,t){return Yn(n.getHours(),t,2)},I:function(n,t){return Yn(n.getHours()%12||12,t,2)},j:function(n,t){return Yn(1+oa.dayOfYear(n),t,3)},L:function(n,t){return Yn(n.getMilliseconds(),t,3)},m:function(n,t){return Yn(n.getMonth()+1,t,2)},M:function(n,t){return Yn(n.getMinutes(),t,2)},p:function(n){return g[+(n.getHours()>=12)]},S:function(n,t){return Yn(n.getSeconds(),t,2)},U:function(n,t){return Yn(oa.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Yn(oa.mondayOfYear(n),t,2)},x:t(h),X:t(p),y:function(n,t){return Yn(n.getFullYear()%100,t,2)},Y:function(n,t){return Yn(n.getFullYear()%1e4,t,4)},Z:ot,"%":function(){return"%"}},C={a:r,A:i,b:u,B:o,c:a,d:nt,e:nt,H:et,I:et,j:tt,L:ut,m:Qn,M:rt,p:f,S:it,U:$n,w:Xn,W:Bn,x:c,X:l,y:Jn,Y:Wn,Z:Gn,"%":at};return t}function Yn(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",u=i.length;return r+(u<e?new Array(e-u+1).join(t)+i:i)}function Zn(n){return new RegExp("^(?:"+n.map(to.requote).join("|")+")","i")}function Vn(n){for(var t=new l,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function Xn(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function $n(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function Bn(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Wn(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Jn(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+2));return r?(n.y=Kn(+r[0]),e+r[0].length):-1}function Gn(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Kn(n){return n+(n>68?1900:2e3)}function Qn(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function nt(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function tt(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function et(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function rt(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function it(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ut(n,t,e){fa.lastIndex=0;var r=fa.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function ot(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=so(t)/60|0,i=so(t)%60;return e+Yn(r,"0",2)+Yn(i,"0",2)}function at(n,t,e){sa.lastIndex=0;var r=sa.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ct(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function lt(){}function ft(n,t,e){var r=e.s=n+t,i=r-n,u=r-i;e.t=n-u+(t-i)}function st(n,t){n&&va.hasOwnProperty(n.type)&&va[n.type](n,t)}function ht(n,t,e){var r,i=-1,u=n.length-e;for(t.lineStart();++i<u;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function pt(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)ht(n[e],t,1);t.polygonEnd()}function gt(){function n(n,t){n*=Ro,t=t*Ro/2+zo/4;var e=n-r,o=e>=0?1:-1,a=o*e,c=Math.cos(t),l=Math.sin(t),f=u*l,s=i*c+f*Math.cos(a),h=f*o*Math.sin(a);ya.add(Math.atan2(h,s)),r=n,i=c,u=l}var t,e,r,i,u;ma.point=function(o,a){ma.point=n,r=(t=o)*Ro,i=Math.cos(a=(e=a)*Ro/2+zo/4),u=Math.sin(a)},ma.lineEnd=function(){n(t,e)}}function vt(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function dt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function yt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function mt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Mt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function xt(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function bt(n){return[Math.atan2(n[1],n[0]),tn(n[2])]}function _t(n,t){return so(n[0]-t[0])<Ao&&so(n[1]-t[1])<Ao}function wt(n,t){n*=Ro;var e=Math.cos(t*=Ro);St(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function St(n,t,e){++Ma,ba+=(n-ba)/Ma,_a+=(t-_a)/Ma,wa+=(e-wa)/Ma}function kt(){function n(n,i){n*=Ro;var u=Math.cos(i*=Ro),o=u*Math.cos(n),a=u*Math.sin(n),c=Math.sin(i),l=Math.atan2(Math.sqrt((l=e*c-r*a)*l+(l=r*o-t*c)*l+(l=t*a-e*o)*l),t*o+e*a+r*c);xa+=l,Sa+=l*(t+(t=o)),ka+=l*(e+(e=a)),Na+=l*(r+(r=c)),St(t,e,r)}var t,e,r;za.point=function(i,u){i*=Ro;var o=Math.cos(u*=Ro);t=o*Math.cos(i),e=o*Math.sin(i),r=Math.sin(u),za.point=n,St(t,e,r)}}function Nt(){za.point=wt}function Et(){function n(n,t){n*=Ro;var e=Math.cos(t*=Ro),o=e*Math.cos(n),a=e*Math.sin(n),c=Math.sin(t),l=i*c-u*a,f=u*o-r*c,s=r*a-i*o,h=Math.sqrt(l*l+f*f+s*s),p=r*o+i*a+u*c,g=h&&-nn(p)/h,v=Math.atan2(h,p);Ea+=g*l,Aa+=g*f,Ca+=g*s,xa+=v,Sa+=v*(r+(r=o)),ka+=v*(i+(i=a)),Na+=v*(u+(u=c)),St(r,i,u)}var t,e,r,i,u;za.point=function(o,a){t=o,e=a,za.point=n,o*=Ro;var c=Math.cos(a*=Ro);r=c*Math.cos(o),i=c*Math.sin(o),u=Math.sin(a),St(r,i,u)},za.lineEnd=function(){n(t,e),za.lineEnd=Nt,za.point=wt}}function At(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function Ct(){return!0}function zt(n,t,e,r,i){var u=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(_t(e,r)){i.lineStart();for(var a=0;a<t;++a)i.point((e=n[a])[0],e[1]);return void i.lineEnd()}var c=new Lt(e,n,null,!0),l=new Lt(e,null,c,!1);c.o=l,u.push(c),o.push(l),c=new Lt(r,n,null,!1),l=new Lt(r,null,c,!0),c.o=l,u.push(c),o.push(l)}}),o.sort(t),qt(u),qt(o),u.length){for(var a=0,c=e,l=o.length;a<l;++a)o[a].e=c=!c;for(var f,s,h=u[0];;){for(var p=h,g=!0;p.v;)if((p=p.n)===h)return;f=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(g)for(var a=0,l=f.length;a<l;++a)i.point((s=f[a])[0],s[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(g){f=p.p.z;for(var a=f.length-1;a>=0;--a)i.point((s=f[a])[0],s[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,f=p.z,g=!g}while(!p.v);i.lineEnd()}}}function qt(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function Lt(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Tt(n,t,e,r){return function(i,u){function o(t,e){var r=i(t,e);n(t=r[0],e=r[1])&&u.point(t,e)}function a(n,t){var e=i(n,t);d.point(e[0],e[1])}function c(){m.point=a,d.lineStart()}function l(){m.point=o,d.lineEnd()}function f(n,t){v.push([n,t]);var e=i(n,t);x.point(e[0],e[1])}function s(){x.lineStart(),v=[]}function h(){f(v[0][0],v[0][1]),x.lineEnd();var n,t=x.clean(),e=M.buffer(),r=e.length;if(v.pop(),g.push(v),v=null,r)if(1&t){n=e[0];var i,r=n.length-1,o=-1;if(r>0){for(b||(u.polygonStart(),b=!0),u.lineStart();++o<r;)u.point((i=n[o])[0],i[1]);u.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),p.push(e.filter(Rt))}var p,g,v,d=t(u),y=i.invert(r[0],r[1]),m={point:o,lineStart:c,lineEnd:l,polygonStart:function(){m.point=f,m.lineStart=s,m.lineEnd=h,p=[],g=[]},polygonEnd:function(){m.point=o,m.lineStart=c,m.lineEnd=l,p=to.merge(p);var n=Ht(y,g);p.length?(b||(u.polygonStart(),b=!0),zt(p,Pt,n,e,u)):n&&(b||(u.polygonStart(),b=!0),u.lineStart(),e(null,null,1,u),u.lineEnd()),b&&(u.polygonEnd(),b=!1),p=g=null},sphere:function(){u.polygonStart(),u.lineStart(),e(null,null,1,u),u.lineEnd(),u.polygonEnd()}},M=Dt(),x=t(M),b=!1;return m}}function Rt(n){return n.length>1}function Dt(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Pt(n,t){return((n=n.x)[0]<0?n[1]-To-Ao:To-n[1])-((t=t.x)[0]<0?t[1]-To-Ao:To-t[1])}function Ut(n){var t,e=NaN,r=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(u,o){var a=u>0?zo:-zo,c=so(u-e);so(c-zo)<Ao?(n.point(e,r=(r+o)/2>0?To:-To),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(u,r),t=0):i!==a&&c>=zo&&(so(e-i)<Ao&&(e-=i*Ao),so(u-a)<Ao&&(u-=a*Ao),r=jt(e,r,u,o),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=u,r=o),i=a},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}function jt(n,t,e,r){var i,u,o=Math.sin(n-e);return so(o)>Ao?Math.atan((Math.sin(t)*(u=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(t))*Math.sin(n))/(i*u*o)):(t+r)/2}function Ft(n,t,e,r){var i;if(null==n)i=e*To,r.point(-zo,i),r.point(0,i),r.point(zo,i),r.point(zo,0),r.point(zo,-i),r.point(0,-i),r.point(-zo,-i),r.point(-zo,0),r.point(-zo,i);else if(so(n[0]-t[0])>Ao){var u=n[0]<t[0]?zo:-zo;i=e*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else r.point(t[0],t[1])}function Ht(n,t){var e=n[0],r=n[1],i=[Math.sin(e),-Math.cos(e),0],u=0,o=0;ya.reset();for(var a=0,c=t.length;a<c;++a){var l=t[a],f=l.length;if(f)for(var s=l[0],h=s[0],p=s[1]/2+zo/4,g=Math.sin(p),v=Math.cos(p),d=1;;){d===f&&(d=0),n=l[d];var y=n[0],m=n[1]/2+zo/4,M=Math.sin(m),x=Math.cos(m),b=y-h,_=b>=0?1:-1,w=_*b,S=w>zo,k=g*M;if(ya.add(Math.atan2(k*_*Math.sin(w),v*x+k*Math.cos(w))),u+=S?b+_*qo:b,S^h>=e^y>=e){var N=yt(vt(s),vt(n));xt(N);var E=yt(i,N);xt(E);var A=(S^b>=0?-1:1)*tn(E[2]);(r>A||r===A&&(N[0]||N[1]))&&(o+=S^b>=0?1:-1)}if(!d++)break;h=y,g=M,v=x,s=n}}return(u<-Ao||u<Ao&&ya<0)^1&o}function Ot(n){function t(n,t){return Math.cos(n)*Math.cos(t)>u}function e(n){var e,u,c,l,f;return{lineStart:function(){l=c=!1,f=1},point:function(s,h){var p,g=[s,h],v=t(s,h),d=o?v?0:i(s,h):v?i(s+(s<0?zo:-zo),h):0;if(!e&&(l=c=v)&&n.lineStart(),v!==c&&(p=r(e,g),(_t(e,p)||_t(g,p))&&(g[0]+=Ao,g[1]+=Ao,v=t(g[0],g[1]))),v!==c)f=0,v?(n.lineStart(),p=r(g,e),n.point(p[0],p[1])):(p=r(e,g),n.point(p[0],p[1]),n.lineEnd()),e=p;else if(a&&e&&o^v){var y;d&u||!(y=r(g,e,!0))||(f=0,o?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1])))}!v||e&&_t(e,g)||n.point(g[0],g[1]),e=g,c=v,u=d},lineEnd:function(){c&&n.lineEnd(),e=null},clean:function(){return f|(l&&c)<<1}}}function r(n,t,e){var r=vt(n),i=vt(t),o=[1,0,0],a=yt(r,i),c=dt(a,a),l=a[0],f=c-l*l;if(!f)return!e&&n;var s=u*c/f,h=-u*l/f,p=yt(o,a),g=Mt(o,s),v=Mt(a,h);mt(g,v);var d=p,y=dt(g,d),m=dt(d,d),M=y*y-m*(dt(g,g)-1);if(!(M<0)){var x=Math.sqrt(M),b=Mt(d,(-y-x)/m);if(mt(b,g),b=bt(b),!e)return b;var _,w=n[0],S=t[0],k=n[1],N=t[1];S<w&&(_=w,w=S,S=_);var E=S-w,A=so(E-zo)<Ao,C=A||E<Ao;if(!A&&N<k&&(_=k,k=N,N=_),C?A?k+N>0^b[1]<(so(b[0]-w)<Ao?k:N):k<=b[1]&&b[1]<=N:E>zo^(w<=b[0]&&b[0]<=S)){var z=Mt(d,(-y+x)/m);return mt(z,g),[b,bt(z)]}}}function i(t,e){var r=o?n:zo-n,i=0;return t<-r?i|=1:t>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var u=Math.cos(n),o=u>0,a=so(u)>Ao,c=ge(n,6*Ro);return Tt(t,e,c,o?[0,-n]:[-zo,n-zo])}function It(n,t,e,r){return function(i){var u,o=i.a,a=i.b,c=o.x,l=o.y,f=a.x,s=a.y,h=0,p=1,g=f-c,v=s-l;if(u=n-c,g||!(u>0)){if(u/=g,g<0){if(u<h)return;u<p&&(p=u)}else if(g>0){if(u>p)return;u>h&&(h=u)}if(u=e-c,g||!(u<0)){if(u/=g,g<0){if(u>p)return;u>h&&(h=u)}else if(g>0){if(u<h)return;u<p&&(p=u)}if(u=t-l,v||!(u>0)){if(u/=v,v<0){if(u<h)return;u<p&&(p=u)}else if(v>0){if(u>p)return;u>h&&(h=u)}if(u=r-l,v||!(u<0)){if(u/=v,v<0){if(u>p)return;u>h&&(h=u)}else if(v>0){if(u<h)return;u<p&&(p=u)}return h>0&&(i.a={x:c+h*g,y:l+h*v}),p<1&&(i.b={x:c+p*g,y:l+p*v}),i}}}}}}function Yt(n,t,e,r){function i(r,i){return so(r[0]-n)<Ao?i>0?0:3:so(r[0]-e)<Ao?i>0?2:1:so(r[1]-t)<Ao?i>0?1:0:i>0?3:2}function u(n,t){return o(n.x,t.x)}function o(n,t){var e=i(n,1),r=i(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function c(n){for(var t=0,e=d.length,r=n[1],i=0;i<e;++i)for(var u,o=1,a=d[i],c=a.length,l=a[0];o<c;++o)u=a[o],l[1]<=r?u[1]>r&&Q(l,u,n)>0&&++t:u[1]<=r&&Q(l,u,n)<0&&--t,l=u;return 0!==t}function l(u,a,c,l){var f=0,s=0;if(null==u||(f=i(u,c))!==(s=i(a,c))||o(u,a)<0^c>0){do l.point(0===f||3===f?n:e,f>1?r:t);while((f=(f+c+4)%4)!==s)}else l.point(a[0],a[1])}function f(i,u){return n<=i&&i<=e&&t<=u&&u<=r}function s(n,t){f(n,t)&&a.point(n,t)}function h(){C.point=g,d&&d.push(y=[]),S=!0,w=!1,b=_=NaN}function p(){v&&(g(m,M),x&&w&&E.rejoin(),v.push(E.buffer())),C.point=s,w&&a.lineEnd()}function g(n,t){n=Math.max(-La,Math.min(La,n)),t=Math.max(-La,Math.min(La,t));var e=f(n,t);if(d&&y.push([n,t]),S)m=n,M=t,x=e,S=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&w)a.point(n,t);else{var r={a:{x:b,y:_},b:{x:n,y:t}};A(r)?(w||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),k=!1):e&&(a.lineStart(),a.point(n,t),k=!1)}b=n,_=t,w=e}var v,d,y,m,M,x,b,_,w,S,k,N=a,E=Dt(),A=It(n,t,e,r),C={point:s,lineStart:h,lineEnd:p,polygonStart:function(){a=E,v=[],d=[],k=!0},polygonEnd:function(){a=N,v=to.merge(v);var t=c([n,r]),e=k&&t,i=v.length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),i&&zt(v,u,t,l,a),a.polygonEnd()),v=d=y=null}};return C}}function Zt(n){var t=0,e=zo/3,r=oe(n),i=r(t,e);return i.parallels=function(n){return arguments.length?r(t=n[0]*zo/180,e=n[1]*zo/180):[t/zo*180,e/zo*180]},i}function Vt(n,t){function e(n,t){var e=Math.sqrt(u-2*i*Math.sin(t))/i;return[e*Math.sin(n*=i),o-e*Math.cos(n)]}var r=Math.sin(n),i=(r+Math.sin(t))/2,u=1+r*(2*i-r),o=Math.sqrt(u)/i;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/i,tn((u-(n*n+e*e)*i*i)/(2*i))]},e}function Xt(){function n(n,t){Ra+=i*n-r*t,r=n,i=t}var t,e,r,i;Fa.point=function(u,o){Fa.point=n,t=r=u,e=i=o},Fa.lineEnd=function(){n(t,e)}}function $t(n,t){n<Da&&(Da=n),n>Ua&&(Ua=n),t<Pa&&(Pa=t),t>ja&&(ja=t)}function Bt(){function n(n,t){o.push("M",n,",",t,u)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function i(){o.push("Z")}var u=Wt(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return u=Wt(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Wt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Jt(n,t){ba+=n,_a+=t,++wa}function Gt(){function n(n,r){var i=n-t,u=r-e,o=Math.sqrt(i*i+u*u);Sa+=o*(t+n)/2,ka+=o*(e+r)/2,Na+=o,Jt(t=n,e=r)}var t,e;Oa.point=function(r,i){Oa.point=n,Jt(t=r,e=i)}}function Kt(){Oa.point=Jt}function Qt(){function n(n,t){var e=n-r,u=t-i,o=Math.sqrt(e*e+u*u);Sa+=o*(r+n)/2,ka+=o*(i+t)/2,Na+=o,o=i*n-r*t,Ea+=o*(r+n),Aa+=o*(i+t),Ca+=3*o,Jt(r=n,i=t)}var t,e,r,i;Oa.point=function(u,o){Oa.point=n,Jt(t=r=u,e=i=o)},Oa.lineEnd=function(){n(t,e)}}function ne(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,qo)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function i(){a.point=t}function u(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(n){return o=n,a},result:b};return a}function te(n){function t(n){return(a?r:e)(n)}function e(t){return ie(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=NaN,S.point=u,t.lineStart()}function u(e,r){var u=vt([e,r]),o=n(e,r);i(M,x,m,b,_,w,M=o[0],x=o[1],m=e,b=u[0],_=u[1],w=u[2],a,t),t.point(M,x)}function o(){S.point=e,t.lineEnd()}function c(){r(),S.point=l,S.lineEnd=f}function l(n,t){u(s=n,h=t),p=M,g=x,v=b,d=_,y=w,S.point=u}function f(){i(M,x,m,b,_,w,p,g,s,v,d,y,a,t),S.lineEnd=o,o()}var s,h,p,g,v,d,y,m,M,x,b,_,w,S={point:e,lineStart:r,lineEnd:o,polygonStart:function(){
t.polygonStart(),S.lineStart=c},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function i(t,e,r,a,c,l,f,s,h,p,g,v,d,y){var m=f-t,M=s-e,x=m*m+M*M;if(x>4*u&&d--){var b=a+p,_=c+g,w=l+v,S=Math.sqrt(b*b+_*_+w*w),k=Math.asin(w/=S),N=so(so(w)-1)<Ao||so(r-h)<Ao?(r+h)/2:Math.atan2(_,b),E=n(N,k),A=E[0],C=E[1],z=A-t,q=C-e,L=M*z-m*q;(L*L/x>u||so((m*z+M*q)/x-.5)>.3||a*p+c*g+l*v<o)&&(i(t,e,r,a,c,l,A,C,N,b/=S,_/=S,w,d,y),y.point(A,C),i(A,C,N,b,_,w,f,s,h,p,g,v,d,y))}}var u=.5,o=Math.cos(30*Ro),a=16;return t.precision=function(n){return arguments.length?(a=(u=n*n)>0&&16,t):Math.sqrt(u)},t}function ee(n){var t=te(function(t,e){return n([t*Do,e*Do])});return function(n){return ae(t(n))}}function re(n){this.stream=n}function ie(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function ue(n){return oe(function(){return n})()}function oe(n){function t(n){return n=a(n[0]*Ro,n[1]*Ro),[n[0]*h+c,l-n[1]*h]}function e(n){return n=a.invert((n[0]-c)/h,(l-n[1])/h),n&&[n[0]*Do,n[1]*Do]}function r(){a=At(o=fe(y,M,x),u);var n=u(v,d);return c=p-n[0]*h,l=g+n[1]*h,i()}function i(){return f&&(f.valid=!1,f=null),t}var u,o,a,c,l,f,s=te(function(n,t){return n=u(n,t),[n[0]*h+c,l-n[1]*h]}),h=150,p=480,g=250,v=0,d=0,y=0,M=0,x=0,b=qa,_=m,w=null,S=null;return t.stream=function(n){return f&&(f.valid=!1),f=ae(b(o,s(_(n)))),f.valid=!0,f},t.clipAngle=function(n){return arguments.length?(b=null==n?(w=n,qa):Ot((w=+n)*Ro),i()):w},t.clipExtent=function(n){return arguments.length?(S=n,_=n?Yt(n[0][0],n[0][1],n[1][0],n[1][1]):m,i()):S},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(p=+n[0],g=+n[1],r()):[p,g]},t.center=function(n){return arguments.length?(v=n[0]%360*Ro,d=n[1]%360*Ro,r()):[v*Do,d*Do]},t.rotate=function(n){return arguments.length?(y=n[0]%360*Ro,M=n[1]%360*Ro,x=n.length>2?n[2]%360*Ro:0,r()):[y*Do,M*Do,x*Do]},to.rebind(t,s,"precision"),function(){return u=n.apply(this,arguments),t.invert=u.invert&&e,r()}}function ae(n){return ie(n,function(t,e){n.point(t*Ro,e*Ro)})}function ce(n,t){return[n,t]}function le(n,t){return[n>zo?n-qo:n<-zo?n+qo:n,t]}function fe(n,t,e){return n?t||e?At(he(n),pe(t,e)):he(n):t||e?pe(t,e):le}function se(n){return function(t,e){return t+=n,[t>zo?t-qo:t<-zo?t+qo:t,e]}}function he(n){var t=se(n);return t.invert=se(-n),t}function pe(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),f=l*r+a*i;return[Math.atan2(c*u-f*o,a*r-l*i),tn(f*u+c*o)]}var r=Math.cos(n),i=Math.sin(n),u=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),f=l*u-c*o;return[Math.atan2(c*u+l*o,a*r+f*i),tn(f*r-a*i)]},e}function ge(n,t){var e=Math.cos(n),r=Math.sin(n);return function(i,u,o,a){var c=o*t;null!=i?(i=ve(e,i),u=ve(e,u),(o>0?i<u:i>u)&&(i+=o*qo)):(i=n+o*qo,u=n-.5*c);for(var l,f=i;o>0?f>u:f<u;f-=c)a.point((l=bt([e,-r*Math.cos(f),-r*Math.sin(f)]))[0],l[1])}}function ve(n,t){var e=vt(t);e[0]-=n,xt(e);var r=nn(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Ao)%(2*Math.PI)}function de(n,t,e){var r=to.range(n,t-Ao,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function ye(n,t,e){var r=to.range(n,t-Ao,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function me(n){return n.source}function Me(n){return n.target}function xe(n,t,e,r){var i=Math.cos(t),u=Math.sin(t),o=Math.cos(r),a=Math.sin(r),c=i*Math.cos(n),l=i*Math.sin(n),f=o*Math.cos(e),s=o*Math.sin(e),h=2*Math.asin(Math.sqrt(on(r-t)+i*o*on(e-n))),p=1/Math.sin(h),g=h?function(n){var t=Math.sin(n*=h)*p,e=Math.sin(h-n)*p,r=e*c+t*f,i=e*l+t*s,o=e*u+t*a;return[Math.atan2(i,r)*Do,Math.atan2(o,Math.sqrt(r*r+i*i))*Do]}:function(){return[n*Do,t*Do]};return g.distance=h,g}function be(){function n(n,i){var u=Math.sin(i*=Ro),o=Math.cos(i),a=so((n*=Ro)-t),c=Math.cos(a);Ia+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*u-e*o*c)*a),e*u+r*o*c),t=n,e=u,r=o}var t,e,r;Ya.point=function(i,u){t=i*Ro,e=Math.sin(u*=Ro),r=Math.cos(u),Ya.point=n},Ya.lineEnd=function(){Ya.point=Ya.lineEnd=b}}function _e(n,t){function e(t,e){var r=Math.cos(t),i=Math.cos(e),u=n(r*i);return[u*i*Math.sin(t),u*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),i=t(r),u=Math.sin(i),o=Math.cos(i);return[Math.atan2(n*u,r*o),Math.asin(r&&e*u/r)]},e}function we(n,t){function e(n,t){o>0?t<-To+Ao&&(t=-To+Ao):t>To-Ao&&(t=To-Ao);var e=o/Math.pow(i(t),u);return[e*Math.sin(u*n),o-e*Math.cos(u*n)]}var r=Math.cos(n),i=function(n){return Math.tan(zo/4+n/2)},u=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(i(t)/i(n)),o=r*Math.pow(i(n),u)/u;return u?(e.invert=function(n,t){var e=o-t,r=K(u)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/u,2*Math.atan(Math.pow(o/r,1/u))-To]},e):ke}function Se(n,t){function e(n,t){var e=u-t;return[e*Math.sin(i*n),u-e*Math.cos(i*n)]}var r=Math.cos(n),i=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),u=r/i+n;return so(i)<Ao?ce:(e.invert=function(n,t){var e=u-t;return[Math.atan2(n,e)/i,u-K(i)*Math.sqrt(n*n+e*e)]},e)}function ke(n,t){return[n,Math.log(Math.tan(zo/4+t/2))]}function Ne(n){var t,e=ue(n),r=e.scale,i=e.translate,u=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=i.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var o=u.apply(e,arguments);if(o===e){if(t=null==n){var a=zo*r(),c=i();u([[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]])}}else t&&(o=null);return o},e.clipExtent(null)}function Ee(n,t){return[Math.log(Math.tan(zo/4+t/2)),-n]}function Ae(n){return n[0]}function Ce(n){return n[1]}function ze(n){for(var t=n.length,e=[0,1],r=2,i=2;i<t;i++){for(;r>1&&Q(n[e[r-2]],n[e[r-1]],n[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function qe(n,t){return n[0]-t[0]||n[1]-t[1]}function Le(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Te(n,t,e,r){var i=n[0],u=e[0],o=t[0]-i,a=r[0]-u,c=n[1],l=e[1],f=t[1]-c,s=r[1]-l,h=(a*(c-l)-s*(i-u))/(s*o-a*f);return[i+h*o,c+h*f]}function Re(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function De(){er(this),this.edge=this.site=this.circle=null}function Pe(n){var t=tc.pop()||new De;return t.site=n,t}function Ue(n){$e(n),Ka.remove(n),tc.push(n),er(n)}function je(n){var t=n.circle,e=t.x,r=t.cy,i={x:e,y:r},u=n.P,o=n.N,a=[n];Ue(n);for(var c=u;c.circle&&so(e-c.circle.x)<Ao&&so(r-c.circle.cy)<Ao;)u=c.P,a.unshift(c),Ue(c),c=u;a.unshift(c),$e(c);for(var l=o;l.circle&&so(e-l.circle.x)<Ao&&so(r-l.circle.cy)<Ao;)o=l.N,a.push(l),Ue(l),l=o;a.push(l),$e(l);var f,s=a.length;for(f=1;f<s;++f)l=a[f],c=a[f-1],Qe(l.edge,c.site,l.site,i);c=a[0],l=a[s-1],l.edge=Ge(c.site,l.site,null,i),Xe(c),Xe(l)}function Fe(n){for(var t,e,r,i,u=n.x,o=n.y,a=Ka._;a;)if(r=He(a,o)-u,r>Ao)a=a.L;else{if(i=u-Oe(a,o),!(i>Ao)){r>-Ao?(t=a.P,e=a):i>-Ao?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}var c=Pe(n);if(Ka.insert(t,c),t||e){if(t===e)return $e(t),e=Pe(t.site),Ka.insert(c,e),c.edge=e.edge=Ge(t.site,c.site),Xe(t),void Xe(e);if(!e)return void(c.edge=Ge(t.site,c.site));$e(t),$e(e);var l=t.site,f=l.x,s=l.y,h=n.x-f,p=n.y-s,g=e.site,v=g.x-f,d=g.y-s,y=2*(h*d-p*v),m=h*h+p*p,M=v*v+d*d,x={x:(d*m-p*M)/y+f,y:(h*M-v*m)/y+s};Qe(e.edge,l,g,x),c.edge=Ge(l,n,null,x),e.edge=Ge(n,g,null,x),Xe(t),Xe(e)}}function He(n,t){var e=n.site,r=e.x,i=e.y,u=i-t;if(!u)return r;var o=n.P;if(!o)return-(1/0);e=o.site;var a=e.x,c=e.y,l=c-t;if(!l)return a;var f=a-r,s=1/u-1/l,h=f/l;return s?(-h+Math.sqrt(h*h-2*s*(f*f/(-2*l)-c+l/2+i-u/2)))/s+r:(r+a)/2}function Oe(n,t){var e=n.N;if(e)return He(e,t);var r=n.site;return r.y===t?r.x:1/0}function Ie(n){this.site=n,this.edges=[]}function Ye(n){for(var t,e,r,i,u,o,a,c,l,f,s=n[0][0],h=n[1][0],p=n[0][1],g=n[1][1],v=Ga,d=v.length;d--;)if(u=v[d],u&&u.prepare())for(a=u.edges,c=a.length,o=0;o<c;)f=a[o].end(),r=f.x,i=f.y,l=a[++o%c].start(),t=l.x,e=l.y,(so(r-t)>Ao||so(i-e)>Ao)&&(a.splice(o,0,new nr(Ke(u.site,f,so(r-s)<Ao&&g-i>Ao?{x:s,y:so(t-s)<Ao?e:g}:so(i-g)<Ao&&h-r>Ao?{x:so(e-g)<Ao?t:h,y:g}:so(r-h)<Ao&&i-p>Ao?{x:h,y:so(t-h)<Ao?e:p}:so(i-p)<Ao&&r-s>Ao?{x:so(e-p)<Ao?t:s,y:p}:null),u.site,null)),++c)}function Ze(n,t){return t.angle-n.angle}function Ve(){er(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xe(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,i=n.site,u=e.site;if(r!==u){var o=i.x,a=i.y,c=r.x-o,l=r.y-a,f=u.x-o,s=u.y-a,h=2*(c*s-l*f);if(!(h>=-Co)){var p=c*c+l*l,g=f*f+s*s,v=(s*p-l*g)/h,d=(c*g-f*p)/h,s=d+a,y=ec.pop()||new Ve;y.arc=n,y.site=i,y.x=v+o,y.y=s+Math.sqrt(v*v+d*d),y.cy=s,n.circle=y;for(var m=null,M=nc._;M;)if(y.y<M.y||y.y===M.y&&y.x<=M.x){if(!M.L){m=M.P;break}M=M.L}else{if(!M.R){m=M;break}M=M.R}nc.insert(m,y),m||(Qa=y)}}}}function $e(n){var t=n.circle;t&&(t.P||(Qa=t.N),nc.remove(t),ec.push(t),er(t),n.circle=null)}function Be(n){for(var t,e=Ja,r=It(n[0][0],n[0][1],n[1][0],n[1][1]),i=e.length;i--;)t=e[i],(!We(t,n)||!r(t)||so(t.a.x-t.b.x)<Ao&&so(t.a.y-t.b.y)<Ao)&&(t.a=t.b=null,e.splice(i,1))}function We(n,t){var e=n.b;if(e)return!0;var r,i,u=n.a,o=t[0][0],a=t[1][0],c=t[0][1],l=t[1][1],f=n.l,s=n.r,h=f.x,p=f.y,g=s.x,v=s.y,d=(h+g)/2,y=(p+v)/2;if(v===p){if(d<o||d>=a)return;if(h>g){if(u){if(u.y>=l)return}else u={x:d,y:c};e={x:d,y:l}}else{if(u){if(u.y<c)return}else u={x:d,y:l};e={x:d,y:c}}}else if(r=(h-g)/(v-p),i=y-r*d,r<-1||r>1)if(h>g){if(u){if(u.y>=l)return}else u={x:(c-i)/r,y:c};e={x:(l-i)/r,y:l}}else{if(u){if(u.y<c)return}else u={x:(l-i)/r,y:l};e={x:(c-i)/r,y:c}}else if(p<v){if(u){if(u.x>=a)return}else u={x:o,y:r*o+i};e={x:a,y:r*a+i}}else{if(u){if(u.x<o)return}else u={x:a,y:r*a+i};e={x:o,y:r*o+i}}return n.a=u,n.b=e,!0}function Je(n,t){this.l=n,this.r=t,this.a=this.b=null}function Ge(n,t,e,r){var i=new Je(n,t);return Ja.push(i),e&&Qe(i,n,t,e),r&&Qe(i,t,n,r),Ga[n.i].edges.push(new nr(i,n,t)),Ga[t.i].edges.push(new nr(i,t,n)),i}function Ke(n,t,e){var r=new Je(n,null);return r.a=t,r.b=e,Ja.push(r),r}function Qe(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function nr(n,t,e){var r=n.a,i=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function tr(){this._=null}function er(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function rr(n,t){var e=t,r=t.R,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ir(n,t){var e=t,r=t.L,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function ur(n){for(;n.L;)n=n.L;return n}function or(n,t){var e,r,i,u=n.sort(ar).pop();for(Ja=[],Ga=new Array(n.length),Ka=new tr,nc=new tr;;)if(i=Qa,u&&(!i||u.y<i.y||u.y===i.y&&u.x<i.x))u.x===e&&u.y===r||(Ga[u.i]=new Ie(u),Fe(u),e=u.x,r=u.y),u=n.pop();else{if(!i)break;je(i.arc)}t&&(Be(t),Ye(t));var o={cells:Ga,edges:Ja};return Ka=nc=Ja=Ga=null,o}function ar(n,t){return t.y-n.y||t.x-n.x}function cr(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function lr(n){return n.x}function fr(n){return n.y}function sr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hr(n,t,e,r,i,u){if(!n(t,e,r,i,u)){var o=.5*(e+i),a=.5*(r+u),c=t.nodes;c[0]&&hr(n,c[0],e,r,o,a),c[1]&&hr(n,c[1],o,r,i,a),c[2]&&hr(n,c[2],e,a,o,u),c[3]&&hr(n,c[3],o,a,i,u)}}function pr(n,t,e,r,i,u,o){var a,c=1/0;return function n(l,f,s,h,p){if(!(f>u||s>o||h<r||p<i)){if(g=l.point){var g,v=t-l.x,d=e-l.y,y=v*v+d*d;if(y<c){var m=Math.sqrt(c=y);r=t-m,i=e-m,u=t+m,o=e+m,a=g}}for(var M=l.nodes,x=.5*(f+h),b=.5*(s+p),_=t>=x,w=e>=b,S=w<<1|_,k=S+4;S<k;++S)if(l=M[3&S])switch(3&S){case 0:n(l,f,s,x,b);break;case 1:n(l,x,s,h,b);break;case 2:n(l,f,b,x,p);break;case 3:n(l,x,b,h,p)}}}(n,r,i,u,o),a}function gr(n,t){n=to.rgb(n),t=to.rgb(t);var e=n.r,r=n.g,i=n.b,u=t.r-e,o=t.g-r,a=t.b-i;return function(n){return"#"+bn(Math.round(e+u*n))+bn(Math.round(r+o*n))+bn(Math.round(i+a*n))}}function vr(n,t){var e,r={},i={};for(e in n)e in t?r[e]=mr(n[e],t[e]):i[e]=n[e];for(e in t)e in n||(i[e]=t[e]);return function(n){for(e in r)i[e]=r[e](n);return i}}function dr(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function yr(n,t){var e,r,i,u=ic.lastIndex=uc.lastIndex=0,o=-1,a=[],c=[];for(n+="",t+="";(e=ic.exec(n))&&(r=uc.exec(t));)(i=r.index)>u&&(i=t.slice(u,i),a[o]?a[o]+=i:a[++o]=i),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,c.push({i:o,x:dr(e,r)})),u=uc.lastIndex;return u<t.length&&(i=t.slice(u),a[o]?a[o]+=i:a[++o]=i),a.length<2?c[0]?(t=c[0].x,function(n){return t(n)+""}):function(){return t}:(t=c.length,function(n){for(var e,r=0;r<t;++r)a[(e=c[r]).i]=e.x(n);return a.join("")})}function mr(n,t){for(var e,r=to.interpolators.length;--r>=0&&!(e=to.interpolators[r](n,t)););return e}function Mr(n,t){var e,r=[],i=[],u=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;e<a;++e)r.push(mr(n[e],t[e]));for(;e<u;++e)i[e]=n[e];for(;e<o;++e)i[e]=t[e];return function(n){for(e=0;e<a;++e)i[e]=r[e](n);return i}}function xr(n){return function(t){return t<=0?0:t>=1?1:n(t)}}function br(n){return function(t){return 1-n(1-t)}}function _r(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}}function wr(n){return n*n}function Sr(n){return n*n*n}function kr(n){if(n<=0)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(n<.5?e:3*(n-t)+e-.75)}function Nr(n){return function(t){return Math.pow(t,n)}}function Er(n){return 1-Math.cos(n*To)}function Ar(n){return Math.pow(2,10*(n-1))}function Cr(n){return 1-Math.sqrt(1-n*n)}function zr(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/qo*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*qo/t)}}function qr(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function Lr(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Tr(n,t){n=to.hcl(n),t=to.hcl(t);var e=n.h,r=n.c,i=n.l,u=t.h-e,o=t.c-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:u<-180&&(u+=360),function(n){return sn(e+u*n,r+o*n,i+a*n)+""}}function Rr(n,t){n=to.hsl(n),t=to.hsl(t);var e=n.h,r=n.s,i=n.l,u=t.h-e,o=t.s-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:u<-180&&(u+=360),function(n){return ln(e+u*n,r+o*n,i+a*n)+""}}function Dr(n,t){n=to.lab(n),t=to.lab(t);var e=n.l,r=n.a,i=n.b,u=t.l-e,o=t.a-r,a=t.b-i;return function(n){return pn(e+u*n,r+o*n,i+a*n)+""}}function Pr(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function Ur(n){var t=[n.a,n.b],e=[n.c,n.d],r=Fr(t),i=jr(t,e),u=Fr(Hr(e,t,-i))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Do,this.translate=[n.e,n.f],this.scale=[r,u],this.skew=u?Math.atan2(i,u)*Do:0}function jr(n,t){return n[0]*t[0]+n[1]*t[1]}function Fr(n){var t=Math.sqrt(jr(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Hr(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Or(n,t){var e,r=[],i=[],u=to.transform(n),o=to.transform(t),a=u.translate,c=o.translate,l=u.rotate,f=o.rotate,s=u.skew,h=o.skew,p=u.scale,g=o.scale;return a[0]!=c[0]||a[1]!=c[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:dr(a[0],c[0])},{i:3,x:dr(a[1],c[1])})):c[0]||c[1]?r.push("translate("+c+")"):r.push(""),l!=f?(l-f>180?f+=360:f-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:dr(l,f)})):f&&r.push(r.pop()+"rotate("+f+")"),s!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:dr(s,h)}):h&&r.push(r.pop()+"skewX("+h+")"),p[0]!=g[0]||p[1]!=g[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:e-4,x:dr(p[0],g[0])},{i:e-2,x:dr(p[1],g[1])})):1==g[0]&&1==g[1]||r.push(r.pop()+"scale("+g+")"),e=i.length,function(n){for(var t,u=-1;++u<e;)r[(t=i[u]).i]=t.x(n);return r.join("")}}function Ir(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Yr(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Zr(n){for(var t=n.source,e=n.target,r=Xr(t,e),i=[t];t!==r;)t=t.parent,i.push(t);for(var u=i.length;e!==r;)i.splice(u,0,e),e=e.parent;return i}function Vr(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Xr(n,t){if(n===t)return n;for(var e=Vr(n),r=Vr(t),i=e.pop(),u=r.pop(),o=null;i===u;)o=i,i=e.pop(),u=r.pop();return o}function $r(n){n.fixed|=2}function Br(n){n.fixed&=-7}function Wr(n){n.fixed|=4,n.px=n.x,n.py=n.y}function Jr(n){n.fixed&=-5}function Gr(n,t,e){var r=0,i=0;if(n.charge=0,!n.leaf)for(var u,o=n.nodes,a=o.length,c=-1;++c<a;)u=o[c],null!=u&&(Gr(u,t,e),n.charge+=u.charge,r+=u.charge*u.cx,i+=u.charge*u.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var l=t*e[n.point.index];n.charge+=n.pointCharge=l,r+=l*n.point.x,i+=l*n.point.y}n.cx=r/n.charge,n.cy=i/n.charge}function Kr(n,t){return to.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=ii,n}function Qr(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(i=n.children)&&(r=i.length))for(var r,i;--r>=0;)e.push(i[r])}function ni(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(u=n.children)&&(i=u.length))for(var i,u,o=-1;++o<i;)e.push(u[o]);for(;null!=(n=r.pop());)t(n)}function ti(n){return n.children}function ei(n){return n.value}function ri(n,t){return t.value-n.value}function ii(n){return to.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function ui(n){return n.x}function oi(n){return n.y}function ai(n,t,e){n.y0=t,n.y=e}function ci(n){return to.range(n.length)}function li(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function fi(n){for(var t,e=1,r=0,i=n[0][1],u=n.length;e<u;++e)(t=n[e][1])>i&&(r=e,i=t);return r}function si(n){return n.reduce(hi,0)}function hi(n,t){return n+t[1]}function pi(n,t){return gi(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function gi(n,t){for(var e=-1,r=+n[0],i=(n[1]-r)/t,u=[];++e<=t;)u[e]=i*e+r;return u}function vi(n){return[to.min(n),to.max(n)]}function di(n,t){return n.value-t.value}function yi(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function mi(n,t){n._pack_next=t,t._pack_prev=n}function Mi(n,t){var e=t.x-n.x,r=t.y-n.y,i=n.r+t.r;return.999*i*i>e*e+r*r}function xi(n){function t(n){f=Math.min(n.x-n.r,f),s=Math.max(n.x+n.r,s),h=Math.min(n.y-n.r,h),p=Math.max(n.y+n.r,p)}if((e=n.children)&&(l=e.length)){var e,r,i,u,o,a,c,l,f=1/0,s=-(1/0),h=1/0,p=-(1/0);if(e.forEach(bi),r=e[0],r.x=-r.r,r.y=0,t(r),l>1&&(i=e[1],i.x=i.r,i.y=0,t(i),l>2))for(u=e[2],Si(r,i,u),t(u),yi(r,u),r._pack_prev=u,yi(u,i),i=r._pack_next,o=3;o<l;o++){Si(r,i,u=e[o]);var g=0,v=1,d=1;for(a=i._pack_next;a!==i;a=a._pack_next,v++)if(Mi(a,u)){g=1;break}if(1==g)for(c=r._pack_prev;c!==a._pack_prev&&!Mi(c,u);c=c._pack_prev,d++);g?(v<d||v==d&&i.r<r.r?mi(r,i=a):mi(r=c,i),o--):(yi(r,u),i=u,t(u))}var y=(f+s)/2,m=(h+p)/2,M=0;for(o=0;o<l;o++)u=e[o],u.x-=y,u.y-=m,M=Math.max(M,u.r+Math.sqrt(u.x*u.x+u.y*u.y));n.r=M,e.forEach(_i)}}function bi(n){n._pack_next=n._pack_prev=n}function _i(n){delete n._pack_next,delete n._pack_prev}function wi(n,t,e,r){var i=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,i)for(var u=-1,o=i.length;++u<o;)wi(i[u],t,e,r)}function Si(n,t,e){var r=n.r+e.r,i=t.x-n.x,u=t.y-n.y;if(r&&(i||u)){var o=t.r+e.r,a=i*i+u*u;o*=o,r*=r;var c=.5+(r-o)/(2*a),l=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+c*i+l*u,e.y=n.y+c*u-l*i}else e.x=n.x+r,e.y=n.y}function ki(n,t){return n.parent==t.parent?1:2}function Ni(n){var t=n.children;return t.length?t[0]:n.t}function Ei(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function Ai(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Ci(n){for(var t,e=0,r=0,i=n.children,u=i.length;--u>=0;)t=i[u],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}function zi(n,t,e){return n.a.parent===t.parent?n.a:e}function qi(n){return 1+to.max(n,function(n){return n.y})}function Li(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Ti(n){var t=n.children;return t&&t.length?Ti(t[0]):n}function Ri(n){var t,e=n.children;return e&&(t=e.length)?Ri(e[t-1]):n}function Di(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Pi(n,t){var e=n.x+t[3],r=n.y+t[0],i=n.dx-t[1]-t[3],u=n.dy-t[0]-t[2];return i<0&&(e+=i/2,i=0),u<0&&(r+=u/2,u=0),{x:e,y:r,dx:i,dy:u}}function Ui(n){var t=n[0],e=n[n.length-1];return t<e?[t,e]:[e,t]}function ji(n){return n.rangeExtent?n.rangeExtent():Ui(n.range())}function Fi(n,t,e,r){var i=e(n[0],n[1]),u=r(t[0],t[1]);return function(n){return u(i(n))}}function Hi(n,t){var e,r=0,i=n.length-1,u=n[r],o=n[i];return o<u&&(e=r,r=i,i=e,e=u,u=o,o=e),n[r]=t.floor(u),n[i]=t.ceil(o),n}function Oi(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:dc}function Ii(n,t,e,r){var i=[],u=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)i.push(e(n[o-1],n[o])),u.push(r(t[o-1],t[o]));return function(t){var e=to.bisect(n,t,1,a)-1;return u[e](i[e](t))}}function Yi(n,t,e,r){function i(){var i=Math.min(n.length,t.length)>2?Ii:Fi,c=r?Yr:Ir;return o=i(n,t,c,e),a=i(t,n,c,mr),u}function u(n){return o(n)}var o,a;return u.invert=function(n){return a(n)},u.domain=function(t){return arguments.length?(n=t.map(Number),i()):n},u.range=function(n){return arguments.length?(t=n,i()):t},u.rangeRound=function(n){return u.range(n).interpolate(Pr)},u.clamp=function(n){return arguments.length?(r=n,i()):r},u.interpolate=function(n){return arguments.length?(e=n,i()):e},u.ticks=function(t){return $i(n,t)},u.tickFormat=function(t,e){return Bi(n,t,e)},u.nice=function(t){return Vi(n,t),i()},u.copy=function(){return Yi(n,t,e,r)},i()}function Zi(n,t){return to.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Vi(n,t){return Hi(n,Oi(Xi(n,t)[2]))}function Xi(n,t){null==t&&(t=10);var e=Ui(n),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),u=t/r*i;return u<=.15?i*=10:u<=.35?i*=5:u<=.75&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function $i(n,t){return to.range.apply(to,Xi(n,t))}function Bi(n,t,e){var r=Xi(n,t);if(e){var i=ia.exec(e);if(i.shift(),"s"===i[8]){var u=to.formatPrefix(Math.max(so(r[0]),so(r[1])));return i[7]||(i[7]="."+Wi(u.scale(r[2]))),i[8]="f",e=to.format(i.join("")),function(n){return e(u.scale(n))+u.symbol}}i[7]||(i[7]="."+Ji(i[8],r)),e=i.join("")}else e=",."+Wi(r[2])+"f";return to.format(e)}function Wi(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function Ji(n,t){var e=Wi(t[2]);return n in yc?Math.abs(e-Wi(Math.max(so(t[0]),so(t[1]))))+ +("e"!==n):e-2*("%"===n)}function Gi(n,t,e,r){function i(n){return(e?Math.log(n<0?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function u(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(i(t))}return o.invert=function(t){return u(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(i)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(i)),o):t},o.nice=function(){var t=Hi(r.map(i),e?Math:Mc);return n.domain(t),r=t.map(u),o},o.ticks=function(){var n=Ui(r),o=[],a=n[0],c=n[1],l=Math.floor(i(a)),f=Math.ceil(i(c)),s=t%1?2:t;if(isFinite(f-l)){if(e){for(;l<f;l++)for(var h=1;h<s;h++)o.push(u(l)*h);o.push(u(l))}else for(o.push(u(l));l++<f;)for(var h=s-1;h>0;h--)o.push(u(l)*h);for(l=0;o[l]<a;l++);for(f=o.length;o[f-1]>c;f--);o=o.slice(l,f)}return o},o.tickFormat=function(n,t){if(!arguments.length)return mc;arguments.length<2?t=mc:"function"!=typeof t&&(t=to.format(t));var r,a=Math.max(.1,n/o.ticks().length),c=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(n){return n/u(c(i(n)+r))<=a?t(n):""}},o.copy=function(){return Gi(n.copy(),t,e,r)},Zi(o,n)}function Ki(n,t,e){function r(t){return n(i(t))}var i=Qi(t),u=Qi(1/t);return r.invert=function(t){return u(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(i)),r):e},r.ticks=function(n){return $i(e,n)},r.tickFormat=function(n,t){return Bi(e,n,t)},r.nice=function(n){return r.domain(Vi(e,n))},r.exponent=function(o){return arguments.length?(i=Qi(t=o),u=Qi(1/t),n.domain(e.map(i)),r):t},r.copy=function(){return Ki(n.copy(),t,e)},Zi(r,n)}function Qi(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function nu(n,t){function e(e){return u[((i.get(e)||("range"===t.t?i.set(e,n.push(e)):NaN))-1)%u.length]}function r(t,e){return to.range(n.length).map(function(n){return t+e*n})}var i,u,o;return e.domain=function(r){if(!arguments.length)return n;n=[],i=new l;for(var u,o=-1,a=r.length;++o<a;)i.has(u=r[o])||i.set(u,n.push(u));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(u=n,o=0,t={t:"range",a:arguments},e):u},e.rangePoints=function(i,a){arguments.length<2&&(a=0);var c=i[0],l=i[1],f=n.length<2?(c=(c+l)/2,0):(l-c)/(n.length-1+a);return u=r(c+f*a/2,f),o=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(i,a){arguments.length<2&&(a=0);var c=i[0],l=i[1],f=n.length<2?(c=l=Math.round((c+l)/2),0):(l-c)/(n.length-1+a)|0;return u=r(c+Math.round(f*a/2+(l-c-(n.length-1+a)*f)/2),f),o=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(i,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=i[1]<i[0],f=i[l-0],s=i[1-l],h=(s-f)/(n.length-a+2*c);return u=r(f+h*c,h),l&&u.reverse(),o=h*(1-a),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(i,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=i[1]<i[0],f=i[l-0],s=i[1-l],h=Math.floor((s-f)/(n.length-a+2*c));return u=r(f+Math.round((s-f-(n.length-a)*h)/2),h),l&&u.reverse(),o=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return Ui(t.a[0])},e.copy=function(){return nu(n,t)},e.domain(n)}function tu(n,t){function u(){var e=0,r=t.length;for(a=[];++e<r;)a[e-1]=to.quantile(n,e/r);return o}function o(n){if(!isNaN(n=+n))return t[to.bisect(a,n)]}var a;return o.domain=function(t){return arguments.length?(n=t.map(r).filter(i).sort(e),u()):n},o.range=function(n){return arguments.length?(t=n,u()):t},o.quantiles=function(){return a},o.invertExtent=function(e){return e=t.indexOf(e),e<0?[NaN,NaN]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.copy=function(){return tu(n,t)},u()}function eu(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(u*(t-n))))]}function i(){return u=e.length/(t-n),o=e.length-1,r}var u,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],i()):[n,t]},r.range=function(n){return arguments.length?(e=n,i()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=t<0?NaN:t/u+n,[t,t+1/u]},r.copy=function(){return eu(n,t,e)},i()}function ru(n,t){function e(e){if(e<=e)return t[to.bisect(n,e)]}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return ru(n,t)},e}function iu(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return $i(n,t)},t.tickFormat=function(t,e){return Bi(n,t,e)},t.copy=function(){return iu(n)},t}function uu(){return 0}function ou(n){return n.innerRadius}function au(n){return n.outerRadius}function cu(n){return n.startAngle}function lu(n){return n.endAngle}function fu(n){return n&&n.padAngle}function su(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function hu(n,t,e,r,i){var u=n[0]-t[0],o=n[1]-t[1],a=(i?r:-r)/Math.sqrt(u*u+o*o),c=a*o,l=-a*u,f=n[0]+c,s=n[1]+l,h=t[0]+c,p=t[1]+l,g=(f+h)/2,v=(s+p)/2,d=h-f,y=p-s,m=d*d+y*y,M=e-r,x=f*p-h*s,b=(y<0?-1:1)*Math.sqrt(M*M*m-x*x),_=(x*y-d*b)/m,w=(-x*d-y*b)/m,S=(x*y+d*b)/m,k=(-x*d+y*b)/m,N=_-g,E=w-v,A=S-g,C=k-v;return N*N+E*E>A*A+C*C&&(_=S,w=k),[[_-c,w-l],[_*e/M,w*e/M]]}function pu(n){function t(t){function o(){l.push("M",u(n(f),a))}for(var c,l=[],f=[],s=-1,h=t.length,p=En(e),g=En(r);++s<h;)i.call(this,c=t[s],s)?f.push([+p.call(this,c,s),+g.call(this,c,s)]):f.length&&(o(),f=[]);return f.length&&o(),l.length?l.join(""):null}var e=Ae,r=Ce,i=Ct,u=gu,o=u.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(i=n,t):i},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?u=n:(u=kc.get(n)||gu).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function gu(n){return n.join("L")}function vu(n){return gu(n)+"Z"}function du(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&i.push("H",r[0]),i.join("")}function yu(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("V",(r=n[t])[1],"H",r[0]);return i.join("")}function mu(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r=n[t])[0],"V",r[1]);return i.join("")}function Mu(n,t){return n.length<4?gu(n):n[1]+_u(n.slice(1,-1),wu(n,t))}function xu(n,t){return n.length<3?gu(n):n[0]+_u((n.push(n[0]),n),wu([n[n.length-2]].concat(n,[n[1]]),t))}function bu(n,t){return n.length<3?gu(n):n[0]+_u(n,wu(n,t))}function _u(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return gu(n);var e=n.length!=t.length,r="",i=n[0],u=n[1],o=t[0],a=o,c=1;if(e&&(r+="Q"+(u[0]-2*o[0]/3)+","+(u[1]-2*o[1]/3)+","+u[0]+","+u[1],i=n[1],c=2),t.length>1){a=t[1],u=n[c],c++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1];for(var l=2;l<t.length;l++,c++)u=n[c],a=t[l],r+="S"+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1]}if(e){var f=n[c];r+="Q"+(u[0]+2*a[0]/3)+","+(u[1]+2*a[1]/3)+","+f[0]+","+f[1]}return r}function wu(n,t){for(var e,r=[],i=(1-t)/2,u=n[0],o=n[1],a=1,c=n.length;++a<c;)e=u,u=o,o=n[a],r.push([i*(o[0]-e[0]),i*(o[1]-e[1])]);return r}function Su(n){if(n.length<3)return gu(n);var t=1,e=n.length,r=n[0],i=r[0],u=r[1],o=[i,i,i,(r=n[1])[0]],a=[u,u,u,r[1]],c=[i,",",u,"L",Au(Ac,o),",",Au(Ac,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Cu(c,o,a);return n.pop(),c.push("L",r),c.join("")}function ku(n){if(n.length<4)return gu(n);for(var t,e=[],r=-1,i=n.length,u=[0],o=[0];++r<3;)t=n[r],u.push(t[0]),o.push(t[1]);for(e.push(Au(Ac,u)+","+Au(Ac,o)),--r;++r<i;)t=n[r],u.shift(),u.push(t[0]),o.shift(),o.push(t[1]),Cu(e,u,o);return e.join("")}function Nu(n){for(var t,e,r=-1,i=n.length,u=i+4,o=[],a=[];++r<4;)e=n[r%i],o.push(e[0]),a.push(e[1]);for(t=[Au(Ac,o),",",Au(Ac,a)],--r;++r<u;)e=n[r%i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Cu(t,o,a);return t.join("")}function Eu(n,t){var e=n.length-1;if(e)for(var r,i,u=n[0][0],o=n[0][1],a=n[e][0]-u,c=n[e][1]-o,l=-1;++l<=e;)r=n[l],i=l/e,r[0]=t*r[0]+(1-t)*(u+i*a),r[1]=t*r[1]+(1-t)*(o+i*c);return Su(n)}function Au(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Cu(n,t,e){n.push("C",Au(Nc,t),",",Au(Nc,e),",",Au(Ec,t),",",Au(Ec,e),",",Au(Ac,t),",",Au(Ac,e))}function zu(n,t){return(t[1]-n[1])/(t[0]-n[0])}function qu(n){for(var t=0,e=n.length-1,r=[],i=n[0],u=n[1],o=r[0]=zu(i,u);++t<e;)r[t]=(o+(o=zu(i=u,u=n[t+1])))/2;return r[t]=o,r}function Lu(n){for(var t,e,r,i,u=[],o=qu(n),a=-1,c=n.length-1;++a<c;)t=zu(n[a],n[a+1]),so(t)<Ao?o[a]=o[a+1]=0:(e=o[a]/t,r=o[a+1]/t,i=e*e+r*r,i>9&&(i=3*t/Math.sqrt(i),o[a]=i*e,o[a+1]=i*r));for(a=-1;++a<=c;)i=(n[Math.min(c,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),u.push([i||0,o[a]*i||0]);return u}function Tu(n){return n.length<3?gu(n):n[0]+_u(n,Lu(n))}function Ru(n){for(var t,e,r,i=-1,u=n.length;++i<u;)t=n[i],e=t[0],r=t[1]-To,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Du(n){function t(t){function c(){v.push("M",a(n(y),s),f,l(n(d.reverse()),s),"Z")}for(var h,p,g,v=[],d=[],y=[],m=-1,M=t.length,x=En(e),b=En(i),_=e===r?function(){return p}:En(r),w=i===u?function(){return g}:En(u);++m<M;)o.call(this,h=t[m],m)?(d.push([p=+x.call(this,h,m),g=+b.call(this,h,m)]),y.push([+_.call(this,h,m),+w.call(this,h,m)])):d.length&&(c(),d=[],y=[]);return d.length&&c(),v.length?v.join(""):null}var e=Ae,r=Ae,i=0,u=Ce,o=Ct,a=gu,c=a.key,l=a,f="L",s=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,
t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(i=u=n,t):u},t.y0=function(n){return arguments.length?(i=n,t):i},t.y1=function(n){return arguments.length?(u=n,t):u},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(c="function"==typeof n?a=n:(a=kc.get(n)||gu).key,l=a.reverse||a,f=a.closed?"M":"L",t):c},t.tension=function(n){return arguments.length?(s=n,t):s},t}function Pu(n){return n.radius}function Uu(n){return[n.x,n.y]}function ju(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-To;return[e*Math.cos(r),e*Math.sin(r)]}}function Fu(){return 64}function Hu(){return"circle"}function Ou(n){var t=Math.sqrt(n/zo);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Iu(n){return function(){var t,e;(t=this[n])&&(e=t[t.active])&&(--t.count?delete t[t.active]:delete this[n],t.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function Yu(n,t,e){return yo(n,Dc),n.namespace=t,n.id=e,n}function Zu(n,t,e,r){var i=n.id,u=n.namespace;return Y(n,"function"==typeof e?function(n,o,a){n[u][i].tween.set(t,r(e.call(n,n.__data__,o,a)))}:(e=r(e),function(n){n[u][i].tween.set(t,e)}))}function Vu(n){return null==n&&(n=""),function(){this.textContent=n}}function Xu(n){return null==n?"__transition__":"__transition_"+n+"__"}function $u(n,t,e,r,i){var u=n[e]||(n[e]={active:0,count:0}),o=u[r];if(!o){var a=i.time;o=u[r]={tween:new l,time:a,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++u.count,to.timer(function(i){function c(e){if(u.active>r)return f();var i=u[u.active];i&&(--u.count,delete u[u.active],i.event&&i.event.interrupt.call(n,n.__data__,i.index)),u.active=r,o.event&&o.event.start.call(n,n.__data__,t),o.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&v.push(r)}),h=o.ease,s=o.duration,to.timer(function(){return g.c=l(e||1)?Ct:l,1},0,a)}function l(e){if(u.active!==r)return 1;for(var i=e/s,a=h(i),c=v.length;c>0;)v[--c].call(n,a);return i>=1?(o.event&&o.event.end.call(n,n.__data__,t),f()):void 0}function f(){return--u.count?delete u[r]:delete n[e],1}var s,h,p=o.delay,g=ta,v=[];return g.t=p+a,p<=i?c(i-p):void(g.c=c)},0,a)}}function Bu(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function Wu(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function Ju(n){return n.toISOString()}function Gu(n,t,e){function r(t){return n(t)}function i(n,e){var r=n[1]-n[0],i=r/e,u=to.bisect(Zc,i);return u==Zc.length?[t.year,Xi(n.map(function(n){return n/31536e6}),e)[2]]:u?t[i/Zc[u-1]<Zc[u]/i?u-1:u]:[$c,Xi(n,e)[2]]}return r.invert=function(t){return Ku(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(Ku)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,Ku(+e+1),t).length}var u=r.domain(),o=Ui(u),a=null==n?i(o,10):"number"==typeof n&&i(o,n);return a&&(n=a[0],t=a[1]),r.domain(Hi(u,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=Ku(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=Ku(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Ui(r.domain()),u=null==n?i(e,10):"number"==typeof n?i(e,n):!n.range&&[{range:n},t];return u&&(n=u[0],t=u[1]),n.range(e[0],Ku(+e[1]+1),t<1?1:t)},r.tickFormat=function(){return e},r.copy=function(){return Gu(n.copy(),t,e)},Zi(r,n)}function Ku(n){return new Date(n)}function Qu(n){return JSON.parse(n.responseText)}function no(n){var t=io.createRange();return t.selectNode(io.body),t.createContextualFragment(n.responseText)}var to={version:"3.5.6"},eo=[].slice,ro=function(n){return eo.call(n)},io=this.document;if(io)try{ro(io.documentElement.childNodes)[0].nodeType}catch(n){ro=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),io)try{io.createElement("DIV").style.setProperty("opacity",0,"")}catch(n){var uo=this.Element.prototype,oo=uo.setAttribute,ao=uo.setAttributeNS,co=this.CSSStyleDeclaration.prototype,lo=co.setProperty;uo.setAttribute=function(n,t){oo.call(this,n,t+"")},uo.setAttributeNS=function(n,t,e){ao.call(this,n,t,e+"")},co.setProperty=function(n,t,e){lo.call(this,n,t+"",e)}}to.ascending=e,to.descending=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN},to.min=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u;)if(null!=(r=n[i])&&r>=r){e=r;break}for(;++i<u;)null!=(r=n[i])&&e>r&&(e=r)}else{for(;++i<u;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=r;break}for(;++i<u;)null!=(r=t.call(n,n[i],i))&&e>r&&(e=r)}return e},to.max=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u;)if(null!=(r=n[i])&&r>=r){e=r;break}for(;++i<u;)null!=(r=n[i])&&r>e&&(e=r)}else{for(;++i<u;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=r;break}for(;++i<u;)null!=(r=t.call(n,n[i],i))&&r>e&&(e=r)}return e},to.extent=function(n,t){var e,r,i,u=-1,o=n.length;if(1===arguments.length){for(;++u<o;)if(null!=(r=n[u])&&r>=r){e=i=r;break}for(;++u<o;)null!=(r=n[u])&&(e>r&&(e=r),i<r&&(i=r))}else{for(;++u<o;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=i=r;break}for(;++u<o;)null!=(r=t.call(n,n[u],u))&&(e>r&&(e=r),i<r&&(i=r))}return[e,i]},to.sum=function(n,t){var e,r=0,u=n.length,o=-1;if(1===arguments.length)for(;++o<u;)i(e=+n[o])&&(r+=e);else for(;++o<u;)i(e=+t.call(n,n[o],o))&&(r+=e);return r},to.mean=function(n,t){var e,u=0,o=n.length,a=-1,c=o;if(1===arguments.length)for(;++a<o;)i(e=r(n[a]))?u+=e:--c;else for(;++a<o;)i(e=r(t.call(n,n[a],a)))?u+=e:--c;if(c)return u/c},to.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),i=+n[r-1],u=e-r;return u?i+u*(n[r]-i):i},to.median=function(n,t){var u,o=[],a=n.length,c=-1;if(1===arguments.length)for(;++c<a;)i(u=r(n[c]))&&o.push(u);else for(;++c<a;)i(u=r(t.call(n,n[c],c)))&&o.push(u);if(o.length)return to.quantile(o.sort(e),.5)},to.variance=function(n,t){var e,u,o=n.length,a=0,c=0,l=-1,f=0;if(1===arguments.length)for(;++l<o;)i(e=r(n[l]))&&(u=e-a,a+=u/++f,c+=u*(e-a));else for(;++l<o;)i(e=r(t.call(n,n[l],l)))&&(u=e-a,a+=u/++f,c+=u*(e-a));if(f>1)return c/(f-1)},to.deviation=function(){var n=to.variance.apply(this,arguments);return n?Math.sqrt(n):n};var fo=u(e);to.bisectLeft=fo.left,to.bisect=to.bisectRight=fo.right,to.bisector=function(n){return u(1===n.length?function(t,r){return e(n(t),r)}:n)},to.shuffle=function(n,t,e){(u=arguments.length)<3&&(e=n.length,u<2&&(t=0));for(var r,i,u=e-t;u;)i=Math.random()*u--|0,r=n[u+t],n[u+t]=n[i+t],n[i+t]=r;return n},to.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},to.pairs=function(n){for(var t,e=0,r=n.length-1,i=n[0],u=new Array(r<0?0:r);e<r;)u[e]=[t=i,i=n[++e]];return u},to.zip=function(){if(!(r=arguments.length))return[];for(var n=-1,t=to.min(arguments,o),e=new Array(t);++n<t;)for(var r,i=-1,u=e[n]=new Array(r);++i<r;)u[i]=arguments[i][n];return e},to.transpose=function(n){return to.zip.apply(to,n)},to.keys=function(n){var t=[];for(var e in n)t.push(e);return t},to.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},to.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},to.merge=function(n){for(var t,e,r,i=n.length,u=-1,o=0;++u<i;)o+=n[u].length;for(e=new Array(o);--i>=0;)for(r=n[i],t=r.length;--t>=0;)e[--o]=r[t];return e};var so=Math.abs;to.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e===1/0)throw new Error("infinite range");var r,i=[],u=a(so(e)),o=-1;if(n*=u,t*=u,e*=u,e<0)for(;(r=n+e*++o)>t;)i.push(r/u);else for(;(r=n+e*++o)<t;)i.push(r/u);return i},to.map=function(n,t){var e=new l;if(n instanceof l)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,i=-1,u=n.length;if(1===arguments.length)for(;++i<u;)e.set(i,n[i]);else for(;++i<u;)e.set(t.call(n,r=n[i],i),r)}else for(var o in n)e.set(o,n[o]);return e};var ho="__proto__",po="\0";c(l,{has:h,get:function(n){return this._[f(n)]},set:function(n,t){return this._[f(n)]=t},remove:p,keys:g,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:s(t),value:this._[t]});return n},size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,s(t),this._[t])}}),to.nest=function(){function n(t,o,a){if(a>=u.length)return r?r.call(i,o):e?o.sort(e):o;for(var c,f,s,h,p=-1,g=o.length,v=u[a++],d=new l;++p<g;)(h=d.get(c=v(f=o[p])))?h.push(f):d.set(c,[f]);return t?(f=t(),s=function(e,r){f.set(e,n(t,r,a))}):(f={},s=function(e,r){f[e]=n(t,r,a)}),d.forEach(s),f}function t(n,e){if(e>=u.length)return n;var r=[],i=o[e++];return n.forEach(function(n,i){r.push({key:n,values:t(i,e)})}),i?r.sort(function(n,t){return i(n.key,t.key)}):r}var e,r,i={},u=[],o=[];return i.map=function(t,e){return n(e,t,0)},i.entries=function(e){return t(n(to.map,e,0),0)},i.key=function(n){return u.push(n),i},i.sortKeys=function(n){return o[u.length-1]=n,i},i.sortValues=function(n){return e=n,i},i.rollup=function(n){return r=n,i},i},to.set=function(n){var t=new y;if(n)for(var e=0,r=n.length;e<r;++e)t.add(n[e]);return t},c(y,{has:h,add:function(n){return this._[f(n+="")]=!0,n},remove:p,values:g,size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,s(t))}}),to.behavior={},to.rebind=function(n,t){for(var e,r=1,i=arguments.length;++r<i;)n[e=arguments[r]]=M(n,t,t[e]);return n};var go=["webkit","ms","moz","Moz","o","O"];to.dispatch=function(){for(var n=new _,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=w(n);return n},_.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},to.event=null,to.requote=function(n){return n.replace(vo,"\\$&")};var vo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,yo={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},mo=function(n,t){return t.querySelector(n)},Mo=function(n,t){return t.querySelectorAll(n)},xo=function(n,t){var e=n.matches||n[x(n,"matchesSelector")];return(xo=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(mo=function(n,t){return Sizzle(n,t)[0]||null},Mo=Sizzle,xo=Sizzle.matchesSelector),to.selection=function(){return to.select(io.documentElement)};var bo=to.selection.prototype=[];bo.select=function(n){var t,e,r,i,u=[];n=A(n);for(var o=-1,a=this.length;++o<a;){u.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var c=-1,l=r.length;++c<l;)(i=r[c])?(t.push(e=n.call(i,i.__data__,c,o)),e&&"__data__"in i&&(e.__data__=i.__data__)):t.push(null)}return E(u)},bo.selectAll=function(n){var t,e,r=[];n=C(n);for(var i=-1,u=this.length;++i<u;)for(var o=this[i],a=-1,c=o.length;++a<c;)(e=o[a])&&(r.push(t=ro(n.call(e,e.__data__,a,i))),t.parentNode=e);return E(r)};var _o={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};to.ns={prefix:_o,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&(e=n.slice(0,t),n=n.slice(t+1)),_o.hasOwnProperty(e)?{space:_o[e],local:n}:n}},bo.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=to.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(z(t,n[t]));return this}return this.each(z(n,t))},bo.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=T(n)).length,i=-1;if(t=e.classList){for(;++i<r;)if(!t.contains(n[i]))return!1}else for(t=e.getAttribute("class");++i<r;)if(!L(n[i]).test(t))return!1;return!0}for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},bo.style=function(n,e,r){var i=arguments.length;if(i<3){if("string"!=typeof n){i<2&&(e="");for(r in n)this.each(P(r,n[r],e));return this}if(i<2){var u=this.node();return t(u).getComputedStyle(u,null).getPropertyValue(n)}r=""}return this.each(P(n,e,r))},bo.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(U(t,n[t]));return this}return this.each(U(n,t))},bo.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},bo.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},bo.append=function(n){return n=j(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},bo.insert=function(n,t){return n=j(n),t=A(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},bo.remove=function(){return this.each(F)},bo.data=function(n,t){function e(n,e){var r,i,u,o=n.length,s=e.length,h=Math.min(o,s),p=new Array(s),g=new Array(s),v=new Array(o);if(t){var d,y=new l,m=new Array(o);for(r=-1;++r<o;)y.has(d=t.call(i=n[r],i.__data__,r))?v[r]=i:y.set(d,i),m[r]=d;for(r=-1;++r<s;)(i=y.get(d=t.call(e,u=e[r],r)))?i!==!0&&(p[r]=i,i.__data__=u):g[r]=H(u),y.set(d,!0);for(r=-1;++r<o;)y.get(m[r])!==!0&&(v[r]=n[r])}else{for(r=-1;++r<h;)i=n[r],u=e[r],i?(i.__data__=u,p[r]=i):g[r]=H(u);for(;r<s;++r)g[r]=H(e[r]);for(;r<o;++r)v[r]=n[r]}g.update=p,g.parentNode=p.parentNode=v.parentNode=n.parentNode,a.push(g),c.push(p),f.push(v)}var r,i,u=-1,o=this.length;if(!arguments.length){for(n=new Array(o=(r=this[0]).length);++u<o;)(i=r[u])&&(n[u]=i.__data__);return n}var a=Z([]),c=E([]),f=E([]);if("function"==typeof n)for(;++u<o;)e(r=this[u],n.call(r,r.parentNode.__data__,u));else for(;++u<o;)e(r=this[u],n);return c.enter=function(){return a},c.exit=function(){return f},c},bo.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},bo.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=O(n));for(var u=0,o=this.length;u<o;u++){i.push(t=[]),t.parentNode=(e=this[u]).parentNode;for(var a=0,c=e.length;a<c;a++)(r=e[a])&&n.call(r,r.__data__,a,u)&&t.push(r)}return E(i)},bo.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],i=r.length-1,u=r[i];--i>=0;)(e=r[i])&&(u&&u!==e.nextSibling&&u.parentNode.insertBefore(e,u),u=e);return this},bo.sort=function(n){n=I.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},bo.each=function(n){return Y(this,function(t,e,r){n.call(t,t.__data__,e,r)})},bo.call=function(n){var t=ro(arguments);return n.apply(t[0]=this,t),this},bo.empty=function(){return!this.node()},bo.node=function(){for(var n=0,t=this.length;n<t;n++)for(var e=this[n],r=0,i=e.length;r<i;r++){var u=e[r];if(u)return u}return null},bo.size=function(){var n=0;return Y(this,function(){++n}),n};var wo=[];to.selection.enter=Z,to.selection.enter.prototype=wo,wo.append=bo.append,wo.empty=bo.empty,wo.node=bo.node,wo.call=bo.call,wo.size=bo.size,wo.select=function(n){for(var t,e,r,i,u,o=[],a=-1,c=this.length;++a<c;){r=(i=this[a]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var l=-1,f=i.length;++l<f;)(u=i[l])?(t.push(r[l]=e=n.call(i.parentNode,u.__data__,l,a)),e.__data__=u.__data__):t.push(null)}return E(o)},wo.insert=function(n,t){return arguments.length<2&&(t=V(this)),bo.insert.call(this,n,t)},to.select=function(t){var e;return"string"==typeof t?(e=[mo(t,io)],e.parentNode=io.documentElement):(e=[t],e.parentNode=n(t)),E([e])},to.selectAll=function(n){var t;return"string"==typeof n?(t=ro(Mo(n,io)),t.parentNode=io.documentElement):(t=n,t.parentNode=null),E([t])},bo.on=function(n,t,e){var r=arguments.length;if(r<3){if("string"!=typeof n){r<2&&(t=!1);for(e in n)this.each(X(e,n[e],t));return this}if(r<2)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(X(n,t,e))};var So=to.map({mouseenter:"mouseover",mouseleave:"mouseout"});io&&So.forEach(function(n){"on"+n in io&&So.remove(n)});var ko,No=0;to.mouse=function(n){return J(n,k())};var Eo=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;to.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=k().changedTouches),t)for(var r,i=0,u=t.length;i<u;++i)if((r=t[i]).identifier===e)return J(n,r)},to.behavior.drag=function(){function n(){this.on("mousedown.drag",u).on("touchstart.drag",o)}function e(n,t,e,u,o){return function(){function c(){var n,e,r=t(a(p),d);r&&(n=r[0]-x[0],e=r[1]-x[1],v|=n|e,x=r,g({type:"drag",x:r[0]+f[0],y:r[1]+f[1],dx:n,dy:e}))}function l(){t(a(p),d)&&(m.on(u+y,null).on(o+y,null),M(v&&to.event.target===h),g({type:"dragend"}))}var f,s=this,h=to.event.target,p=s.parentNode,g=r.of(s,arguments),v=0,d=n(),y=".drag"+(null==d?"":"-"+d),m=to.select(e(h)).on(u+y,c).on(o+y,l),M=W(h),x=t(a(p),d);i?(f=i.apply(s,arguments),f=[f.x-x[0],f.y-x[1]]):f=[0,0],g({type:"dragstart"})}}var r=N(n,"drag","dragstart","dragend"),i=null,u=e(b,to.mouse,t,"mousemove","mouseup"),o=e(G,to.touch,m,"touchmove","touchend"),a=function(n){return n.parentNode};return n.origin=function(t){return arguments.length?(i=t,n):i},n.base=function(t){return arguments.length?(a=t,n):a},to.rebind(n,r,"on")},to.touches=function(n,t){return arguments.length<2&&(t=k().touches),t?ro(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Ao=1e-6,Co=Ao*Ao,zo=Math.PI,qo=2*zo,Lo=qo-Ao,To=zo/2,Ro=zo/180,Do=180/zo,Po=Math.SQRT2,Uo=2,jo=4;to.interpolateZoom=function(n,t){function e(n){var t=n*m;if(y){var e=rn(v),o=u/(Uo*h)*(e*un(Po*t+v)-en(v));return[r+o*l,i+o*f,u*e/rn(Po*t+v)]}return[r+n*l,i+n*f,u*Math.exp(Po*t)]}var r=n[0],i=n[1],u=n[2],o=t[0],a=t[1],c=t[2],l=o-r,f=a-i,s=l*l+f*f,h=Math.sqrt(s),p=(c*c-u*u+jo*s)/(2*u*Uo*h),g=(c*c-u*u-jo*s)/(2*c*Uo*h),v=Math.log(Math.sqrt(p*p+1)-p),d=Math.log(Math.sqrt(g*g+1)-g),y=d-v,m=(y||Math.log(c/u))/Po;return e.duration=1e3*m,e},to.behavior.zoom=function(){function n(n){n.on(q,s).on(Ho+".zoom",p).on("dblclick.zoom",g).on(R,h)}function e(n){return[(n[0]-k.x)/k.k,(n[1]-k.y)/k.k]}function r(n){return[n[0]*k.k+k.x,n[1]*k.k+k.y]}function i(n){k.k=Math.max(A[0],Math.min(A[1],n))}function u(n,t){t=r(t),k.x+=n[0]-t[0],k.y+=n[1]-t[1]}function o(t,e,r,o){t.__chart__={x:k.x,y:k.y,k:k.k},i(Math.pow(2,o)),u(d=e,r),t=to.select(t),C>0&&(t=t.transition().duration(C)),t.call(n.event)}function a(){b&&b.domain(x.range().map(function(n){return(n-k.x)/k.k}).map(x.invert)),w&&w.domain(_.range().map(function(n){return(n-k.y)/k.k}).map(_.invert))}function c(n){z++||n({type:"zoomstart"})}function l(n){a(),n({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function f(n){--z||(n({type:"zoomend"}),d=null)}function s(){function n(){s=1,u(to.mouse(i),p),l(a)}function r(){h.on(L,null).on(T,null),g(s&&to.event.target===o),f(a)}var i=this,o=to.event.target,a=D.of(i,arguments),s=0,h=to.select(t(i)).on(L,n).on(T,r),p=e(to.mouse(i)),g=W(i);Rc.call(i),c(a)}function h(){function n(){var n=to.touches(g);return p=k.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=e(n))}),n}function t(){var t=to.event.target;to.select(t).on(x,r).on(b,a),_.push(t);for(var e=to.event.changedTouches,i=0,u=e.length;i<u;++i)d[e[i].identifier]=null;var c=n(),l=Date.now();if(1===c.length){if(l-M<500){var f=c[0];o(g,f,d[f.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),S()}M=l}else if(c.length>1){var f=c[0],s=c[1],h=f[0]-s[0],p=f[1]-s[1];y=h*h+p*p}}function r(){var n,t,e,r,o=to.touches(g);Rc.call(g);for(var a=0,c=o.length;a<c;++a,r=null)if(e=o[a],r=d[e.identifier]){if(t)break;n=e,t=r}if(r){var f=(f=e[0]-n[0])*f+(f=e[1]-n[1])*f,s=y&&Math.sqrt(f/y);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],i(s*p)}M=null,u(n,t),l(v)}function a(){if(to.event.touches.length){for(var t=to.event.changedTouches,e=0,r=t.length;e<r;++e)delete d[t[e].identifier];for(var i in d)return void n()}to.selectAll(_).on(m,null),w.on(q,s).on(R,h),N(),f(v)}var p,g=this,v=D.of(g,arguments),d={},y=0,m=".zoom-"+to.event.changedTouches[0].identifier,x="touchmove"+m,b="touchend"+m,_=[],w=to.select(g),N=W(g);t(),c(v),w.on(q,null).on(R,t)}function p(){var n=D.of(this,arguments);m?clearTimeout(m):(Rc.call(this),v=e(d=y||to.mouse(this)),c(n)),m=setTimeout(function(){m=null,f(n)},50),S(),i(Math.pow(2,.002*Fo())*k.k),u(d,v),l(n)}function g(){var n=to.mouse(this),t=Math.log(k.k)/Math.LN2;o(this,n,e(n),to.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v,d,y,m,M,x,b,_,w,k={x:0,y:0,k:1},E=[960,500],A=Oo,C=250,z=0,q="mousedown.zoom",L="mousemove.zoom",T="mouseup.zoom",R="touchstart.zoom",D=N(n,"zoomstart","zoom","zoomend");return Ho||(Ho="onwheel"in io?(Fo=function(){return-to.event.deltaY*(to.event.deltaMode?120:1)},"wheel"):"onmousewheel"in io?(Fo=function(){return to.event.wheelDelta},"mousewheel"):(Fo=function(){return-to.event.detail},"MozMousePixelScroll")),n.event=function(n){n.each(function(){var n=D.of(this,arguments),t=k;Lc?to.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},c(n)}).tween("zoom:zoom",function(){var e=E[0],r=E[1],i=d?d[0]:e/2,u=d?d[1]:r/2,o=to.interpolateZoom([(i-k.x)/k.k,(u-k.y)/k.k,e/k.k],[(i-t.x)/t.k,(u-t.y)/t.k,e/t.k]);return function(t){var r=o(t),a=e/r[2];this.__chart__=k={x:i-r[0]*a,y:u-r[1]*a,k:a},l(n)}}).each("interrupt.zoom",function(){f(n)}).each("end.zoom",function(){f(n)}):(this.__chart__=k,c(n),l(n),f(n))})},n.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},a(),n):[k.x,k.y]},n.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:+t},a(),n):k.k},n.scaleExtent=function(t){return arguments.length?(A=null==t?Oo:[+t[0],+t[1]],n):A},n.center=function(t){return arguments.length?(y=t&&[+t[0],+t[1]],n):y},n.size=function(t){return arguments.length?(E=t&&[+t[0],+t[1]],n):E},n.duration=function(t){return arguments.length?(C=+t,n):C},n.x=function(t){return arguments.length?(b=t,x=t.copy(),k={x:0,y:0,k:1},n):b},n.y=function(t){return arguments.length?(w=t,_=t.copy(),k={x:0,y:0,k:1},n):w},to.rebind(n,D,"on")};var Fo,Ho,Oo=[0,1/0];to.color=an,an.prototype.toString=function(){return this.rgb()+""},to.hsl=cn;var Io=cn.prototype=new an;Io.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new cn(this.h,this.s,this.l/n)},Io.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new cn(this.h,this.s,n*this.l)},Io.rgb=function(){return ln(this.h,this.s,this.l)},to.hcl=fn;var Yo=fn.prototype=new an;Yo.brighter=function(n){return new fn(this.h,this.c,Math.min(100,this.l+Zo*(arguments.length?n:1)))},Yo.darker=function(n){return new fn(this.h,this.c,Math.max(0,this.l-Zo*(arguments.length?n:1)))},Yo.rgb=function(){return sn(this.h,this.c,this.l).rgb()},to.lab=hn;var Zo=18,Vo=.95047,Xo=1,$o=1.08883,Bo=hn.prototype=new an;Bo.brighter=function(n){return new hn(Math.min(100,this.l+Zo*(arguments.length?n:1)),this.a,this.b)},Bo.darker=function(n){return new hn(Math.max(0,this.l-Zo*(arguments.length?n:1)),this.a,this.b)},Bo.rgb=function(){return pn(this.l,this.a,this.b)},to.rgb=mn;var Wo=mn.prototype=new an;Wo.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,i=30;return t||e||r?(t&&t<i&&(t=i),e&&e<i&&(e=i),r&&r<i&&(r=i),new mn(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new mn(i,i,i)},Wo.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new mn(n*this.r,n*this.g,n*this.b)},Wo.hsl=function(){return wn(this.r,this.g,this.b)},Wo.toString=function(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)};var Jo=to.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Jo.forEach(function(n,t){Jo.set(n,Mn(t))}),to.functor=En,to.xhr=An(m),to.dsv=function(n,t){function e(n,e,u){arguments.length<3&&(u=e,e=null);var o=Cn(n,t,null==e?r:i(e),u);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:i(n)):e},o}function r(n){return e.parse(n.responseText)}function i(n){return function(t){return e.parse(t.responseText,n)}}function u(t){return t.map(o).join(n)}function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n]"),c=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var i=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(i(n),e)}:i})},e.parseRows=function(n,t){function e(){if(f>=l)return o;if(i)return i=!1,u;var t=f;if(34===n.charCodeAt(t)){for(var e=t;e++<l;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}f=e+2;var r=n.charCodeAt(e+1);return 13===r?(i=!0,10===n.charCodeAt(e+2)&&++f):10===r&&(i=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;f<l;){var r=n.charCodeAt(f++),a=1;if(10===r)i=!0;else if(13===r)i=!0,10===n.charCodeAt(f)&&(++f,++a);else if(r!==c)continue;return n.slice(t,f-a)}return n.slice(t)}for(var r,i,u={},o={},a=[],l=n.length,f=0,s=0;(r=e())!==o;){for(var h=[];r!==u&&r!==o;)h.push(r),r=e();t&&null==(h=t(h,s++))||a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new y,i=[];return t.forEach(function(n){for(var t in n)r.has(t)||i.push(r.add(t))}),[i.map(o).join(n)].concat(t.map(function(t){return i.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(u).join("\n")},e},to.csv=to.dsv(",","text/csv"),to.tsv=to.dsv("\t","text/tab-separated-values");var Go,Ko,Qo,na,ta,ea=this[x(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};to.timer=function(n,t,e){var r=arguments.length;r<2&&(t=0),r<3&&(e=Date.now());var i=e+t,u={c:n,t:i,f:!1,n:null};Ko?Ko.n=u:Go=u,Ko=u,Qo||(na=clearTimeout(na),Qo=1,ea(Ln))},to.timer.flush=function(){Tn(),Rn()},to.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var ra=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Pn);to.formatPrefix=function(n,t){var e=0;return n&&(n<0&&(n*=-1),t&&(n=to.round(n,Dn(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),ra[8+e/3]};var ia=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ua=to.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=to.round(n,Dn(n,t))).toFixed(Math.max(0,Math.min(20,Dn(n*(1+1e-15),t))))}}),oa=to.time={},aa=Date;Fn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ca.setUTCDate.apply(this._,arguments)},setDay:function(){ca.setUTCDay.apply(this._,arguments)},setFullYear:function(){ca.setUTCFullYear.apply(this._,arguments)},setHours:function(){ca.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ca.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ca.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ca.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ca.setUTCSeconds.apply(this._,arguments)},setTime:function(){ca.setTime.apply(this._,arguments)}};var ca=Date.prototype;oa.year=Hn(function(n){return n=oa.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),oa.years=oa.year.range,oa.years.utc=oa.year.utc.range,oa.day=Hn(function(n){var t=new aa(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),oa.days=oa.day.range,oa.days.utc=oa.day.utc.range,oa.dayOfYear=function(n){var t=oa.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=oa[n]=Hn(function(n){return(n=oa.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=oa.year(n).getDay();return Math.floor((oa.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});oa[n+"s"]=e.range,oa[n+"s"].utc=e.utc.range,oa[n+"OfYear"]=function(n){var e=oa.year(n).getDay();return Math.floor((oa.dayOfYear(n)+(e+t)%7)/7)}}),oa.week=oa.sunday,oa.weeks=oa.sunday.range,oa.weeks.utc=oa.sunday.utc.range,oa.weekOfYear=oa.sundayOfYear;var la={"-":"",_:" ",0:"0"},fa=/^\s*\d+/,sa=/^%/;to.locale=function(n){return{numberFormat:Un(n),timeFormat:In(n)}};var ha=to.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]
});to.format=ha.numberFormat,to.geo={},lt.prototype={s:0,t:0,add:function(n){ft(n,this.t,pa),ft(pa.s,this.s,this),this.s?this.t+=pa.t:this.s=pa.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pa=new lt;to.geo.stream=function(n,t){n&&ga.hasOwnProperty(n.type)?ga[n.type](n,t):st(n,t)};var ga={Feature:function(n,t){st(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)st(e[r].geometry,t)}},va={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){ht(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)ht(e[r],t,0)},Polygon:function(n,t){pt(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)pt(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)st(e[r],t)}};to.geo.area=function(n){return da=0,to.geo.stream(n,ma),da};var da,ya=new lt,ma={sphere:function(){da+=4*zo},point:b,lineStart:b,lineEnd:b,polygonStart:function(){ya.reset(),ma.lineStart=gt},polygonEnd:function(){var n=2*ya;da+=n<0?4*zo+n:n,ma.lineStart=ma.lineEnd=ma.point=b}};to.geo.bounds=function(){function n(n,t){M.push(x=[f=n,h=n]),t<s&&(s=t),t>p&&(p=t)}function t(t,e){var r=vt([t*Ro,e*Ro]);if(y){var i=yt(y,r),u=[i[1],-i[0],0],o=yt(u,i);xt(o),o=bt(o);var c=t-g,l=c>0?1:-1,v=o[0]*Do*l,d=so(c)>180;if(d^(l*g<v&&v<l*t)){var m=o[1]*Do;m>p&&(p=m)}else if(v=(v+360)%360-180,d^(l*g<v&&v<l*t)){var m=-o[1]*Do;m<s&&(s=m)}else e<s&&(s=e),e>p&&(p=e);d?t<g?a(f,t)>a(f,h)&&(h=t):a(t,h)>a(f,h)&&(f=t):h>=f?(t<f&&(f=t),t>h&&(h=t)):t>g?a(f,t)>a(f,h)&&(h=t):a(t,h)>a(f,h)&&(f=t)}else n(t,e);y=r,g=t}function e(){b.point=t}function r(){x[0]=f,x[1]=h,b.point=n,y=null}function i(n,e){if(y){var r=n-g;m+=so(r)>180?r+(r>0?360:-360):r}else v=n,d=e;ma.point(n,e),t(n,e)}function u(){ma.lineStart()}function o(){i(v,d),ma.lineEnd(),so(m)>Ao&&(f=-(h=180)),x[0]=f,x[1]=h,y=null}function a(n,t){return(t-=n)<0?t+360:t}function c(n,t){return n[0]-t[0]}function l(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var f,s,h,p,g,v,d,y,m,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=i,b.lineStart=u,b.lineEnd=o,m=0,ma.polygonStart()},polygonEnd:function(){ma.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,ya<0?(f=-(h=180),s=-(p=90)):m>Ao?p=90:m<-Ao&&(s=-90),x[0]=f,x[1]=h}};return function(n){p=h=-(f=s=1/0),M=[],to.geo.stream(n,b);var t=M.length;if(t){M.sort(c);for(var e,r=1,i=M[0],u=[i];r<t;++r)e=M[r],l(e[0],i)||l(e[1],i)?(a(i[0],e[1])>a(i[0],i[1])&&(i[1]=e[1]),a(e[0],i[1])>a(i[0],i[1])&&(i[0]=e[0])):u.push(i=e);for(var o,e,g=-(1/0),t=u.length-1,r=0,i=u[t];r<=t;i=e,++r)e=u[r],(o=a(i[1],e[0]))>g&&(g=o,f=e[0],h=i[1])}return M=x=null,f===1/0||s===1/0?[[NaN,NaN],[NaN,NaN]]:[[f,s],[h,p]]}}(),to.geo.centroid=function(n){Ma=xa=ba=_a=wa=Sa=ka=Na=Ea=Aa=Ca=0,to.geo.stream(n,za);var t=Ea,e=Aa,r=Ca,i=t*t+e*e+r*r;return i<Co&&(t=Sa,e=ka,r=Na,xa<Ao&&(t=ba,e=_a,r=wa),i=t*t+e*e+r*r,i<Co)?[NaN,NaN]:[Math.atan2(e,t)*Do,tn(r/Math.sqrt(i))*Do]};var Ma,xa,ba,_a,wa,Sa,ka,Na,Ea,Aa,Ca,za={sphere:b,point:wt,lineStart:kt,lineEnd:Nt,polygonStart:function(){za.lineStart=Et},polygonEnd:function(){za.lineStart=kt}},qa=Tt(Ct,Ut,Ft,[-zo,-zo/2]),La=1e9;to.geo.clipExtent=function(){var n,t,e,r,i,u,o={stream:function(n){return i&&(i.valid=!1),i=u(n),i.valid=!0,i},extent:function(a){return arguments.length?(u=Yt(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(to.geo.conicEqualArea=function(){return Zt(Vt)}).raw=Vt,to.geo.albers=function(){return to.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},to.geo.albersUsa=function(){function n(n){var u=n[0],o=n[1];return t=null,e(u,o),t||(r(u,o),t)||i(u,o),t}var t,e,r,i,u=to.geo.albers(),o=to.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=to.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=u.scale(),e=u.translate(),r=(n[0]-e[0])/t,i=(n[1]-e[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?a:u).invert(n)},n.stream=function(n){var t=u.stream(n),e=o.stream(n),r=a.stream(n);return{point:function(n,i){t.point(n,i),e.point(n,i),r.point(n,i)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(u.precision(t),o.precision(t),a.precision(t),n):u.precision()},n.scale=function(t){return arguments.length?(u.scale(t),o.scale(.35*t),a.scale(t),n.translate(u.translate())):u.scale()},n.translate=function(t){if(!arguments.length)return u.translate();var l=u.scale(),f=+t[0],s=+t[1];return e=u.translate(t).clipExtent([[f-.455*l,s-.238*l],[f+.455*l,s+.238*l]]).stream(c).point,r=o.translate([f-.307*l,s+.201*l]).clipExtent([[f-.425*l+Ao,s+.12*l+Ao],[f-.214*l-Ao,s+.234*l-Ao]]).stream(c).point,i=a.translate([f-.205*l,s+.212*l]).clipExtent([[f-.214*l+Ao,s+.166*l+Ao],[f-.115*l-Ao,s+.234*l-Ao]]).stream(c).point,n},n.scale(1070)};var Ta,Ra,Da,Pa,Ua,ja,Fa={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Ra=0,Fa.lineStart=Xt},polygonEnd:function(){Fa.lineStart=Fa.lineEnd=Fa.point=b,Ta+=so(Ra/2)}},Ha={point:$t,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Oa={point:Jt,lineStart:Gt,lineEnd:Kt,polygonStart:function(){Oa.lineStart=Qt},polygonEnd:function(){Oa.point=Jt,Oa.lineStart=Gt,Oa.lineEnd=Kt}};to.geo.path=function(){function n(n){return n&&("function"==typeof a&&u.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=i(u)),to.geo.stream(n,o)),u.result()}function t(){return o=null,n}var e,r,i,u,o,a=4.5;return n.area=function(n){return Ta=0,to.geo.stream(n,i(Fa)),Ta},n.centroid=function(n){return ba=_a=wa=Sa=ka=Na=Ea=Aa=Ca=0,to.geo.stream(n,i(Oa)),Ca?[Ea/Ca,Aa/Ca]:Na?[Sa/Na,ka/Na]:wa?[ba/wa,_a/wa]:[NaN,NaN]},n.bounds=function(n){return Ua=ja=-(Da=Pa=1/0),to.geo.stream(n,i(Ha)),[[Da,Pa],[Ua,ja]]},n.projection=function(n){return arguments.length?(i=(e=n)?n.stream||ee(n):m,t()):e},n.context=function(n){return arguments.length?(u=null==(r=n)?new Bt:new ne(n),"function"!=typeof a&&u.pointRadius(a),t()):r},n.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(u.pointRadius(+t),+t),n):a},n.projection(to.geo.albersUsa()).context(null)},to.geo.transform=function(n){return{stream:function(t){var e=new re(t);for(var r in n)e[r]=n[r];return e}}},re.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},to.geo.projection=ue,to.geo.projectionMutator=oe,(to.geo.equirectangular=function(){return ue(ce)}).raw=ce.invert=ce,to.geo.rotation=function(n){function t(t){return t=n(t[0]*Ro,t[1]*Ro),t[0]*=Do,t[1]*=Do,t}return n=fe(n[0]%360*Ro,n[1]*Ro,n.length>2?n[2]*Ro:0),t.invert=function(t){return t=n.invert(t[0]*Ro,t[1]*Ro),t[0]*=Do,t[1]*=Do,t},t},le.invert=ce,to.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=fe(-n[0]*Ro,-n[1]*Ro,0).invert,i=[];return e(null,null,1,{point:function(n,e){i.push(n=t(n,e)),n[0]*=Do,n[1]*=Do}}),{type:"Polygon",coordinates:[i]}}var t,e,r=[0,0],i=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=ge((t=+r)*Ro,i*Ro),n):t},n.precision=function(r){return arguments.length?(e=ge(t*Ro,(i=+r)*Ro),n):i},n.angle(90)},to.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Ro,i=n[1]*Ro,u=t[1]*Ro,o=Math.sin(r),a=Math.cos(r),c=Math.sin(i),l=Math.cos(i),f=Math.sin(u),s=Math.cos(u);return Math.atan2(Math.sqrt((e=s*o)*e+(e=l*f-c*s*a)*e),c*f+l*s*a)},to.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return to.range(Math.ceil(u/d)*d,i,d).map(h).concat(to.range(Math.ceil(l/y)*y,c,y).map(p)).concat(to.range(Math.ceil(r/g)*g,e,g).filter(function(n){return so(n%d)>Ao}).map(f)).concat(to.range(Math.ceil(a/v)*v,o,v).filter(function(n){return so(n%y)>Ao}).map(s))}var e,r,i,u,o,a,c,l,f,s,h,p,g=10,v=g,d=90,y=360,m=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(u).concat(p(c).slice(1),h(i).reverse().slice(1),p(l).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(u=+t[0][0],i=+t[1][0],l=+t[0][1],c=+t[1][1],u>i&&(t=u,u=i,i=t),l>c&&(t=l,l=c,c=t),n.precision(m)):[[u,l],[i,c]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(m)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],y=+t[1],n):[d,y]},n.minorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],n):[g,v]},n.precision=function(t){return arguments.length?(m=+t,f=de(a,o,90),s=ye(r,e,m),h=de(l,c,90),p=ye(u,i,m),n):m},n.majorExtent([[-180,-90+Ao],[180,90-Ao]]).minorExtent([[-180,-80-Ao],[180,80+Ao]])},to.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||i.apply(this,arguments)]}}var t,e,r=me,i=Me;return n.distance=function(){return to.geo.distance(t||r.apply(this,arguments),e||i.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(i=t,e="function"==typeof t?null:t,n):i},n.precision=function(){return arguments.length?n:0},n},to.geo.interpolate=function(n,t){return xe(n[0]*Ro,n[1]*Ro,t[0]*Ro,t[1]*Ro)},to.geo.length=function(n){return Ia=0,to.geo.stream(n,Ya),Ia};var Ia,Ya={sphere:b,point:b,lineStart:be,lineEnd:b,polygonStart:b,polygonEnd:b},Za=_e(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(to.geo.azimuthalEqualArea=function(){return ue(Za)}).raw=Za;var Va=_e(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},m);(to.geo.azimuthalEquidistant=function(){return ue(Va)}).raw=Va,(to.geo.conicConformal=function(){return Zt(we)}).raw=we,(to.geo.conicEquidistant=function(){return Zt(Se)}).raw=Se;var Xa=_e(function(n){return 1/n},Math.atan);(to.geo.gnomonic=function(){return ue(Xa)}).raw=Xa,ke.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-To]},(to.geo.mercator=function(){return Ne(ke)}).raw=ke;var $a=_e(function(){return 1},Math.asin);(to.geo.orthographic=function(){return ue($a)}).raw=$a;var Ba=_e(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(to.geo.stereographic=function(){return ue(Ba)}).raw=Ba,Ee.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-To]},(to.geo.transverseMercator=function(){var n=Ne(Ee),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Ee,to.geom={},to.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,i=En(e),u=En(r),o=n.length,a=[],c=[];for(t=0;t<o;t++)a.push([+i.call(this,n[t],t),+u.call(this,n[t],t),t]);for(a.sort(qe),t=0;t<o;t++)c.push([a[t][0],-a[t][1]]);var l=ze(a),f=ze(c),s=f[0]===l[0],h=f[f.length-1]===l[l.length-1],p=[];for(t=l.length-1;t>=0;--t)p.push(n[a[l[t]][2]]);for(t=+s;t<f.length-h;++t)p.push(n[a[f[t]][2]]);return p}var e=Ae,r=Ce;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},to.geom.polygon=function(n){return yo(n,Wa),n};var Wa=to.geom.polygon.prototype=[];Wa.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],i=0;++t<e;)n=r,r=this[t],i+=n[1]*r[0]-n[0]*r[1];return.5*i},Wa.centroid=function(n){var t,e,r=-1,i=this.length,u=0,o=0,a=this[i-1];for(arguments.length||(n=-1/(6*this.area()));++r<i;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],u+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[u*n,o*n]},Wa.clip=function(n){for(var t,e,r,i,u,o,a=Re(n),c=-1,l=this.length-Re(this),f=this[l-1];++c<l;){for(t=n.slice(),n.length=0,i=this[c],u=t[(r=t.length-a)-1],e=-1;++e<r;)o=t[e],Le(o,f,i)?(Le(u,f,i)||n.push(Te(u,o,f,i)),n.push(o)):Le(u,f,i)&&n.push(Te(u,o,f,i)),u=o;a&&n.push(n[0]),f=i}return n};var Ja,Ga,Ka,Qa,nc,tc=[],ec=[];Ie.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(Ze),t.length},nr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},tr.prototype={insert:function(n,t){var e,r,i;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=ur(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.R&&(rr(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ir(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.L&&(ir(this,e),n=e,e=n.U),e.C=!1,r.C=!0,rr(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,i=n.U,u=n.L,o=n.R;if(e=u?o?ur(o):u:o,i?i.L===n?i.L=e:i.R=e:this._=e,u&&o?(r=e.C,e.C=n.C,e.L=u,u.U=e,e!==o?(i=e.U,e.U=n.U,n=e.R,i.L=n,e.R=o,o.U=e):(e.U=i,i=e,n=e.R)):(r=n.C,n=e),n&&(n.U=i),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,rr(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ir(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,rr(this,i),n=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ir(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,rr(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ir(this,i),n=this._;break}t.C=!0,n=i,i=i.U}while(!n.C);n&&(n.C=!1)}}},to.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],i=a[0][1],u=a[1][0],o=a[1][1];return or(e(n),a).cells.forEach(function(e,a){var c=e.edges,l=e.site,f=t[a]=c.length?c.map(function(n){var t=n.start();return[t.x,t.y]}):l.x>=r&&l.x<=u&&l.y>=i&&l.y<=o?[[r,o],[u,o],[u,i],[r,i]]:[];f.point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(u(n,t)/Ao)*Ao,y:Math.round(o(n,t)/Ao)*Ao,i:t}})}var r=Ae,i=Ce,u=r,o=i,a=rc;return n?t(n):(t.links=function(n){return or(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return or(e(n)).cells.forEach(function(e,r){for(var i,u,o=e.site,a=e.edges.sort(Ze),c=-1,l=a.length,f=a[l-1].edge,s=f.l===o?f.r:f.l;++c<l;)i=f,u=s,f=a[c].edge,s=f.l===o?f.r:f.l,r<u.i&&r<s.i&&cr(o,u,s)<0&&t.push([n[r],n[u.i],n[s.i]])}),t},t.x=function(n){return arguments.length?(u=En(r=n),t):r},t.y=function(n){return arguments.length?(o=En(i=n),t):i},t.clipExtent=function(n){return arguments.length?(a=null==n?rc:n,t):a===rc?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===rc?null:a&&a[1]},t)};var rc=[[-1e6,-1e6],[1e6,1e6]];to.geom.delaunay=function(n){return to.geom.voronoi().triangles(n)},to.geom.quadtree=function(n,t,e,r,i){function u(n){function u(n,t,e,r,i,u,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var c=n.x,f=n.y;if(null!=c)if(so(c-e)+so(f-r)<.01)l(n,t,e,r,i,u,o,a);else{var s=n.point;n.x=n.y=n.point=null,l(n,s,c,f,i,u,o,a),l(n,t,e,r,i,u,o,a)}else n.x=e,n.y=r,n.point=t}else l(n,t,e,r,i,u,o,a)}function l(n,t,e,r,i,o,a,c){var l=.5*(i+a),f=.5*(o+c),s=e>=l,h=r>=f,p=h<<1|s;n.leaf=!1,n=n.nodes[p]||(n.nodes[p]=sr()),s?i=l:a=l,h?o=f:c=f,u(n,t,e,r,i,o,a,c)}var f,s,h,p,g,v,d,y,m,M=En(a),x=En(c);if(null!=t)v=t,d=e,y=r,m=i;else if(y=m=-(v=d=1/0),s=[],h=[],g=n.length,o)for(p=0;p<g;++p)f=n[p],f.x<v&&(v=f.x),f.y<d&&(d=f.y),f.x>y&&(y=f.x),f.y>m&&(m=f.y),s.push(f.x),h.push(f.y);else for(p=0;p<g;++p){var b=+M(f=n[p],p),_=+x(f,p);b<v&&(v=b),_<d&&(d=_),b>y&&(y=b),_>m&&(m=_),s.push(b),h.push(_)}var w=y-v,S=m-d;w>S?m=d+w:y=v+S;var k=sr();if(k.add=function(n){u(k,n,+M(n,++p),+x(n,p),v,d,y,m)},k.visit=function(n){hr(n,k,v,d,y,m)},k.find=function(n){return pr(k,n[0],n[1],v,d,y,m)},p=-1,null==t){for(;++p<g;)u(k,n[p],s[p],h[p],v,d,y,m);--p}else n.forEach(k.add);return s=h=n=f=null,k}var o,a=Ae,c=Ce;return(o=arguments.length)?(a=lr,c=fr,3===o&&(i=e,r=t,e=t=0),u(n)):(u.x=function(n){return arguments.length?(a=n,u):a},u.y=function(n){return arguments.length?(c=n,u):c},u.extent=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],i=+n[1][1]),u):null==t?null:[[t,e],[r,i]]},u.size=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=e=0,r=+n[0],i=+n[1]),u):null==t?null:[r-t,i-e]},u)},to.interpolateRgb=gr,to.interpolateObject=vr,to.interpolateNumber=dr,to.interpolateString=yr;var ic=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uc=new RegExp(ic.source,"g");to.interpolate=mr,to.interpolators=[function(n,t){var e=typeof t;return("string"===e?Jo.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?gr:yr:t instanceof an?gr:Array.isArray(t)?Mr:"object"===e&&isNaN(t)?vr:dr)(n,t)}],to.interpolateArray=Mr;var oc=function(){return m},ac=to.map({linear:oc,poly:Nr,quad:function(){return wr},cubic:function(){return Sr},sin:function(){return Er},exp:function(){return Ar},circle:function(){return Cr},elastic:zr,back:qr,bounce:function(){return Lr}}),cc=to.map({in:m,out:br,"in-out":_r,"out-in":function(n){return _r(br(n))}});to.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=ac.get(e)||oc,r=cc.get(r)||m,xr(r(e.apply(null,eo.call(arguments,1))))},to.interpolateHcl=Tr,to.interpolateHsl=Rr,to.interpolateLab=Dr,to.interpolateRound=Pr,to.transform=function(n){var t=io.createElementNS(to.ns.prefix.svg,"g");return(to.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new Ur(e?e.matrix:lc)})(n)},Ur.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var lc={a:1,b:0,c:0,d:1,e:0,f:0};to.interpolateTransform=Or,to.layout={},to.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Zr(n[e]));return t}},to.layout.chord=function(){function n(){var n,l,s,h,p,g={},v=[],d=to.range(u),y=[];for(e=[],r=[],n=0,h=-1;++h<u;){for(l=0,p=-1;++p<u;)l+=i[h][p];v.push(l),y.push(to.range(u)),n+=l}for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&y.forEach(function(n,t){n.sort(function(n,e){return a(i[t][n],i[t][e])})}),n=(qo-f*u)/n,l=0,h=-1;++h<u;){for(s=l,p=-1;++p<u;){var m=d[h],M=y[m][p],x=i[m][M],b=l,_=l+=x*n;g[m+"-"+M]={index:m,subindex:M,startAngle:b,endAngle:_,value:x}}r[m]={index:m,startAngle:s,endAngle:l,value:(l-s)/n},l+=f}for(h=-1;++h<u;)for(p=h-1;++p<u;){var w=g[h+"-"+p],S=g[p+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}c&&t()}function t(){e.sort(function(n,t){return c((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,i,u,o,a,c,l={},f=0;return l.matrix=function(n){return arguments.length?(u=(i=n)&&i.length,e=r=null,l):i},l.padding=function(n){return arguments.length?(f=n,e=r=null,l):f},l.sortGroups=function(n){return arguments.length?(o=n,e=r=null,l):o},l.sortSubgroups=function(n){return arguments.length?(a=n,e=null,l):a},l.sortChords=function(n){return arguments.length?(c=n,e&&t(),l):c},l.chords=function(){return e||n(),e},l.groups=function(){return r||n(),r},l},to.layout.force=function(){function n(n){return function(t,e,r,i){if(t.point!==n){var u=t.cx-n.x,o=t.cy-n.y,a=i-e,c=u*u+o*o;if(a*a/d<c){if(c<g){var l=t.charge/c;n.px-=u*l,n.py-=o*l}return!0}if(t.point&&c&&c<g){var l=t.pointCharge/c;n.px-=u*l,n.py-=o*l}}return!t.charge}}function t(n){n.px=to.event.x,n.py=to.event.y,a.resume()}var e,r,i,u,o,a={},c=to.dispatch("start","tick","end"),l=[1,1],f=.9,s=fc,h=sc,p=-30,g=hc,v=.1,d=.64,y=[],M=[];return a.tick=function(){if((r*=.99)<.005)return c.end({type:"end",alpha:r=0}),!0;var t,e,a,s,h,g,d,m,x,b=y.length,_=M.length;for(e=0;e<_;++e)a=M[e],s=a.source,h=a.target,m=h.x-s.x,x=h.y-s.y,(g=m*m+x*x)&&(g=r*u[e]*((g=Math.sqrt(g))-i[e])/g,m*=g,x*=g,h.x-=m*(d=s.weight/(h.weight+s.weight)),h.y-=x*d,s.x+=m*(d=1-d),s.y+=x*d);if((d=r*v)&&(m=l[0]/2,x=l[1]/2,e=-1,d))for(;++e<b;)a=y[e],a.x+=(m-a.x)*d,a.y+=(x-a.y)*d;if(p)for(Gr(t=to.geom.quadtree(y),r,o),e=-1;++e<b;)(a=y[e]).fixed||t.visit(n(a));for(e=-1;++e<b;)a=y[e],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*f,a.y-=(a.py-(a.py=a.y))*f);c.tick({type:"tick",alpha:r})},a.nodes=function(n){return arguments.length?(y=n,a):y},a.links=function(n){return arguments.length?(M=n,a):M},a.size=function(n){return arguments.length?(l=n,a):l},a.linkDistance=function(n){return arguments.length?(s="function"==typeof n?n:+n,a):s},a.distance=a.linkDistance,a.linkStrength=function(n){return arguments.length?(h="function"==typeof n?n:+n,a):h},a.friction=function(n){return arguments.length?(f=+n,a):f},a.charge=function(n){return arguments.length?(p="function"==typeof n?n:+n,a):p},a.chargeDistance=function(n){return arguments.length?(g=n*n,a):Math.sqrt(g)},a.gravity=function(n){return arguments.length?(v=+n,a):v},a.theta=function(n){return arguments.length?(d=n*n,a):Math.sqrt(d)},a.alpha=function(n){return arguments.length?(n=+n,r?r=n>0?n:0:n>0&&(c.start({type:"start",alpha:r=n}),to.timer(a.tick)),a):r},a.start=function(){function n(n,r){if(!e){for(e=new Array(c),a=0;a<c;++a)e[a]=[];for(a=0;a<f;++a){var i=M[a];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var u,o=e[t],a=-1,l=o.length;++a<l;)if(!isNaN(u=o[a][n]))return u;return Math.random()*r}var t,e,r,c=y.length,f=M.length,g=l[0],v=l[1];for(t=0;t<c;++t)(r=y[t]).index=t,r.weight=0;for(t=0;t<f;++t)r=M[t],"number"==typeof r.source&&(r.source=y[r.source]),"number"==typeof r.target&&(r.target=y[r.target]),++r.source.weight,++r.target.weight;for(t=0;t<c;++t)r=y[t],isNaN(r.x)&&(r.x=n("x",g)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof s)for(t=0;t<f;++t)i[t]=+s.call(this,M[t],t);else for(t=0;t<f;++t)i[t]=s;if(u=[],"function"==typeof h)for(t=0;t<f;++t)u[t]=+h.call(this,M[t],t);else for(t=0;t<f;++t)u[t]=h;if(o=[],"function"==typeof p)for(t=0;t<c;++t)o[t]=+p.call(this,y[t],t);else for(t=0;t<c;++t)o[t]=p;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=to.behavior.drag().origin(m).on("dragstart.force",$r).on("drag.force",t).on("dragend.force",Br)),arguments.length?void this.on("mouseover.force",Wr).on("mouseout.force",Jr).call(e):e},to.rebind(a,c,"on")};var fc=20,sc=1,hc=1/0;to.layout.hierarchy=function(){function n(i){var u,o=[i],a=[];for(i.depth=0;null!=(u=o.pop());)if(a.push(u),(l=e.call(n,u,u.depth))&&(c=l.length)){for(var c,l,f;--c>=0;)o.push(f=l[c]),f.parent=u,f.depth=u.depth+1;r&&(u.value=0),u.children=l}else r&&(u.value=+r.call(n,u,u.depth)||0),delete u.children;return ni(i,function(n){var e,i;t&&(e=n.children)&&e.sort(t),r&&(i=n.parent)&&(i.value+=n.value)}),a}var t=ri,e=ti,r=ei;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(Qr(t,function(n){n.children&&(n.value=0)}),ni(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},to.layout.partition=function(){function n(t,e,r,i){var u=t.children;if(t.x=e,t.y=t.depth*i,t.dx=r,t.dy=i,u&&(o=u.length)){var o,a,c,l=-1;for(r=t.value?r/t.value:0;++l<o;)n(a=u[l],e,c=a.value*r,i),e+=c}}function t(n){var e=n.children,r=0;if(e&&(i=e.length))for(var i,u=-1;++u<i;)r=Math.max(r,t(e[u]));return 1+r}function e(e,u){var o=r.call(this,e,u);return n(o[0],0,i[0],i[1]/t(o[0])),o}var r=to.layout.hierarchy(),i=[1,1];return e.size=function(n){return arguments.length?(i=n,e):i},Kr(e,r)},to.layout.pie=function(){function n(o){var a,c=o.length,l=o.map(function(e,r){return+t.call(n,e,r)}),f=+("function"==typeof r?r.apply(this,arguments):r),s=("function"==typeof i?i.apply(this,arguments):i)-f,h=Math.min(Math.abs(s)/c,+("function"==typeof u?u.apply(this,arguments):u)),p=h*(s<0?-1:1),g=(s-c*p)/to.sum(l),v=to.range(c),d=[];return null!=e&&v.sort(e===pc?function(n,t){return l[t]-l[n]}:function(n,t){return e(o[n],o[t])}),v.forEach(function(n){d[n]={data:o[n],value:a=l[n],startAngle:f,endAngle:f+=a*g+p,padAngle:h}}),d}var t=Number,e=pc,r=0,i=qo,u=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(i=t,n):i},n.padAngle=function(t){return arguments.length?(u=t,n):u},n};var pc={};to.layout.stack=function(){function n(a,c){if(!(h=a.length))return a;var l=a.map(function(e,r){return t.call(n,e,r)}),f=l.map(function(t){return t.map(function(t,e){return[u.call(n,t,e),o.call(n,t,e)]})}),s=e.call(n,f,c);l=to.permute(l,s),f=to.permute(f,s);var h,p,g,v,d=r.call(n,f,c),y=l[0].length;for(g=0;g<y;++g)for(i.call(n,l[0][g],v=d[g],f[0][g][1]),p=1;p<h;++p)i.call(n,l[p][g],v+=f[p-1][g][1],f[p][g][1]);return a}var t=m,e=ci,r=li,i=ai,u=ui,o=oi;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:gc.get(t)||ci,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:vc.get(t)||li,n):r},n.x=function(t){return arguments.length?(u=t,n):u},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(i=t,n):i},n};var gc=to.map({"inside-out":function(n){var t,e,r=n.length,i=n.map(fi),u=n.map(si),o=to.range(r).sort(function(n,t){return i[n]-i[t]}),a=0,c=0,l=[],f=[];for(t=0;t<r;++t)e=o[t],a<c?(a+=u[e],l.push(e)):(c+=u[e],f.push(e));return f.reverse().concat(l)},reverse:function(n){return to.range(n.length).reverse()},default:ci}),vc=to.map({silhouette:function(n){var t,e,r,i=n.length,u=n[0].length,o=[],a=0,c=[];for(e=0;e<u;++e){for(t=0,r=0;t<i;t++)r+=n[t][e][1];r>a&&(a=r),o.push(r)}for(e=0;e<u;++e)c[e]=(a-o[e])/2;return c},wiggle:function(n){var t,e,r,i,u,o,a,c,l,f=n.length,s=n[0],h=s.length,p=[];for(p[0]=c=l=0,e=1;e<h;++e){for(t=0,i=0;t<f;++t)i+=n[t][e][1];for(t=0,u=0,a=s[e][0]-s[e-1][0];t<f;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);r<t;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;u+=o*n[t][e][1]}p[e]=c-=i?u/i*a:0,c<l&&(l=c)}for(e=0;e<h;++e)p[e]-=l;return p},expand:function(n){var t,e,r,i=n.length,u=n[0].length,o=1/i,a=[];for(e=0;e<u;++e){for(t=0,r=0;t<i;t++)r+=n[t][e][1];if(r)for(t=0;t<i;t++)n[t][e][1]/=r;else for(t=0;t<i;t++)n[t][e][1]=o}for(e=0;e<u;++e)a[e]=0;return a},zero:li});to.layout.histogram=function(){function n(n,u){for(var o,a,c=[],l=n.map(e,this),f=r.call(this,l,u),s=i.call(this,f,l,u),u=-1,h=l.length,p=s.length-1,g=t?1:1/h;++u<p;)o=c[u]=[],o.dx=s[u+1]-(o.x=s[u]),o.y=0;if(p>0)for(u=-1;++u<h;)a=l[u],a>=f[0]&&a<=f[1]&&(o=c[to.bisect(s,a,1,p)-1],o.y+=g,o.push(n[u]));return c}var t=!0,e=Number,r=vi,i=pi;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=En(t),n):r},n.bins=function(t){return arguments.length?(i="number"==typeof t?function(n){return gi(n,t)}:En(t),n):i},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},to.layout.pack=function(){function n(n,u){var o=e.call(this,n,u),a=o[0],c=i[0],l=i[1],f=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,ni(a,function(n){n.r=+f(n.value)}),ni(a,xi),r){var s=r*(t?1:Math.max(2*a.r/c,2*a.r/l))/2;ni(a,function(n){n.r+=s}),ni(a,xi),ni(a,function(n){n.r-=s})}return wi(a,c/2,l/2,t?1:1/Math.max(2*a.r/c,2*a.r/l)),o}var t,e=to.layout.hierarchy().sort(di),r=0,i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},Kr(n,e)},to.layout.tree=function(){function n(n,i){var f=o.call(this,n,i),s=f[0],h=t(s);if(ni(h,e),h.parent.m=-h.z,Qr(h,r),l)Qr(s,u);else{var p=s,g=s,v=s;Qr(s,function(n){n.x<p.x&&(p=n),n.x>g.x&&(g=n),n.depth>v.depth&&(v=n)});var d=a(p,g)/2-p.x,y=c[0]/(g.x+a(g,p)/2+d),m=c[1]/(v.depth||1);Qr(s,function(n){n.x=(n.x+d)*y,n.y=n.depth*m})}return f}function t(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var i,u=t.children,o=0,a=u.length;o<a;++o)r.push((u[o]=i={_:u[o],parent:t,children:(i=u[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return e.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Ci(n);var u=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+a(n._,r._),n.m=n.z-u):n.z=u}else r&&(n.z=r.z+a(n._,r._));n.parent.A=i(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function i(n,t,e){if(t){for(var r,i=n,u=n,o=t,c=i.parent.children[0],l=i.m,f=u.m,s=o.m,h=c.m;o=Ei(o),i=Ni(i),o&&i;)c=Ni(c),u=Ei(u),u.a=n,r=o.z+s-i.z-l+a(o._,i._),r>0&&(Ai(zi(o,n,e),n,r),l+=r,f+=r),s+=o.m,l+=i.m,h+=c.m,f+=u.m;o&&!Ei(u)&&(u.t=o,u.m+=s-f),i&&!Ni(c)&&(c.t=i,c.m+=l-h,e=n)}return e}function u(n){n.x*=c[0],n.y=n.depth*c[1]}var o=to.layout.hierarchy().sort(null).value(null),a=ki,c=[1,1],l=null;return n.separation=function(t){return arguments.length?(a=t,n):a},n.size=function(t){return arguments.length?(l=null==(c=t)?u:null,n):l?null:c},n.nodeSize=function(t){return arguments.length?(l=null==(c=t)?null:u,n):l?c:null},Kr(n,o)},to.layout.cluster=function(){function n(n,u){var o,a=t.call(this,n,u),c=a[0],l=0;ni(c,function(n){var t=n.children;t&&t.length?(n.x=Li(t),n.y=qi(t)):(n.x=o?l+=e(n,o):0,n.y=0,o=n)});var f=Ti(c),s=Ri(c),h=f.x-e(f,s)/2,p=s.x+e(s,f)/2;return ni(c,i?function(n){n.x=(n.x-c.x)*r[0],n.y=(c.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(p-h)*r[0],n.y=(1-(c.y?n.y/c.y:1))*r[1]}),a}var t=to.layout.hierarchy().sort(null).value(null),e=ki,r=[1,1],i=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(i=null==(r=t),n):i?null:r},n.nodeSize=function(t){return arguments.length?(i=null!=(r=t),n):i?r:null},Kr(n,t)},to.layout.treemap=function(){function n(n,t){for(var e,r,i=-1,u=n.length;++i<u;)r=(e=n[i]).value*(t<0?0:t),e.area=isNaN(r)||r<=0?0:r}function t(e){var u=e.children;if(u&&u.length){var o,a,c,l=s(e),f=[],h=u.slice(),g=1/0,v="slice"===p?l.dx:"dice"===p?l.dy:"slice-dice"===p?1&e.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(n(h,l.dx*l.dy/e.value),f.area=0;(c=h.length)>0;)f.push(o=h[c-1]),f.area+=o.area,"squarify"!==p||(a=r(f,v))<=g?(h.pop(),g=a):(f.area-=f.pop().area,i(f,v,l,!1),v=Math.min(l.dx,l.dy),f.length=f.area=0,g=1/0);f.length&&(i(f,v,l,!0),f.length=f.area=0),u.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var u,o=s(t),a=r.slice(),c=[];for(n(a,o.dx*o.dy/t.value),c.area=0;u=a.pop();)c.push(u),c.area+=u.area,null!=u.z&&(i(c,u.z?o.dx:o.dy,o,!a.length),c.length=c.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,i=0,u=1/0,o=-1,a=n.length;++o<a;)(e=n[o].area)&&(e<u&&(u=e),e>i&&(i=e));return r*=r,t*=t,r?Math.max(t*i*g/r,r/(t*u*g)):1/0}function i(n,t,e,r){var i,u=-1,o=n.length,a=e.x,l=e.y,f=t?c(n.area/t):0;if(t==e.dx){for((r||f>e.dy)&&(f=e.dy);++u<o;)i=n[u],i.x=a,i.y=l,i.dy=f,a+=i.dx=Math.min(e.x+e.dx-a,f?c(i.area/f):0);i.z=!0,i.dx+=e.x+e.dx-a,e.y+=f,e.dy-=f}else{for((r||f>e.dx)&&(f=e.dx);++u<o;)i=n[u],i.x=a,i.y=l,i.dx=f,l+=i.dy=Math.min(e.y+e.dy-l,f?c(i.area/f):0);i.z=!1,i.dy+=e.y+e.dy-l,e.x+=f,e.dx-=f}}function u(r){
var i=o||a(r),u=i[0];return u.x=0,u.y=0,u.dx=l[0],u.dy=l[1],o&&a.revalue(u),n([u],u.dx*u.dy/u.value),(o?e:t)(u),h&&(o=i),i}var o,a=to.layout.hierarchy(),c=Math.round,l=[1,1],f=null,s=Di,h=!1,p="squarify",g=.5*(1+Math.sqrt(5));return u.size=function(n){return arguments.length?(l=n,u):l},u.padding=function(n){function t(t){var e=n.call(u,t,t.depth);return null==e?Di(t):Pi(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Pi(t,n)}if(!arguments.length)return f;var r;return s=null==(f=n)?Di:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,u},u.round=function(n){return arguments.length?(c=n?Math.round:Number,u):c!=Number},u.sticky=function(n){return arguments.length?(h=n,o=null,u):h},u.ratio=function(n){return arguments.length?(g=n,u):g},u.mode=function(n){return arguments.length?(p=n+"",u):p},Kr(u,a)},to.random={normal:function(n,t){var e=arguments.length;return e<2&&(t=1),e<1&&(n=0),function(){var e,r,i;do e=2*Math.random()-1,r=2*Math.random()-1,i=e*e+r*r;while(!i||i>1);return n+t*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var n=to.random.normal.apply(to,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=to.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},to.scale={};var dc={floor:m,ceil:m};to.scale.linear=function(){return Yi([0,1],[0,1],mr,!1)};var yc={s:1,g:1,p:1,r:1,e:1};to.scale.log=function(){return Gi(to.scale.linear().domain([0,1]),10,!0,[1,10])};var mc=to.format(".0e"),Mc={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};to.scale.pow=function(){return Ki(to.scale.linear(),1,[0,1])},to.scale.sqrt=function(){return to.scale.pow().exponent(.5)},to.scale.ordinal=function(){return nu([],{t:"range",a:[[]]})},to.scale.category10=function(){return to.scale.ordinal().range(xc)},to.scale.category20=function(){return to.scale.ordinal().range(bc)},to.scale.category20b=function(){return to.scale.ordinal().range(_c)},to.scale.category20c=function(){return to.scale.ordinal().range(wc)};var xc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xn),bc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xn),_c=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xn),wc=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xn);to.scale.quantile=function(){return tu([],[])},to.scale.quantize=function(){return eu(0,1,[0,1])},to.scale.threshold=function(){return ru([.5],[0,1])},to.scale.identity=function(){return iu([0,1])},to.svg={},to.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),f=o.apply(this,arguments)-To,s=a.apply(this,arguments)-To,h=Math.abs(s-f),p=f>s?0:1;if(l<n&&(g=l,l=n,n=g),h>=Lo)return t(l,p)+(n?t(n,1-p):"")+"Z";var g,v,d,y,m,M,x,b,_,w,S,k,N=0,E=0,A=[];if((y=(+c.apply(this,arguments)||0)/2)&&(d=u===Sc?Math.sqrt(n*n+l*l):+u.apply(this,arguments),p||(E*=-1),l&&(E=tn(d/l*Math.sin(y))),n&&(N=tn(d/n*Math.sin(y)))),l){m=l*Math.cos(f+E),M=l*Math.sin(f+E),x=l*Math.cos(s-E),b=l*Math.sin(s-E);var C=Math.abs(s-f-2*E)<=zo?0:1;if(E&&su(m,M,x,b)===p^C){var z=(f+s)/2;m=l*Math.cos(z),M=l*Math.sin(z),x=b=null}}else m=M=0;if(n){_=n*Math.cos(s-N),w=n*Math.sin(s-N),S=n*Math.cos(f+N),k=n*Math.sin(f+N);var q=Math.abs(f-s+2*N)<=zo?0:1;if(N&&su(_,w,S,k)===1-p^q){var L=(f+s)/2;_=n*Math.cos(L),w=n*Math.sin(L),S=k=null}}else _=w=0;if((g=Math.min(Math.abs(l-n)/2,+i.apply(this,arguments)))>.001){v=n<l^p?0:1;var T=null==S?[_,w]:null==x?[m,M]:Te([m,M],[S,k],[x,b],[_,w]),R=m-T[0],D=M-T[1],P=x-T[0],U=b-T[1],j=1/Math.sin(Math.acos((R*P+D*U)/(Math.sqrt(R*R+D*D)*Math.sqrt(P*P+U*U)))/2),F=Math.sqrt(T[0]*T[0]+T[1]*T[1]);if(null!=x){var H=Math.min(g,(l-F)/(j+1)),O=hu(null==S?[_,w]:[S,k],[m,M],l,H,p),I=hu([x,b],[_,w],l,H,p);g===H?A.push("M",O[0],"A",H,",",H," 0 0,",v," ",O[1],"A",l,",",l," 0 ",1-p^su(O[1][0],O[1][1],I[1][0],I[1][1]),",",p," ",I[1],"A",H,",",H," 0 0,",v," ",I[0]):A.push("M",O[0],"A",H,",",H," 0 1,",v," ",I[0])}else A.push("M",m,",",M);if(null!=S){var Y=Math.min(g,(n-F)/(j-1)),Z=hu([m,M],[S,k],n,-Y,p),V=hu([_,w],null==x?[m,M]:[x,b],n,-Y,p);g===Y?A.push("L",V[0],"A",Y,",",Y," 0 0,",v," ",V[1],"A",n,",",n," 0 ",p^su(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-p," ",Z[1],"A",Y,",",Y," 0 0,",v," ",Z[0]):A.push("L",V[0],"A",Y,",",Y," 0 0,",v," ",Z[0])}else A.push("L",_,",",w)}else A.push("M",m,",",M),null!=x&&A.push("A",l,",",l," 0 ",C,",",p," ",x,",",b),A.push("L",_,",",w),null!=S&&A.push("A",n,",",n," 0 ",q,",",1-p," ",S,",",k);return A.push("Z"),A.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=ou,r=au,i=uu,u=Sc,o=cu,a=lu,c=fu;return n.innerRadius=function(t){return arguments.length?(e=En(t),n):e},n.outerRadius=function(t){return arguments.length?(r=En(t),n):r},n.cornerRadius=function(t){return arguments.length?(i=En(t),n):i},n.padRadius=function(t){return arguments.length?(u=t==Sc?Sc:En(t),n):u},n.startAngle=function(t){return arguments.length?(o=En(t),n):o},n.endAngle=function(t){return arguments.length?(a=En(t),n):a},n.padAngle=function(t){return arguments.length?(c=En(t),n):c},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-To;return[Math.cos(t)*n,Math.sin(t)*n]},n};var Sc="auto";to.svg.line=function(){return pu(m)};var kc=to.map({linear:gu,"linear-closed":vu,step:du,"step-before":yu,"step-after":mu,basis:Su,"basis-open":ku,"basis-closed":Nu,bundle:Eu,cardinal:bu,"cardinal-open":Mu,"cardinal-closed":xu,monotone:Tu});kc.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Nc=[0,2/3,1/3,0],Ec=[0,1/3,2/3,0],Ac=[0,1/6,2/3,1/6];to.svg.line.radial=function(){var n=pu(Ru);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},yu.reverse=mu,mu.reverse=yu,to.svg.area=function(){return Du(m)},to.svg.area.radial=function(){var n=Du(Ru);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},to.svg.chord=function(){function n(n,a){var c=t(this,u,n,a),l=t(this,o,n,a);return"M"+c.p0+r(c.r,c.p1,c.a1-c.a0)+(e(c,l)?i(c.r,c.p1,c.r,c.p0):i(c.r,c.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,c.r,c.p0))+"Z"}function t(n,t,e,r){var i=t.call(n,e,r),u=a.call(n,i,r),o=c.call(n,i,r)-To,f=l.call(n,i,r)-To;return{r:u,a0:o,a1:f,p0:[u*Math.cos(o),u*Math.sin(o)],p1:[u*Math.cos(f),u*Math.sin(f)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>zo)+",1 "+t}function i(n,t,e,r){return"Q 0,0 "+r}var u=me,o=Me,a=Pu,c=cu,l=lu;return n.radius=function(t){return arguments.length?(a=En(t),n):a},n.source=function(t){return arguments.length?(u=En(t),n):u},n.target=function(t){return arguments.length?(o=En(t),n):o},n.startAngle=function(t){return arguments.length?(c=En(t),n):c},n.endAngle=function(t){return arguments.length?(l=En(t),n):l},n},to.svg.diagonal=function(){function n(n,i){var u=t.call(this,n,i),o=e.call(this,n,i),a=(u.y+o.y)/2,c=[u,{x:u.x,y:a},{x:o.x,y:a},o];return c=c.map(r),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var t=me,e=Me,r=Uu;return n.source=function(e){return arguments.length?(t=En(e),n):t},n.target=function(t){return arguments.length?(e=En(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},to.svg.diagonal.radial=function(){var n=to.svg.diagonal(),t=Uu,e=n.projection;return n.projection=function(n){return arguments.length?e(ju(t=n)):t},n},to.svg.symbol=function(){function n(n,r){return(Cc.get(t.call(this,n,r))||Ou)(e.call(this,n,r))}var t=Hu,e=Fu;return n.type=function(e){return arguments.length?(t=En(e),n):t},n.size=function(t){return arguments.length?(e=En(t),n):e},n};var Cc=to.map({circle:Ou,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*qc)),e=t*qc;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/zc),e=t*zc/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/zc),e=t*zc/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});to.svg.symbolTypes=Cc.keys();var zc=Math.sqrt(3),qc=Math.tan(30*Ro);bo.transition=function(n){for(var t,e,r=Lc||++Pc,i=Xu(n),u=[],o=Tc||{time:Date.now(),ease:kr,delay:0,duration:250},a=-1,c=this.length;++a<c;){u.push(t=[]);for(var l=this[a],f=-1,s=l.length;++f<s;)(e=l[f])&&$u(e,f,i,r,o),t.push(e)}return Yu(u,i,r)},bo.interrupt=function(n){return this.each(null==n?Rc:Iu(Xu(n)))};var Lc,Tc,Rc=Iu(Xu()),Dc=[],Pc=0;Dc.call=bo.call,Dc.empty=bo.empty,Dc.node=bo.node,Dc.size=bo.size,to.transition=function(n,t){return n&&n.transition?Lc?n.transition(t):n:to.selection().transition(n)},to.transition.prototype=Dc,Dc.select=function(n){var t,e,r,i=this.id,u=this.namespace,o=[];n=A(n);for(var a=-1,c=this.length;++a<c;){o.push(t=[]);for(var l=this[a],f=-1,s=l.length;++f<s;)(r=l[f])&&(e=n.call(r,r.__data__,f,a))?("__data__"in r&&(e.__data__=r.__data__),$u(e,f,u,i,r[u][i]),t.push(e)):t.push(null)}return Yu(o,u,i)},Dc.selectAll=function(n){var t,e,r,i,u,o=this.id,a=this.namespace,c=[];n=C(n);for(var l=-1,f=this.length;++l<f;)for(var s=this[l],h=-1,p=s.length;++h<p;)if(r=s[h]){u=r[a][o],e=n.call(r,r.__data__,h,l),c.push(t=[]);for(var g=-1,v=e.length;++g<v;)(i=e[g])&&$u(i,g,a,o,u),t.push(i)}return Yu(c,a,o)},Dc.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=O(n));for(var u=0,o=this.length;u<o;u++){i.push(t=[]);for(var e=this[u],a=0,c=e.length;a<c;a++)(r=e[a])&&n.call(r,r.__data__,a,u)&&t.push(r)}return Yu(i,this.namespace,this.id)},Dc.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):Y(this,null==t?function(t){t[r][e].tween.remove(n)}:function(i){i[r][e].tween.set(n,t)})},Dc.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function i(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(a);return e!==n&&(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function u(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?Or:mr,a=to.ns.qualify(n);return Zu(this,"attr."+n,t,a.local?u:i)},Dc.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(i));return r&&function(n){this.setAttribute(i,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(i.space,i.local));return r&&function(n){this.setAttributeNS(i.space,i.local,r(n))}}var i=to.ns.qualify(n);return this.tween("attr."+n,i.local?r:e)},Dc.style=function(n,e,r){function i(){this.style.removeProperty(n)}function u(e){return null==e?i:(e+="",function(){var i,u=t(this).getComputedStyle(this,null).getPropertyValue(n);return u!==e&&(i=mr(u,e),function(t){this.style.setProperty(n,i(t),r)})})}var o=arguments.length;if(o<3){if("string"!=typeof n){o<2&&(e="");for(r in n)this.style(r,n[r],e);return this}r=""}return Zu(this,"style."+n,e,u)},Dc.styleTween=function(n,e,r){function i(i,u){var o=e.call(this,i,u,t(this).getComputedStyle(this,null).getPropertyValue(n));return o&&function(t){this.style.setProperty(n,o(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,i)},Dc.text=function(n){return Zu(this,"text",n,Vu)},Dc.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Dc.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=to.ease.apply(to,arguments)),Y(this,function(r){r[e][t].ease=n}))},Dc.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:Y(this,"function"==typeof n?function(r,i,u){r[e][t].delay=+n.call(r,r.__data__,i,u)}:(n=+n,function(r){r[e][t].delay=n}))},Dc.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:Y(this,"function"==typeof n?function(r,i,u){r[e][t].duration=Math.max(1,n.call(r,r.__data__,i,u))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Dc.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var i=Tc,u=Lc;try{Lc=e,Y(this,function(t,i,u){Tc=t[r][e],n.call(t,t.__data__,i,u)})}finally{Tc=i,Lc=u}}else Y(this,function(i){var u=i[r][e];(u.event||(u.event=to.dispatch("start","end","interrupt"))).on(n,t)});return this},Dc.transition=function(){for(var n,t,e,r,i=this.id,u=++Pc,o=this.namespace,a=[],c=0,l=this.length;c<l;c++){a.push(n=[]);for(var t=this[c],f=0,s=t.length;f<s;f++)(e=t[f])&&(r=e[o][i],$u(e,f,o,u,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),n.push(e)}return Yu(a,o,u)},to.svg.axis=function(){function n(n){n.each(function(){var n,l=to.select(this),f=this.__chart__||e,s=this.__chart__=e.copy(),h=null==c?s.ticks?s.ticks.apply(s,a):s.domain():c,p=null==t?s.tickFormat?s.tickFormat.apply(s,a):m:t,g=l.selectAll(".tick").data(h,s),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Ao),d=to.transition(g.exit()).style("opacity",Ao).remove(),y=to.transition(g.order()).style("opacity",1),M=Math.max(i,0)+o,x=ji(s),b=l.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),to.transition(b));v.append("line"),v.append("text");var w,S,k,N,E=v.select("line"),A=y.select("line"),C=g.select("text").text(p),z=v.select("text"),q=y.select("text"),L="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(n=Bu,w="x",k="y",S="x2",N="y2",C.attr("dy",L<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+L*u+"V0H"+x[1]+"V"+L*u)):(n=Wu,w="y",k="x",S="y2",N="x2",C.attr("dy",".32em").style("text-anchor",L<0?"end":"start"),_.attr("d","M"+L*u+","+x[0]+"H0V"+x[1]+"H"+L*u)),E.attr(N,L*i),z.attr(k,L*M),A.attr(S,0).attr(N,L*i),q.attr(w,0).attr(k,L*M),s.rangeBand){var T=s,R=T.rangeBand()/2;f=s=function(n){return T(n)+R}}else f.rangeBand?f=s:d.call(n,s,f);v.call(n,f,s),y.call(n,s,s)})}var t,e=to.scale.linear(),r=Uc,i=6,u=6,o=3,a=[10],c=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in jc?t+"":Uc,n):r},n.ticks=function(){return arguments.length?(a=arguments,n):a},n.tickValues=function(t){return arguments.length?(c=t,n):c},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(i=+t,u=+arguments[e-1],n):i},n.innerTickSize=function(t){return arguments.length?(i=+t,n):i},n.outerTickSize=function(t){return arguments.length?(u=+t,n):u},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&&n},n};var Uc="bottom",jc={top:1,right:1,bottom:1,left:1};to.svg.brush=function(){function n(t){t.each(function(){var t=to.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",u).on("touchstart.brush",u),o=t.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=t.selectAll(".resize").data(v,m);a.exit().remove(),a.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Fc[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",n.empty()?"none":null);var c,s=to.transition(t),h=to.transition(o);l&&(c=ji(l),h.attr("x",c[0]).attr("width",c[1]-c[0]),r(s)),f&&(c=ji(f),h.attr("y",c[0]).attr("height",c[1]-c[0]),i(s)),e(s)})}function e(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+s[+/e$/.test(n)]+","+h[+/^s/.test(n)]+")"})}function r(n){n.select(".extent").attr("x",s[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function i(n){n.select(".extent").attr("y",h[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function u(){function u(){32==to.event.keyCode&&(C||(M=null,q[0]-=s[1],q[1]-=h[1],C=2),S())}function v(){32==to.event.keyCode&&2==C&&(q[0]+=s[1],q[1]+=h[1],C=0,S())}function d(){var n=to.mouse(b),t=!1;x&&(n[0]+=x[0],n[1]+=x[1]),C||(to.event.altKey?(M||(M=[(s[0]+s[1])/2,(h[0]+h[1])/2]),q[0]=s[+(n[0]<M[0])],q[1]=h[+(n[1]<M[1])]):M=null),E&&y(n,l,0)&&(r(k),t=!0),A&&y(n,f,1)&&(i(k),t=!0),t&&(e(k),w({type:"brush",mode:C?"move":"resize"}))}function y(n,t,e){var r,i,u=ji(t),c=u[0],l=u[1],f=q[e],v=e?h:s,d=v[1]-v[0];if(C&&(c-=f,l-=d+f),r=(e?g:p)?Math.max(c,Math.min(l,n[e])):n[e],C?i=(r+=f)+d:(M&&(f=Math.max(c,Math.min(l,2*M[e]-r))),f<r?(i=r,r=f):i=f),v[0]!=r||v[1]!=i)return e?a=null:o=null,v[0]=r,v[1]=i,!0}function m(){d(),k.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),to.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),z(),w({type:"brushend"})}var M,x,b=this,_=to.select(to.event.target),w=c.of(b,arguments),k=to.select(b),N=_.datum(),E=!/^(n|s)$/.test(N)&&l,A=!/^(e|w)$/.test(N)&&f,C=_.classed("extent"),z=W(b),q=to.mouse(b),L=to.select(t(b)).on("keydown.brush",u).on("keyup.brush",v);if(to.event.changedTouches?L.on("touchmove.brush",d).on("touchend.brush",m):L.on("mousemove.brush",d).on("mouseup.brush",m),k.interrupt().selectAll("*").interrupt(),C)q[0]=s[0]-q[0],q[1]=h[0]-q[1];else if(N){var T=+/w$/.test(N),R=+/^n/.test(N);x=[s[1-T]-q[0],h[1-R]-q[1]],q[0]=s[T],q[1]=h[R]}else to.event.altKey&&(M=q.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),to.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),d()}var o,a,c=N(n,"brushstart","brush","brushend"),l=null,f=null,s=[0,0],h=[0,0],p=!0,g=!0,v=Hc[0];return n.event=function(n){n.each(function(){var n=c.of(this,arguments),t={x:s,y:h,i:o,j:a},e=this.__chart__||t;this.__chart__=t,Lc?to.select(this).transition().each("start.brush",function(){o=e.i,a=e.j,s=e.x,h=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=Mr(s,t.x),r=Mr(h,t.y);return o=a=null,function(i){s=t.x=e(i),h=t.y=r(i),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,a=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(l=t,v=Hc[!l<<1|!f],n):l},n.y=function(t){return arguments.length?(f=t,v=Hc[!l<<1|!f],n):f},n.clamp=function(t){return arguments.length?(l&&f?(p=!!t[0],g=!!t[1]):l?p=!!t:f&&(g=!!t),n):l&&f?[p,g]:l?p:f?g:null},n.extent=function(t){var e,r,i,u,c;return arguments.length?(l&&(e=t[0],r=t[1],f&&(e=e[0],r=r[0]),o=[e,r],l.invert&&(e=l(e),r=l(r)),r<e&&(c=e,e=r,r=c),e==s[0]&&r==s[1]||(s=[e,r])),f&&(i=t[0],u=t[1],l&&(i=i[1],u=u[1]),a=[i,u],f.invert&&(i=f(i),u=f(u)),u<i&&(c=i,i=u,u=c),i==h[0]&&u==h[1]||(h=[i,u])),n):(l&&(o?(e=o[0],r=o[1]):(e=s[0],r=s[1],l.invert&&(e=l.invert(e),r=l.invert(r)),r<e&&(c=e,e=r,r=c))),f&&(a?(i=a[0],u=a[1]):(i=h[0],u=h[1],f.invert&&(i=f.invert(i),u=f.invert(u)),u<i&&(c=i,i=u,u=c))),l&&f?[[e,i],[r,u]]:l?[e,r]:f&&[i,u])},n.clear=function(){return n.empty()||(s=[0,0],h=[0,0],o=a=null),n},n.empty=function(){return!!l&&s[0]==s[1]||!!f&&h[0]==h[1]},to.rebind(n,c,"on")};var Fc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Hc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Oc=oa.format=ha.timeFormat,Ic=Oc.utc,Yc=Ic("%Y-%m-%dT%H:%M:%S.%LZ");Oc.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ju:Yc,Ju.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},Ju.toString=Yc.toString,oa.second=Hn(function(n){return new aa(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),oa.seconds=oa.second.range,oa.seconds.utc=oa.second.utc.range,oa.minute=Hn(function(n){return new aa(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),oa.minutes=oa.minute.range,oa.minutes.utc=oa.minute.utc.range,oa.hour=Hn(function(n){var t=n.getTimezoneOffset()/60;return new aa(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),oa.hours=oa.hour.range,oa.hours.utc=oa.hour.utc.range,oa.month=Hn(function(n){return n=oa.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),oa.months=oa.month.range,oa.months.utc=oa.month.utc.range;var Zc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Vc=[[oa.second,1],[oa.second,5],[oa.second,15],[oa.second,30],[oa.minute,1],[oa.minute,5],[oa.minute,15],[oa.minute,30],[oa.hour,1],[oa.hour,3],[oa.hour,6],[oa.hour,12],[oa.day,1],[oa.day,2],[oa.week,1],[oa.month,1],[oa.month,3],[oa.year,1]],Xc=Oc.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",Ct]]),$c={range:function(n,t,e){return to.range(Math.ceil(n/e)*e,+t,e).map(Ku)},floor:m,ceil:m};Vc.year=oa.year,oa.scale=function(){return Gu(to.scale.linear(),Vc,Xc)};var Bc=Vc.map(function(n){return[n[0].utc,n[1]]}),Wc=Ic.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",Ct]]);Bc.year=oa.year.utc,oa.scale.utc=function(){return Gu(to.scale.linear(),Bc,Wc)},to.text=An(function(n){return n.responseText}),to.json=function(n,t){return Cn(n,"application/json",Qu,t)},to.html=function(n,t){return Cn(n,"text/html",no,t)},to.xml=An(function(n){return n.responseXML}),"function"==typeof define&&define.amd?define(to):"object"==typeof module&&module.exports&&(module.exports=to),this.d3=to}();
},{}],9:[function(_dereq_,module,exports){
"use strict";_dereq_("./is-implemented")()||Object.defineProperty(_dereq_("es5-ext/global"),"Map",{value:_dereq_("./polyfill"),configurable:!0,enumerable:!1,writable:!0});
},{"./is-implemented":10,"./polyfill":62,"es5-ext/global":19}],10:[function(_dereq_,module,exports){
"use strict";module.exports=function(){var e,t,n;if("function"!=typeof Map)return!1;try{e=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(e){return!1}return"[object Map]"===String(e)&&(3===e.size&&("function"==typeof e.clear&&("function"==typeof e.delete&&("function"==typeof e.entries&&("function"==typeof e.forEach&&("function"==typeof e.get&&("function"==typeof e.has&&("function"==typeof e.keys&&("function"==typeof e.set&&("function"==typeof e.values&&(t=e.entries(),n=t.next(),n.done===!1&&(!!n.value&&("raz"===n.value[0]&&"one"===n.value[1])))))))))))))};
},{}],11:[function(_dereq_,module,exports){
"use strict";module.exports=function(){return"undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)}();
},{}],12:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("es5-ext/object/primitive-set")("key","value","key+value");
},{"es5-ext/object/primitive-set":39}],13:[function(_dereq_,module,exports){
"use strict";var setPrototypeOf=_dereq_("es5-ext/object/set-prototype-of"),d=_dereq_("d"),Iterator=_dereq_("es6-iterator"),toStringTagSymbol=_dereq_("es6-symbol").toStringTag,kinds=_dereq_("./iterator-kinds"),defineProperties=Object.defineProperties,unBind=Iterator.prototype._unBind,MapIterator;MapIterator=module.exports=function(t,e){return this instanceof MapIterator?(Iterator.call(this,t.__mapKeysData__,t),e&&kinds[e]||(e="key+value"),void defineProperties(this,{__kind__:d("",e),__values__:d("w",t.__mapValuesData__)})):new MapIterator(t,e)},setPrototypeOf&&setPrototypeOf(MapIterator,Iterator),MapIterator.prototype=Object.create(Iterator.prototype,{constructor:d(MapIterator),_resolve:d(function(t){return"value"===this.__kind__?this.__values__[t]:"key"===this.__kind__?this.__list__[t]:[this.__list__[t],this.__values__[t]]}),_unBind:d(function(){this.__values__=null,unBind.call(this)}),toString:d(function(){return"[object Map Iterator]"})}),Object.defineProperty(MapIterator.prototype,toStringTagSymbol,d("c","Map Iterator"));
},{"./iterator-kinds":12,"d":15,"es5-ext/object/set-prototype-of":40,"es6-iterator":52,"es6-symbol":56}],14:[function(_dereq_,module,exports){
"use strict";var copy=_dereq_("es5-ext/object/copy"),map=_dereq_("es5-ext/object/map"),callable=_dereq_("es5-ext/object/valid-callable"),validValue=_dereq_("es5-ext/object/valid-value"),bind=Function.prototype.bind,defineProperty=Object.defineProperty,hasOwnProperty=Object.prototype.hasOwnProperty,define;define=function(e,t,r){var i,l=validValue(t)&&callable(t.value);return i=copy(t),delete i.writable,delete i.value,i.get=function(){return hasOwnProperty.call(this,e)?l:(t.value=bind.call(l,null==r?this:this[r]),defineProperty(this,e,t),this[e])},i},module.exports=function(e){var t=arguments[1];return map(e,function(e,r){return define(r,e,t)})};
},{"es5-ext/object/copy":29,"es5-ext/object/map":37,"es5-ext/object/valid-callable":43,"es5-ext/object/valid-value":44}],15:[function(_dereq_,module,exports){
"use strict";var assign=_dereq_("es5-ext/object/assign"),normalizeOpts=_dereq_("es5-ext/object/normalize-options"),isCallable=_dereq_("es5-ext/object/is-callable"),contains=_dereq_("es5-ext/string/#/contains"),d;d=module.exports=function(e,l){var n,a,i,s,t;return arguments.length<2||"string"!=typeof e?(s=l,l=e,e=null):s=arguments[2],null==e?(n=i=!0,a=!1):(n=contains.call(e,"c"),a=contains.call(e,"e"),i=contains.call(e,"w")),t={value:l,configurable:n,enumerable:a,writable:i},s?assign(normalizeOpts(s),t):t},d.gs=function(e,l,n){var a,i,s,t;return"string"!=typeof e?(s=n,n=l,l=e,e=null):s=arguments[3],null==l?l=void 0:isCallable(l)?null==n?n=void 0:isCallable(n)||(s=n,n=void 0):(s=l,l=n=void 0),null==e?(a=!0,i=!1):(a=contains.call(e,"c"),i=contains.call(e,"e")),t={get:l,set:n,configurable:a,enumerable:i},s?assign(normalizeOpts(s),t):t};
},{"es5-ext/object/assign":26,"es5-ext/object/is-callable":32,"es5-ext/object/normalize-options":38,"es5-ext/string/#/contains":45}],16:[function(_dereq_,module,exports){
"use strict";var value=_dereq_("../../object/valid-value");module.exports=function(){return value(this).length=0,this};
},{"../../object/valid-value":44}],17:[function(_dereq_,module,exports){
"use strict";var toPosInt=_dereq_("../../number/to-pos-integer"),value=_dereq_("../../object/valid-value"),indexOf=Array.prototype.indexOf,hasOwnProperty=Object.prototype.hasOwnProperty,abs=Math.abs,floor=Math.floor;module.exports=function(t){var r,e,o,s;if(t===t)return indexOf.apply(this,arguments);for(e=toPosInt(value(this).length),o=arguments[1],o=isNaN(o)?0:o>=0?floor(o):toPosInt(this.length)-floor(abs(o)),r=o;r<e;++r)if(hasOwnProperty.call(this,r)&&(s=this[r],s!==s))return r;return-1};
},{"../../number/to-pos-integer":24,"../../object/valid-value":44}],18:[function(_dereq_,module,exports){
"use strict";var toString=Object.prototype.toString,id=toString.call(function(){return arguments}());module.exports=function(t){return toString.call(t)===id};
},{}],19:[function(_dereq_,module,exports){
"use strict";module.exports=new Function("return this")();
},{}],20:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./is-implemented")()?Math.sign:_dereq_("./shim");
},{"./is-implemented":21,"./shim":22}],21:[function(_dereq_,module,exports){
"use strict";module.exports=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&t(-20)===-1)};
},{}],22:[function(_dereq_,module,exports){
"use strict";module.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1};
},{}],23:[function(_dereq_,module,exports){
"use strict";var sign=_dereq_("../math/sign"),abs=Math.abs,floor=Math.floor;module.exports=function(r){return isNaN(r)?0:(r=Number(r),0!==r&&isFinite(r)?sign(r)*floor(abs(r)):r)};
},{"../math/sign":20}],24:[function(_dereq_,module,exports){
"use strict";var toInteger=_dereq_("./to-integer"),max=Math.max;module.exports=function(e){return max(0,toInteger(e))};
},{"./to-integer":23}],25:[function(_dereq_,module,exports){
"use strict";var callable=_dereq_("./valid-callable"),value=_dereq_("./valid-value"),bind=Function.prototype.bind,call=Function.prototype.call,keys=Object.keys,propertyIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(e,l){return function(t,r){var a,n=arguments[2],c=arguments[3];return t=Object(value(t)),callable(r),a=keys(t),c&&a.sort("function"==typeof c?bind.call(c,t):void 0),"function"!=typeof e&&(e=a[e]),call.call(e,a,function(e,a){return propertyIsEnumerable.call(t,e)?call.call(r,n,t[e],e,t,a):l})}};
},{"./valid-callable":43,"./valid-value":44}],26:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./is-implemented")()?Object.assign:_dereq_("./shim");
},{"./is-implemented":27,"./shim":28}],27:[function(_dereq_,module,exports){
"use strict";module.exports=function(){var r,t=Object.assign;return"function"==typeof t&&(r={foo:"raz"},t(r,{bar:"dwa"},{trzy:"trzy"}),r.foo+r.bar+r.trzy==="razdwatrzy")};
},{}],28:[function(_dereq_,module,exports){
"use strict";var keys=_dereq_("../keys"),value=_dereq_("../valid-value"),max=Math.max;module.exports=function(e,r){var a,t,u,i=max(arguments.length,2);for(e=Object(value(e)),u=function(t){try{e[t]=r[t]}catch(e){a||(a=e)}},t=1;t<i;++t)r=arguments[t],keys(r).forEach(u);if(void 0!==a)throw a;return e};
},{"../keys":34,"../valid-value":44}],29:[function(_dereq_,module,exports){
"use strict";var assign=_dereq_("./assign"),value=_dereq_("./valid-value");module.exports=function(e){var r=Object(value(e));return r!==e?r:assign({},e)};
},{"./assign":26,"./valid-value":44}],30:[function(_dereq_,module,exports){
"use strict";var create=Object.create,shim;_dereq_("./set-prototype-of/is-implemented")()||(shim=_dereq_("./set-prototype-of/shim")),module.exports=function(){var e,r,t;return shim?1!==shim.level?create:(e={},r={},t={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){return"__proto__"===e?void(r[e]={configurable:!0,enumerable:!1,writable:!0,value:void 0}):void(r[e]=t)}),Object.defineProperties(e,r),Object.defineProperty(shim,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(r,t){return create(null===r?e:r,t)}):create}();
},{"./set-prototype-of/is-implemented":41,"./set-prototype-of/shim":42}],31:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./_iterate")("forEach");
},{"./_iterate":25}],32:[function(_dereq_,module,exports){
"use strict";module.exports=function(t){return"function"==typeof t};
},{}],33:[function(_dereq_,module,exports){
"use strict";var map={function:!0,object:!0};module.exports=function(t){return null!=t&&map[typeof t]||!1};
},{}],34:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./is-implemented")()?Object.keys:_dereq_("./shim");
},{"./is-implemented":35,"./shim":36}],35:[function(_dereq_,module,exports){
"use strict";module.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}};
},{}],36:[function(_dereq_,module,exports){
"use strict";var keys=Object.keys;module.exports=function(e){return keys(null==e?e:Object(e))};
},{}],37:[function(_dereq_,module,exports){
"use strict";var callable=_dereq_("./valid-callable"),forEach=_dereq_("./for-each"),call=Function.prototype.call;module.exports=function(l,a){var c={},r=arguments[2];return callable(a),forEach(l,function(l,e,o,t){c[e]=call.call(a,r,l,e,o,t)}),c};
},{"./for-each":31,"./valid-callable":43}],38:[function(_dereq_,module,exports){
"use strict";var forEach=Array.prototype.forEach,create=Object.create,process=function(r,c){var e;for(e in r)c[e]=r[e]};module.exports=function(r){var c=create(null);return forEach.call(arguments,function(r){null!=r&&process(Object(r),c)}),c};
},{}],39:[function(_dereq_,module,exports){
"use strict";var forEach=Array.prototype.forEach,create=Object.create;module.exports=function(r){var e=create(null);return forEach.call(arguments,function(r){e[r]=!0}),e};
},{}],40:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./is-implemented")()?Object.setPrototypeOf:_dereq_("./shim");
},{"./is-implemented":41,"./shim":42}],41:[function(_dereq_,module,exports){
"use strict";var create=Object.create,getPrototypeOf=Object.getPrototypeOf,x={};module.exports=function(){var t=Object.setPrototypeOf,e=arguments[0]||create;return"function"==typeof t&&getPrototypeOf(t(e(null),x))===x};
},{}],42:[function(_dereq_,module,exports){
"use strict";var isObject=_dereq_("../is-object"),value=_dereq_("../valid-value"),isPrototypeOf=Object.prototype.isPrototypeOf,defineProperty=Object.defineProperty,nullDesc={configurable:!0,enumerable:!1,writable:!0,value:void 0},validate;validate=function(e,t){if(value(e),null===t||isObject(t))return e;throw new TypeError("Prototype must be null or an object")},module.exports=function(e){var t,l;return e?(2===e.level?e.set?(l=e.set,t=function(e,t){return l.call(validate(e,t),t),e}):t=function(e,t){return validate(e,t).__proto__=t,e}:t=function e(t,l){var r;return validate(t,l),r=isPrototypeOf.call(e.nullPolyfill,t),r&&delete e.nullPolyfill.__proto__,null===l&&(l=e.nullPolyfill),t.__proto__=l,r&&defineProperty(e.nullPolyfill,"__proto__",nullDesc),t},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e,t=Object.create(null),l={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{e=r.set,e.call(t,l)}catch(e){}if(Object.getPrototypeOf(t)===l)return{set:e,level:2}}return t.__proto__=l,Object.getPrototypeOf(t)===l?{level:2}:(t={},t.__proto__=l,Object.getPrototypeOf(t)===l&&{level:1})}()),_dereq_("../create");
},{"../create":30,"../is-object":33,"../valid-value":44}],43:[function(_dereq_,module,exports){
"use strict";module.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t};
},{}],44:[function(_dereq_,module,exports){
"use strict";module.exports=function(n){if(null==n)throw new TypeError("Cannot use null or undefined");return n};
},{}],45:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./is-implemented")()?String.prototype.contains:_dereq_("./shim");
},{"./is-implemented":46,"./shim":47}],46:[function(_dereq_,module,exports){
"use strict";var str="razdwatrzy";module.exports=function(){return"function"==typeof str.contains&&(str.contains("dwa")===!0&&str.contains("foo")===!1)};
},{}],47:[function(_dereq_,module,exports){
"use strict";var indexOf=String.prototype.indexOf;module.exports=function(t){return indexOf.call(this,t,arguments[1])>-1};
},{}],48:[function(_dereq_,module,exports){
"use strict";var toString=Object.prototype.toString,id=toString.call("");module.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||toString.call(t)===id)||!1};
},{}],49:[function(_dereq_,module,exports){
"use strict";var setPrototypeOf=_dereq_("es5-ext/object/set-prototype-of"),contains=_dereq_("es5-ext/string/#/contains"),d=_dereq_("d"),Iterator=_dereq_("./"),defineProperty=Object.defineProperty,ArrayIterator;ArrayIterator=module.exports=function(t,r){return this instanceof ArrayIterator?(Iterator.call(this,t),r=r?contains.call(r,"key+value")?"key+value":contains.call(r,"key")?"key":"value":"value",void defineProperty(this,"__kind__",d("",r))):new ArrayIterator(t,r)},setPrototypeOf&&setPrototypeOf(ArrayIterator,Iterator),ArrayIterator.prototype=Object.create(Iterator.prototype,{constructor:d(ArrayIterator),_resolve:d(function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t}),toString:d(function(){return"[object Array Iterator]"})});
},{"./":52,"d":15,"es5-ext/object/set-prototype-of":40,"es5-ext/string/#/contains":45}],50:[function(_dereq_,module,exports){
"use strict";var isArguments=_dereq_("es5-ext/function/is-arguments"),callable=_dereq_("es5-ext/object/valid-callable"),isString=_dereq_("es5-ext/string/is-string"),get=_dereq_("./get"),isArray=Array.isArray,call=Function.prototype.call,some=Array.prototype.some;module.exports=function(r,e){var t,l,i,a,n,s,c,o,u=arguments[2];if(isArray(r)||isArguments(r)?t="array":isString(r)?t="string":r=get(r),callable(e),i=function(){a=!0},"array"===t)return void some.call(r,function(r){if(call.call(e,u,r,i),a)return!0});if("string"!==t)for(l=r.next();!l.done;){if(call.call(e,u,l.value,i),a)return;l=r.next()}else for(s=r.length,n=0;n<s&&(c=r[n],n+1<s&&(o=c.charCodeAt(0),o>=55296&&o<=56319&&(c+=r[++n])),call.call(e,u,c,i),!a);++n);};
},{"./get":51,"es5-ext/function/is-arguments":18,"es5-ext/object/valid-callable":43,"es5-ext/string/is-string":48}],51:[function(_dereq_,module,exports){
"use strict";var isArguments=_dereq_("es5-ext/function/is-arguments"),isString=_dereq_("es5-ext/string/is-string"),ArrayIterator=_dereq_("./array"),StringIterator=_dereq_("./string"),iterable=_dereq_("./valid-iterable"),iteratorSymbol=_dereq_("es6-symbol").iterator;module.exports=function(r){return"function"==typeof iterable(r)[iteratorSymbol]?r[iteratorSymbol]():isArguments(r)?new ArrayIterator(r):isString(r)?new StringIterator(r):new ArrayIterator(r)};
},{"./array":49,"./string":54,"./valid-iterable":55,"es5-ext/function/is-arguments":18,"es5-ext/string/is-string":48,"es6-symbol":56}],52:[function(_dereq_,module,exports){
"use strict";var clear=_dereq_("es5-ext/array/#/clear"),assign=_dereq_("es5-ext/object/assign"),callable=_dereq_("es5-ext/object/valid-callable"),value=_dereq_("es5-ext/object/valid-value"),d=_dereq_("d"),autoBind=_dereq_("d/auto-bind"),Symbol=_dereq_("es6-symbol"),defineProperty=Object.defineProperty,defineProperties=Object.defineProperties,Iterator;module.exports=Iterator=function(e,t){return this instanceof Iterator?(defineProperties(this,{__list__:d("w",value(e)),__context__:d("w",t),__nextIndex__:d("w",0)}),void(t&&(callable(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear)))):new Iterator(e,t)},defineProperties(Iterator.prototype,assign({constructor:d(Iterator),_next:d(function(){var e;if(this.__list__)return this.__redo__&&(e=this.__redo__.shift(),void 0!==e)?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:d(function(){return this._createResult(this._next())}),_createResult:d(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:d(function(e){return this.__list__[e]}),_unBind:d(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:d(function(){return"[object Iterator]"})},autoBind({_onAdd:d(function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void defineProperty(this,"__redo__",d("c",[e]));this.__redo__.forEach(function(t,_){t>=e&&(this.__redo__[_]=++t)},this),this.__redo__.push(e)}}),_onDelete:d(function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(t=this.__redo__.indexOf(e),t!==-1&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,_){t>e&&(this.__redo__[_]=--t)},this)))}),_onClear:d(function(){this.__redo__&&clear.call(this.__redo__),this.__nextIndex__=0})}))),defineProperty(Iterator.prototype,Symbol.iterator,d(function(){return this})),defineProperty(Iterator.prototype,Symbol.toStringTag,d("","Iterator"));
},{"d":15,"d/auto-bind":14,"es5-ext/array/#/clear":16,"es5-ext/object/assign":26,"es5-ext/object/valid-callable":43,"es5-ext/object/valid-value":44,"es6-symbol":56}],53:[function(_dereq_,module,exports){
"use strict";var isArguments=_dereq_("es5-ext/function/is-arguments"),isString=_dereq_("es5-ext/string/is-string"),iteratorSymbol=_dereq_("es6-symbol").iterator,isArray=Array.isArray;module.exports=function(r){return null!=r&&(!!isArray(r)||(!!isString(r)||(!!isArguments(r)||"function"==typeof r[iteratorSymbol])))};
},{"es5-ext/function/is-arguments":18,"es5-ext/string/is-string":48,"es6-symbol":56}],54:[function(_dereq_,module,exports){
"use strict";var setPrototypeOf=_dereq_("es5-ext/object/set-prototype-of"),d=_dereq_("d"),Iterator=_dereq_("./"),defineProperty=Object.defineProperty,StringIterator;StringIterator=module.exports=function(t){return this instanceof StringIterator?(t=String(t),Iterator.call(this,t),void defineProperty(this,"__length__",d("",t.length))):new StringIterator(t)},setPrototypeOf&&setPrototypeOf(StringIterator,Iterator),StringIterator.prototype=Object.create(Iterator.prototype,{constructor:d(StringIterator),_next:d(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:d(function(t){var e,r=this.__list__[t];return this.__nextIndex__===this.__length__?r:(e=r.charCodeAt(0),e>=55296&&e<=56319?r+this.__list__[this.__nextIndex__++]:r)}),toString:d(function(){return"[object String Iterator]"})});
},{"./":52,"d":15,"es5-ext/object/set-prototype-of":40}],55:[function(_dereq_,module,exports){
"use strict";var isIterable=_dereq_("./is-iterable");module.exports=function(e){if(!isIterable(e))throw new TypeError(e+" is not iterable");return e};
},{"./is-iterable":53}],56:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./is-implemented")()?Symbol:_dereq_("./polyfill");
},{"./is-implemented":57,"./polyfill":59}],57:[function(_dereq_,module,exports){
"use strict";var validTypes={object:!0,symbol:!0};module.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return!!validTypes[typeof Symbol.iterator]&&(!!validTypes[typeof Symbol.toPrimitive]&&!!validTypes[typeof Symbol.toStringTag])};
},{}],58:[function(_dereq_,module,exports){
"use strict";module.exports=function(o){return!!o&&("symbol"==typeof o||!!o.constructor&&("Symbol"===o.constructor.name&&"Symbol"===o[o.constructor.toStringTag]))};
},{}],59:[function(_dereq_,module,exports){
"use strict";var d=_dereq_("d"),validateSymbol=_dereq_("./validate-symbol"),create=Object.create,defineProperties=Object.defineProperties,defineProperty=Object.defineProperty,objPrototype=Object.prototype,NativeSymbol,SymbolPolyfill,HiddenSymbol,globalSymbols=create(null),isNativeSafe;if("function"==typeof Symbol){NativeSymbol=Symbol;try{String(NativeSymbol()),isNativeSafe=!0}catch(o){}}var generateName=function(){var o=create(null);return function(l){for(var e,t,i=0;o[l+(i||"")];)++i;return l+=i||"",o[l]=!0,e="@@"+l,defineProperty(objPrototype,e,d.gs(null,function(o){t||(t=!0,defineProperty(this,e,d(o)),t=!1)})),e}}();HiddenSymbol=function(o){if(this instanceof HiddenSymbol)throw new TypeError("TypeError: Symbol is not a constructor");return SymbolPolyfill(o)},module.exports=SymbolPolyfill=function o(l){var e;if(this instanceof o)throw new TypeError("TypeError: Symbol is not a constructor");return isNativeSafe?NativeSymbol(l):(e=create(HiddenSymbol.prototype),l=void 0===l?"":String(l),defineProperties(e,{__description__:d("",l),__name__:d("",generateName(l))}))},defineProperties(SymbolPolyfill,{for:d(function(o){return globalSymbols[o]?globalSymbols[o]:globalSymbols[o]=SymbolPolyfill(String(o))}),keyFor:d(function(o){var l;validateSymbol(o);for(l in globalSymbols)if(globalSymbols[l]===o)return l}),hasInstance:d("",NativeSymbol&&NativeSymbol.hasInstance||SymbolPolyfill("hasInstance")),isConcatSpreadable:d("",NativeSymbol&&NativeSymbol.isConcatSpreadable||SymbolPolyfill("isConcatSpreadable")),iterator:d("",NativeSymbol&&NativeSymbol.iterator||SymbolPolyfill("iterator")),match:d("",NativeSymbol&&NativeSymbol.match||SymbolPolyfill("match")),replace:d("",NativeSymbol&&NativeSymbol.replace||SymbolPolyfill("replace")),search:d("",NativeSymbol&&NativeSymbol.search||SymbolPolyfill("search")),species:d("",NativeSymbol&&NativeSymbol.species||SymbolPolyfill("species")),split:d("",NativeSymbol&&NativeSymbol.split||SymbolPolyfill("split")),toPrimitive:d("",NativeSymbol&&NativeSymbol.toPrimitive||SymbolPolyfill("toPrimitive")),toStringTag:d("",NativeSymbol&&NativeSymbol.toStringTag||SymbolPolyfill("toStringTag")),unscopables:d("",NativeSymbol&&NativeSymbol.unscopables||SymbolPolyfill("unscopables"))}),defineProperties(HiddenSymbol.prototype,{constructor:d(SymbolPolyfill),toString:d("",function(){return this.__name__})}),defineProperties(SymbolPolyfill.prototype,{toString:d(function(){return"Symbol ("+validateSymbol(this).__description__+")"}),valueOf:d(function(){return validateSymbol(this)})}),defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toPrimitive,d("",function(){var o=validateSymbol(this);return"symbol"==typeof o?o:o.toString()})),defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toStringTag,d("c","Symbol")),defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toStringTag,d("c",SymbolPolyfill.prototype[SymbolPolyfill.toStringTag])),defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toPrimitive,d("c",SymbolPolyfill.prototype[SymbolPolyfill.toPrimitive]));
},{"./validate-symbol":60,"d":15}],60:[function(_dereq_,module,exports){
"use strict";var isSymbol=_dereq_("./is-symbol");module.exports=function(r){if(!isSymbol(r))throw new TypeError(r+" is not a symbol");return r};
},{"./is-symbol":58}],61:[function(_dereq_,module,exports){
"use strict";var d=_dereq_("d"),callable=_dereq_("es5-ext/object/valid-callable"),apply=Function.prototype.apply,call=Function.prototype.call,create=Object.create,defineProperty=Object.defineProperty,defineProperties=Object.defineProperties,hasOwnProperty=Object.prototype.hasOwnProperty,descriptor={configurable:!0,enumerable:!1,writable:!0},on,once,off,emit,methods,descriptors,base;on=function(e,t){var r;return callable(t),hasOwnProperty.call(this,"__ee__")?r=this.__ee__:(r=descriptor.value=create(null),defineProperty(this,"__ee__",descriptor),descriptor.value=null),r[e]?"object"==typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t,this},once=function(e,t){var r,l;return callable(t),l=this,on.call(this,e,r=function(){off.call(l,e,r),apply.call(t,this,arguments)}),r.__eeOnceListener__=t,this},off=function(e,t){var r,l,o,i;if(callable(t),!hasOwnProperty.call(this,"__ee__"))return this;if(r=this.__ee__,!r[e])return this;if(l=r[e],"object"==typeof l)for(i=0;o=l[i];++i)o!==t&&o.__eeOnceListener__!==t||(2===l.length?r[e]=l[i?0:1]:l.splice(i,1));else l!==t&&l.__eeOnceListener__!==t||delete r[e];return this},emit=function(e){var t,r,l,o,i;if(hasOwnProperty.call(this,"__ee__")&&(o=this.__ee__[e]))if("object"==typeof o){for(r=arguments.length,i=new Array(r-1),t=1;t<r;++t)i[t-1]=arguments[t];for(o=o.slice(),t=0;l=o[t];++t)apply.call(l,this,i)}else switch(arguments.length){case 1:call.call(o,this);break;case 2:call.call(o,this,arguments[1]);break;case 3:call.call(o,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,i=new Array(r-1),t=1;t<r;++t)i[t-1]=arguments[t];apply.call(o,this,i)}},methods={on:on,once:once,off:off,emit:emit},descriptors={on:d(on),once:d(once),off:d(off),emit:d(emit)},base=defineProperties({},descriptors),module.exports=exports=function(e){return null==e?create(base):defineProperties(Object(e),descriptors)},exports.methods=methods;
},{"d":15,"es5-ext/object/valid-callable":43}],62:[function(_dereq_,module,exports){
"use strict";var clear=_dereq_("es5-ext/array/#/clear"),eIndexOf=_dereq_("es5-ext/array/#/e-index-of"),setPrototypeOf=_dereq_("es5-ext/object/set-prototype-of"),callable=_dereq_("es5-ext/object/valid-callable"),validValue=_dereq_("es5-ext/object/valid-value"),d=_dereq_("d"),ee=_dereq_("event-emitter"),Symbol=_dereq_("es6-symbol"),iterator=_dereq_("es6-iterator/valid-iterable"),forOf=_dereq_("es6-iterator/for-of"),Iterator=_dereq_("./lib/iterator"),isNative=_dereq_("./is-native-implemented"),call=Function.prototype.call,defineProperties=Object.defineProperties,getPrototypeOf=Object.getPrototypeOf,MapPoly;module.exports=MapPoly=function(){var e,t,a,r=arguments[0];if(!(this instanceof MapPoly))throw new TypeError("Constructor requires 'new'");return a=isNative&&setPrototypeOf&&Map!==MapPoly?setPrototypeOf(new Map,getPrototypeOf(this)):this,null!=r&&iterator(r),defineProperties(a,{__mapKeysData__:d("c",e=[]),__mapValuesData__:d("c",t=[])}),r?(forOf(r,function(a){var r=validValue(a)[0];a=a[1],eIndexOf.call(e,r)===-1&&(e.push(r),t.push(a))},a),a):a},isNative&&(setPrototypeOf&&setPrototypeOf(MapPoly,Map),MapPoly.prototype=Object.create(Map.prototype,{constructor:d(MapPoly)})),ee(defineProperties(MapPoly.prototype,{clear:d(function(){this.__mapKeysData__.length&&(clear.call(this.__mapKeysData__),clear.call(this.__mapValuesData__),this.emit("_clear"))}),delete:d(function(e){var t=eIndexOf.call(this.__mapKeysData__,e);return t!==-1&&(this.__mapKeysData__.splice(t,1),this.__mapValuesData__.splice(t,1),this.emit("_delete",t,e),!0)}),entries:d(function(){return new Iterator(this,"key+value")}),forEach:d(function(e){var t,a,r=arguments[1];for(callable(e),t=this.entries(),a=t._next();void 0!==a;)call.call(e,r,this.__mapValuesData__[a],this.__mapKeysData__[a],this),a=t._next()}),get:d(function(e){var t=eIndexOf.call(this.__mapKeysData__,e);if(t!==-1)return this.__mapValuesData__[t]}),has:d(function(e){return eIndexOf.call(this.__mapKeysData__,e)!==-1}),keys:d(function(){return new Iterator(this,"key")}),set:d(function(e,t){var a,r=eIndexOf.call(this.__mapKeysData__,e);return r===-1&&(r=this.__mapKeysData__.push(e)-1,a=!0),this.__mapValuesData__[r]=t,a&&this.emit("_add",r,e),this}),size:d.gs(function(){return this.__mapKeysData__.length}),values:d(function(){return new Iterator(this,"value")}),toString:d(function(){return"[object Map]"})})),Object.defineProperty(MapPoly.prototype,Symbol.iterator,d(function(){return this.entries()})),Object.defineProperty(MapPoly.prototype,Symbol.toStringTag,d("c","Map"));
},{"./is-native-implemented":11,"./lib/iterator":13,"d":15,"es5-ext/array/#/clear":16,"es5-ext/array/#/e-index-of":17,"es5-ext/object/set-prototype-of":40,"es5-ext/object/valid-callable":43,"es5-ext/object/valid-value":44,"es6-iterator/for-of":50,"es6-iterator/valid-iterable":55,"es6-symbol":56,"event-emitter":61}],63:[function(_dereq_,module,exports){
(function (process,global){
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){I=t}function r(t){J=t}function o(){return function(){return process.nextTick(a)}}function i(){return function(){H(a)}}function s(){var t=0,e=new V(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){return t.port2.postMessage(0)}}function c(){var t=setTimeout;return function(){return t(a,1)}}function a(){for(var t=0;t<G;t+=2){var e=$[t],n=$[t+1];e(n),$[t]=void 0,$[t+1]=void 0}G=0}function f(){try{var t=_dereq_,e=t("vertx");return H=e.runOnLoop||e.runOnContext,i()}catch(t){return c()}}function l(t,e){var n=arguments,r=this,o=new this.constructor(p);void 0===o[et]&&k(o);var i=r._state;return i?!function(){var t=n[i-1];J(function(){return x(i,o,t,r._result)})}():E(r,o,t,e),o}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(p);return g(n,t),n}function p(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function _(t){try{return t.then}catch(t){return it.error=t,it}}function y(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function m(t,e,n){J(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?g(t,n):S(t,n))},function(e){r||(r=!0,j(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,j(t,o))},t)}function b(t,e){e._state===rt?S(t,e._result):e._state===ot?j(t,e._result):E(e,void 0,function(e){return g(t,e)},function(e){return j(t,e)})}function w(t,n,r){n.constructor===t.constructor&&r===l&&n.constructor.resolve===h?b(t,n):r===it?j(t,it.error):void 0===r?S(t,n):e(r)?m(t,n,r):S(t,n)}function g(e,n){e===n?j(e,v()):t(n)?w(e,n,_(n)):S(e,n)}function A(t){t._onerror&&t._onerror(t._result),T(t)}function S(t,e){t._state===nt&&(t._result=e,t._state=rt,0!==t._subscribers.length&&J(T,t))}function j(t,e){t._state===nt&&(t._state=ot,t._result=e,J(A,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+rt]=n,o[i+ot]=r,0===i&&t._state&&J(T,t)}function T(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?x(n,r,o,i):o(i);t._subscribers.length=0}}function M(){this.error=null}function P(t,e){try{return t(e)}catch(t){return st.error=t,st}}function x(t,n,r,o){var i=e(r),s=void 0,u=void 0,c=void 0,a=void 0;if(i){if(s=P(r,o),s===st?(a=!0,u=s.error,s=null):c=!0,n===s)return void j(n,d())}else s=o,c=!0;n._state!==nt||(i&&c?g(n,s):a?j(n,u):t===rt?S(n,s):t===ot&&j(n,s))}function C(t,e){try{e(function(e){g(t,e)},function(e){j(t,e)})}catch(e){j(t,e)}}function O(){return ut++}function k(t){t[et]=ut++,t._state=void 0,t._result=void 0,t._subscribers=[]}function Y(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[et]||k(this.promise),B(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):j(this.promise,q())}function q(){return new Error("Array Methods must be provided an Array")}function F(t){return new Y(this,t).promise}function D(t){var e=this;return new e(B(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function K(t){var e=this,n=new e(p);return j(n,t),n}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(t){this[et]=O(),this._result=this._state=void 0,this._subscribers=[],p!==t&&("function"!=typeof t&&L(),this instanceof U?C(this,t):N())}function W(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=U}var z=void 0;z=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var B=z,G=0,H=void 0,I=void 0,J=function(t,e){$[G]=t,$[G+1]=e,G+=2,2===G&&(I?I(a):tt())},Q="undefined"!=typeof window?window:void 0,R=Q||{},V=R.MutationObserver||R.WebKitMutationObserver,X="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3),tt=void 0;tt=X?o():V?s():Z?u():void 0===Q&&"function"==typeof _dereq_?f():c();var et=Math.random().toString(36).substring(16),nt=void 0,rt=1,ot=2,it=new M,st=new M,ut=0;return Y.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===nt&&n<t;n++)this._eachEntry(e[n],n)},Y.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===h){var o=_(t);if(o===l&&t._state!==nt)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===U){var i=new n(p);w(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},Y.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===nt&&(this._remaining--,t===ot?j(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},Y.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){return n._settledAt(rt,e,t)},function(t){return n._settledAt(ot,e,t)})},U.all=F,U.race=D,U.resolve=h,U.reject=K,U._setScheduler=n,U._setAsap=r,U._asap=J,U.prototype={constructor:U,then:l,catch:function(t){return this.then(null,t)}},W(),U.polyfill=W,U.Promise=U,U});
}).call(this,_dereq_('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":5}],64:[function(_dereq_,module,exports){
!function(){"use strict";function e(t){t.permitHostObjects___&&t.permitHostObjects___(e)}function t(e){return!(e.substr(0,_.length)==_&&"___"===e.substr(e.length-3))}function n(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[p];if(t&&t.key===e)return t;if(l(e)){t={key:e};try{return s(e,p,{value:t,writable:!1,enumerable:!1,configurable:!1}),t}catch(e){return}}}function r(e){return e.prototype=null,Object.freeze(e)}function o(){d||"undefined"==typeof console||(d=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=e);var a=!1;if("function"==typeof WeakMap){var i=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var u=new i,f=Object.freeze({});if(u.set(f,1),1===u.get(f))return void(module.exports=WeakMap);a=!0}}var c=(Object.prototype.hasOwnProperty,Object.getOwnPropertyNames),s=Object.defineProperty,l=Object.isExtensible,_="weakmap:",p=_+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var b=new ArrayBuffer(25),v=new Uint8Array(b);crypto.getRandomValues(v),p=_+"rand:"+Array.prototype.map.call(v,function(e){return(e%36).toString(36)}).join("")+"___"}if(s(Object,"getOwnPropertyNames",{value:function(e){return c(e).filter(t)}}),"getPropertyNames"in Object){var y=Object.getPropertyNames;s(Object,"getPropertyNames",{value:function(e){return y(e).filter(t)}})}!function(){var e=Object.freeze;s(Object,"freeze",{value:function(t){return n(t),e(t)}});var t=Object.seal;s(Object,"seal",{value:function(e){return n(e),t(e)}});var r=Object.preventExtensions;s(Object,"preventExtensions",{value:function(e){return n(e),r(e)}})}();var d=!1,O=0,g=function(){function e(e,t){var r,o=n(e);return o?c in o?o[c]:t:(r=u.indexOf(e),r>=0?f[r]:t)}function t(e){var t=n(e);return t?c in t:u.indexOf(e)>=0}function a(e,t){var r,o=n(e);return o?o[c]=t:(r=u.indexOf(e),r>=0?f[r]=t:(r=u.length,f[r]=t,u[r]=e)),this}function i(e){var t,r,o=n(e);return o?c in o&&delete o[c]:(t=u.indexOf(e),!(t<0)&&(r=u.length-1,u[t]=void 0,f[t]=f[r],u[t]=u[r],u.length=r,f.length=r,!0))}this instanceof g||o();var u=[],f=[],c=O++;return Object.create(g.prototype,{get___:{value:r(e)},has___:{value:r(t)},set___:{value:r(a)},delete___:{value:r(i)}})};g.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.get___(e,t)},writable:!0,configurable:!0},has:{value:function(e){return this.has___(e)},writable:!0,configurable:!0},set:{value:function(e,t){return this.set___(e,t)},writable:!0,configurable:!0},delete:{value:function(e){return this.delete___(e)},writable:!0,configurable:!0}}),"function"==typeof i?!function(){function t(){function t(e,t){return s?c.has(e)?c.get(e):s.get___(e,t):c.get(e,t)}function n(e){return c.has(e)||!!s&&s.has___(e)}function u(e){var t=!!c.delete(e);return s?s.delete___(e)||t:t}this instanceof g||o();var f,c=new i,s=void 0,l=!1;return f=a?function(e,t){return c.set(e,t),c.has(e)||(s||(s=new g),s.set(e,t)),this}:function(e,t){if(l)try{c.set(e,t)}catch(n){s||(s=new g),s.set___(e,t)}else c.set(e,t);return this},Object.create(g.prototype,{get___:{value:r(t)},has___:{value:r(n)},set___:{value:r(f)},delete___:{value:r(u)},permitHostObjects___:{value:r(function(t){if(t!==e)throw new Error("bogus call to permitHostObjects___");l=!0})}})}a&&"undefined"!=typeof Proxy&&(Proxy=void 0),t.prototype=g.prototype,module.exports=t,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),module.exports=g)}}();
},{}],65:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");TTk.Enumeration=function(){var n=function(n){for(var e,r=/\-?(\w+)+/g,t="";e=r.exec(n);){var u=e[1];t+=u.charAt(0).toUpperCase()+u.substr(1)}return t},e=function(n){return n.toUpperCase().replace(/-/,"_")},r=function(u,T,i){var a={},c={};return T.forEach(function(n,r){a[n.k]=n,c[n.k]=r,T[e(n.k)]=n.k,T[r]=n.k}),T.name=u,T.index=function(n){return c[n]},T.label=function(n){return a[n].l},T.description=function(n){return a[n].l},T.isMember=function(n){return n in a},i?TTk[i][n(u)]=T:TTk[n(u)]=T,t[u]=T,r.list.push(T),TTk.Type&&r.makeType(T),T};r.makeType=function(n){TTk.Type[e(n.name)]=new TTk.Type(n.name,TTk.Type.STRING,null,null,n)},r.get=function(n){return t[n]};var t={};return r.list=[],r}();
},{"./ttk.js":73}],66:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");TTk.Exception=function(){var t=function(t){this.name="TTk.Exception",this.message=t,this.stack=(new Error).stack};return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),t}(),TTk.InternalException=function(){var t=function(t){this.name="TTk.InternalException",this.message=t,this.stack=(new Error).stack};return t.prototype=Object.create(TTk.Exception.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),t}();
},{"./ttk.js":73}],67:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");TTk.Math=function(){var n=function(){};return n.mod=function(n,t){return n*t>=0?n%t:(n%t+t)%t},n.clamp=function(n,t,r){return Math.max(Math.min(n,r),t)},n.snap=function(n,t){return Math.round(n/t)*t},n.round=function(n,t){t=t||0;var r=Math.pow(10,t);return Math.round(n*r)/r},n.ceil=function(n,t){t=t||0;var r=Math.pow(10,t);return Math.ceil(n*r)/r},n.floor=function(n,t){t=t||0;var r=Math.pow(10,t);return Math.floor(n*r)/r},n.step=function(n,t){var r=Math;return r.round(r.pow(t,r.round(r.log(n)/r.log(t))))},n.toDegrees=function(n){return 180*n/Math.PI},n.toRadians=function(n){return n*Math.PI/180},n}(),TTk.Vector=function(){var n=function(){};return n.sub=function(n,t){return n.length<=2||t.length<=2?[n[0]-t[0],n[1]-t[1]]:[n[0]-t[0],n[1]-t[1],n[2]-t[2]]},n.add=function(n,t){return n.length<=2||t.length<=2?[n[0]+t[0],n[1]+t[1]]:[n[0]+t[0],n[1]+t[1],n[2]+t[2]]},n.mult=function(n,t){return n.length<=2||t.length<=2?[n[0]*t[0],n[1]*t[1]]:[n[0]*t[0],n[1]*t[1],n[2]*t[2]]},n.scale=function(n,t){return n.length<=2?[n[0]*t,n[1]*t]:[n[0]*t,n[1]*t,n[2]*t]},n.dist=function(n,t){return Math.pow(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)+(n.length<=2||t.length<=2?0:Math.pow(t[2]-n[2],2)),.5)},n.planeDist=function(t,r,o){return n.dot(n.norm(o),n.sub(t,r))},n.mid=function(t,r,o){return arguments.length<3&&(o=.5),n.add(t,n.scale(n.sub(r,t),o))},n.dot=function(n,t){return n[0]*t[0]+n[1]*t[1]+(n.length<=2||t.length<=2?0:n[2]*t[2])},n.cross=function(n,t){return[n[1]*(t[2]||0)-t[1]*(n[2]||0),(n[2]||0)*t[0]-(t[2]||0)*n[0],n[0]*t[1]-t[0]*n[1]]},n.perp=function(n){return[-n[1],n[0]]},n.magSqr=function(n){return n[0]*n[0]+n[1]*n[1]+(n.length<=2?0:n[2]*n[2])},n.mag=function(t){return Math.sqrt(n.magSqr(t))},n.axis=function(n){return n[0]?n[1]||n[2]?-1:0:n[1]?n[2]?-1:1:n[2]?2:-1},n.rotate=function(n,t){var r=Math.cos(t),o=Math.sin(t);return[r*n[0]-o*n[1],o*n[0]+r*n[1]]},n.angleBetween=function(t,r){if(0===n.mag(n.sub(n.norm(t),n.scale(n.norm(r),-1))))return Math.PI;var o=Math.acos(TTk.Math.clamp(n.dot(t,r)/(n.mag(t)*n.mag(r)),-1,1)),u=n.norm(n.cross(t,r));return o*u[2]},n.norm=function(t){var r=n.mag(t);return n.scale(t,0!==r?1/r:0)},n.intersect=function(t,r,o){o=o||0;var u=n.sub(t[1],t[0]),e=n.sub(r[1],r[0]),a=n.sub(r[0],t[0]),c=Math.abs(n.dot(a,n.cross(u,e)));if(!(c>o)){var i=n.dot(n.cross(a,e),n.cross(u,e))/n.magSqr(n.cross(u,e));return i>=0&&i<=1?n.add(t[0],n.scale(u,i)):void 0}},n}(),TTk.Matrix=function(){var n=function(){};return n.multiply=function(n,t){var r,o,u,e=[];for(r=0;r<n.length;r++)for(e[r]=[],o=0;o<t[r].length;o++)for(e[r][o]=0,u=0;u<n[r].length;u++)e[r][o]+=n[r][u]*t[u][o];return e},n}(),TTk.AxisRotation=function(){var n,t=[0,0,1],r=0,o=[0,0,0],u=function(t){return n||e(),t=TTk.Vector.sub(t,o),t=TTk.Matrix.multiply(n,[[t[0]],[t[1]],[t[2]],[0]]),t=[t[0][0],t[1][0],t[2][0]],t=TTk.Vector.add(t,o)},e=function(){var o=t[0],u=t[1],e=t[2],a=o*o,c=u*u,i=e*e,s=o*o+u*u+e*e,f=Math.sqrt(s),l=Math.cos(r),h=Math.sin(r);n=TTk.Utils.numArray2D(4,4,0),n[0][0]=(a+(c+i)*l)/s,n[0][1]=(o*u*(1-l)-e*f*h)/s,n[0][2]=(o*e*(1-l)+u*f*h)/s,n[1][0]=(o*u*(1-l)+e*f*h)/s,n[1][1]=(c+(a+i)*l)/s,n[1][2]=(u*e*(1-l)-o*f*h)/s,n[2][0]=(o*e*(1-l)-u*f*h)/s,n[2][1]=(u*e*(1-l)+o*f*h)/s,n[2][2]=(i+(a+c)*l)/s,n[3][3]=1};return u.axis=function(r){return arguments.length?(t=r,n=null,u):t},u.angle=function(t){return arguments.length?(r=t,n=null,u):r},u.origin=function(n){return arguments.length?(o=n,u):o},u},TTk.LatLon=function(n,t,r){this.lat=n,this.lon=t,this.alt=r},TTk.Polygon=function(){var n=function(){};return n.centroid=function(n){var t=[0,0,0];return n.forEach(function(n){t=TTk.Vector.add(t,n)}),t=TTk.Vector.scale(t,1/n.length)},n.normal=function(n){var t=TTk.Vector,r=t.sub(n[1],n[0]),o=t.sub(n[2],n[0]);return t.cross(r,o)},n.rectContains=function(n,t){return n[0]<=t[1]&&t[1]<=n[1]&&n[2]<=t[0]&&t[0]<=n[3]},n.rectOverlap=function(n,t){return n[0]<t[1]&&n[1]>t[0]&&n[2]<t[3]&&n[3]>t[2]},n}();
},{"./ttk.js":73}],68:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./utils.js"),_dereq_("./type.js"),_dereq_("./exception.js"),TTk.Number=function(){var e,r,t,T,n,D,i,s,R,u,N,P,a,p="[\\$]",S="(AED|AFN|ALL|AMD|ANG|AOA|ARS|AUD|AWG|AZN|BAM|BBD|BDT|BGN|BHD|BIF|BMD|BND|BOB|BRL|BSD|BTN|BWP|BYR|BZD|CAD|CDF|CHF|CLP|CNY|COP|CRC|CUC|CUP|CVE|CZK|DJF|DKK|DOP|DZD|EGP|ERN|ETB|EUR|FJD|FKP|GBP|GEL|GGP|GHS|GIP|GMD|GNF|GTQ|GYD|HKD|HNL|HRK|HTG|HUF|IDR|ILS|IMP|INR|IQD|IRR|ISK|JEP|JMD|JOD|JPY|KES|KGS|KHR|KMF|KPW|KRW|KWD|KYD|KZT|LAK|LBP|LKR|LRD|LSL|LTL|LVL|LYD|MAD|MDL|MGA|MKD|MMK|MNT|MOP|MRO|MUR|MVR|MWK|MXN|MYR|MZN|NAD|NGN|NIO|NOK|NPR|NZD|OMR|PAB|PEN|PGK|PHP|PKR|PLN|PYG|QAR|RON|RSD|RUB|RWF|SAR|SBD|SCR|SDG|SEK|SGD|SHP|SLL|SOS|SPL|SRD|STD|SVC|SYP|SZL|THB|TJS|TMT|TND|TOP|TRY|TTD|TVD|TWD|TZS|UAH|UGX|USD|UYU|UZS|VEF|VND|VUV|WST|XAF|XCD|XDR|XOF|XPF|YER|ZAR|ZMW|ZWD)",M="[%]",o="e[\\+\\-]?\\d+",U="\\d+",K="(\\d+|(\\d+?(,\\d{3})*))(\\.\\d+("+o+")?)?",L="(\\d+|(\\d+?(\\.\\d{3})*))(,\\d+("+o+")?)?",B=K,l=function(){e="(\\-?)("+p+")("+B+")",r=S+"\\s*(\\-?"+B+")",t="(\\-?"+B+")\\s*"+S,T=e+"|"+r+"|"+t,n="(\\-?"+B+")\\s*("+M+"?)",D=n+"|"+T,i=new RegExp(p),s=new RegExp("^"+e+"$","ig"),R=new RegExp("^"+r+"$","ig"),u=new RegExp("^"+t+"$","ig"),N=new RegExp("^"+n+"$","ig"),P=new RegExp("^("+D+")$","ig"),a=new RegExp("^("+U+")$","g")};l();var A=new RegExp("(^[^0-9\\-]+|,)","g"),G=function(e,r){this.value=e,this.unit=r};return G.setModeUS=function(e){var r=e?L:K;r!==B&&(B=r,l())},G.format=function(e,r,t){var T=d3.formatPrefix(e);return r&&(T.symbol=T.symbol.toUpperCase()),T.scale(e)+(T.symbol?(t?" ":"")+T.symbol:"")},G.prototype.getUnit=function(){return TTk.Unit.getUnit(this.unit)},G.isNumber=function(e){return TTk.Utils.matches(e,P)},G.isPosInt=function(e){return TTk.Utils.matches(e,a)},G.parse=function(e){var r,t,T;if(r=TTk.Utils.parse(e,N))t=r[1],T=r[7];else if(r=TTk.Utils.parse(e,s))t=r[1]+r[3],T=r[2];else if(r=TTk.Utils.parse(e,R))t=r[2],T=r[1];else{if(!(r=TTk.Utils.parse(e,u)))return new TTk.Number(NaN);t=r[1],T=r[7]}return t=parseFloat(B===L?t.replace(/\./g,"").replace(/,/,"."):t.replace(/,/g,"")),new TTk.Number(t,T)},G.parseInt=function(e,r){return r=r||10,parseInt(e,r)},G.parseFloat=function(e){return parseFloat(e.replace(A,""))},G}(),TTk.Type.NUMERIC=new TTk.Type("numeric",TTk.Type.POLY,TTk.Number.isNumber);
},{"./exception.js":66,"./ttk.js":73,"./type.js":74,"./utils.js":75}],69:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js"),WeakMap=_dereq_("weak-map");TTk.Object=function(){var r={};return r.privateStore=function(){var r=new WeakMap;return function(t){var n=r.get(t);return n||r.set(t,n={}),n}},r.attachAccessors=function(r,t,n){n.forEach(function(n){r.prototype[n]=function(r){var e=t(this);return arguments.length?(e[n]=r,this):e[n]}})},r.attachStatic=function(r,t){t.forEach(function(t){r.constructor[t]=r.constructor.prototype[t].bind(r)})},r.isEmpty=function(r){if("object"!=typeof r)return!1;for(var t in r)if(r.hasOwnProperty(t))return!1;return!0},r.clone=function(t){return r.map(t,function(r){return r})},r.map=function(t,n,e){if("object"==typeof t){if(Array.isArray(t))return t.map(function(t){return r.map(t,n,e)});var i,o=e?"function"==typeof e?e:n:null,u={};if(o)for(i in t)u[o(i)]=r.map(t[i],n,e);else for(i in t)u[i]=r.map(t[i],n);return u}return n(t)},r.size=function(r){var t=0;for(var n in r)r.hasOwnProperty(n)&&t++;return t},r.toArray=function(r,t){if(arguments.length>1)return r.length=t+1,Array.prototype.slice.apply(r);var n=[];for(var e in r)if(r.hasOwnProperty(e)){var i=e;"number"!=typeof i&&(i=parseInt(i,10)),isFinite(i)&&(n[i]=r[e])}return n},r.equals=function(t,n){var e,i=typeof t;if(i!==typeof n)return!1;if("object"===i){if(null===t||null===n)return t===n;if(Array.isArray(t)){if(!Array.isArray(n))return!1;var o=t.length;if(o!==n.length)return!1;for(var u=0;u<o;u++)if(!r.equals(t[u],n[u]))return!1;return!0}var a,f={};for(a in t)if(t.hasOwnProperty(a)){if(!n.hasOwnProperty(a))return!1;f[a]=!0}for(a in n)if(!(a in f))return!1;for(a in f)if(!r.equals(t[a],n[a]))return!1;return!0}return e="number"===i&&isNaN(t)?isNaN(n):"function"===i?t.toString()===n.toString():t===n},r}();
},{"./ttk.js":73,"weak-map":64}],70:[function(_dereq_,module,exports){
"use strict";_dereq_("es6-promise").polyfill(),_dereq_("es6-map/implement");var TTk=_dereq_("./ttk.js");TTk.Promise=function(){var e=function(){};return e.onceEvent=function(e,n){return n=n||TTk.ComponentGroup.GLOBAL,new Promise(function(r){n.onceEvent(e,r)})},e}();
},{"./ttk.js":73,"es6-map/implement":9,"es6-promise":63}],71:[function(_dereq_,module,exports){
"use strict";Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var i,a,l=[];for(i in o)t.call(o,i)&&l.push(i);if(e)for(a=0;a<n;a++)t.call(o,r[a])&&l.push(r[a]);return l}}()),Object.values||(Object.values=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.values called on non-object");var i,a,l=[];for(i in o)t.call(o,i)&&l.push(o[i]);if(e)for(a=0;a<n;a++)t.call(o,r[a])&&l.push(o[r[a]]);return l}}()),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.from||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},r=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},n=Math.pow(2,53)-1,o=function(t){var e=r(t);return Math.min(Math.max(e,0),n)};return function(t){var r=this,n=Object(t);if(!t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,a=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof a){if(!e(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var l,s=o(n.length),c=e(r)?Object(new r(s)):new Array(s),u=0;u<s;)l=n[u],a?c[u]="undefined"==typeof i?a(l,u):a.call(i,l,u):c[u]=l,u+=1;return c.length=s,c}}()),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(void 0!==n&&null!==n){n=Object(n);for(var o=Object.keys(n),i=0,a=o.length;i<a;i++){var l=o[i],s=Object.getOwnPropertyDescriptor(n,l);void 0!==s&&s.enumerable&&(e[l]=n[l])}}}return e}}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),r=this,n=function(){},o=function(){return r.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),o.prototype=new n,o}),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),Date.now||(Date.now=function(){return(new Date).getTime()}),Math.log10||(Math.log10=function(t){return Math.log(t)/Math.LN10});var IS_SERVER=function(){try{return!window}catch(t){return!0}}();IS_SERVER||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),IS_SERVER||"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function t(t){return function(r){var n=e.className.split(/\s+/),o=n.indexOf(r);t(n,o,r),e.className=n.join(" ")}}var e=this,r={add:t(function(t,e,r){~e||t.push(r)}),remove:t(function(t,e){~e&&t.splice(e,1)}),toggle:t(function(t,e,r){~e?t.splice(e,1):t.push(r)}),contains:function(t){return!!~e.className.split(/\s+/).indexOf(t)},item:function(t){return e.className.split(/\s+/)[t]||null}};return Object.defineProperty(r,"length",{get:function(){return e.className.split(/\s+/).length}}),r}});var fixSVG=function(){if(!IS_SERVER&&window.SVGElement){var t=function(e,r){var n=e.nodeType;if(3==n)r.push(e.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"));else if(1==n){if(r.push("<",e.tagName),e.hasAttributes())for(var o=e.attributes,i=0,a=o.length;i<a;++i){var l=o.item(i);r.push(" ",l.name,"='",l.value,"'")}if(e.hasChildNodes()){r.push(">");for(var s=e.childNodes,i=0,a=s.length;i<a;++i)t(s.item(i),r);r.push("</",e.tagName,">")}else r.push("/>")}else{if(8!=n)throw"Error serializing XML. Unhandled node of type: "+n;r.push("<!--",e.nodeValue,"-->")}};try{Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){for(var e=[],r=this.firstChild;r;)t(r,e),r=r.nextSibling;return e.join("")},set:function(t){for(;this.firstChild;)this.removeChild(this.firstChild);try{var e=new DOMParser;e.async=!1;for(var r="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+t+"</svg>",n=e.parseFromString(r,"text/xml").documentElement,o=n.firstChild;o;)this.appendChild(this.ownerDocument.importNode(o,!0)),o=o.nextSibling}catch(t){throw new Error("Error parsing XML string")}},enumerable:!1,configurable:!0}),Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t},enumerable:!1,configurable:!0})}catch(t){TTk.info("SVG innerHTML polyfill threw exception: "+t)}}}();
},{}],72:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");TTk.Set=function(){var r={};return r.intersection=function(n,t,f){n=r.from(n,f),t=r.from(t,f);var e={};for(var o in n)o in t&&(e[o]=n);return e},r.union=function(n,t,f){return n=r.from(n,f),t=r.from(t,f),Object.assign({},n,t)},r.difference=function(n,t,f){n=r.from(n,f),t=r.from(t,f);var e={};for(var o in n)o in t||(e[o]=n[o]);return e},r.from=function(n,t,f){var e=arguments.length>=3;if("object"!=typeof n){var o=t?t(n):n,i={};return i[o]=e?f:n,i}return Array.isArray(n)?e?r.fromArray(n,t,f):r.fromArray(n,t):e?r.fromObject(n,t,f):r.fromObject(n,t)},r.fromArray=function(r,n,t){var f=arguments.length>=3,e={},o=r.length;if(n)for(;o--;)e[n(r[o])]=f?t:r[o];else for(;o--;)e[r[o]]=f?t:r[o];return e},r.fromObject=function(r,n,t){var f=arguments.length>=3;if(n){var e={};for(var o in r)e[n(r[o])]=f?t:r[o];return e}if(f){var e={};for(var o in r)e[o]=t;return e}return r},r}();
},{"./ttk.js":73}],73:[function(_dereq_,module,exports){
"use strict";_dereq_("./polyfill.js");var TTk={};TTk.CSS_PREFIX="ttk-",TTk.EVENT_PREFIX="ttk-",function(){try{return window}catch(T){return!1}}()&&(window.TTk?TTk=window.TTk:window.TTk=TTk),module.exports=TTk;
},{"./polyfill.js":71}],74:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./utils.js"),_dereq_("./object.js"),_dereq_("./enumeration.js"),TTk.Type=function(){var e={},n=function(t,r,i,u){this.name=t,this.super=r?n.from(r):null,this.isType=i?"function"==typeof i?i:function(e){return typeof e===t}:TTk.alwaysTrue,this.subTypes="object"==typeof u?TTk.Object.map(u,n.from):null,e[t]=this};return n.prototype.check=function(e){if(arguments.length>1){for(var n=arguments.length-1;n;)if(!this.check(arguments[n--]))return!1;return!0}if(this.super&&!this.super.check(e))return!1;if(this.isType&&!this.isType(e))return!1;if(this.subTypes)for(var t in this.subTypes){if(!(t in e))return!1;if(!this.subTypes[t].check(e[t]))return!1}var r=TTk.Enumeration.get(this.name);return!(r&&!r.isMember(e))},n.prototype.typeOf=function(e){return e=n.from(e),e===this||(e.name==this.name||!!this.super&&this.super.isType(e))},n.from=function(t){if(!arguments.length||void 0===t)return n.POLY;var r,i=typeof t;return"string"===i?(r=e[t],r||new n(t,n.POLY)):"object"===i&&t instanceof n?t:e[i]},n.prototype.isEnum=function(){return!!TTk.Enumeration.get(this.name)},n.STRING=new n("string",null,!0),n.NUMBER=new n("number",null,!0),n.BOOLEAN=new n("boolean",null,!0),n.SYMBOL=new n("symbol",null,!0),n.OBJECT=new n("object",null,!0),n.FUNCTION=new n("function",null,!0),n.ARRAY=new n("array",n.OBJECT,Array.isArray),n.POLY=new n("polymorphic"),n}(),TTk.Enumeration.list.forEach(function(e){TTk.Enumeration.makeType(e)});
},{"./enumeration.js":65,"./object.js":69,"./ttk.js":73,"./utils.js":75}],75:[function(_dereq_,module,exports){
(function (Buffer){
"use strict";var TTk=_dereq_("./ttk.js");_dereq_("./object.js"),_dereq_("./set.js"),_dereq_("../core/polyfill-promise.js"),TTk.Env={server:function(){try{return!window}catch(t){return!0}}()},TTk.Utils=function(){var t=function(){};t.compare=function(t,n){return t<n?-1:t>n?1:0},t.toString=function(n,e,r){void 0===e&&(e=2);var i=typeof n;if("object"===i&&0!==e){if(Array.isArray(n)){for(var o="",u=0;u<n.length;u++)o+=(0===u?"":"\n")+t.toString(n[u],e-1);return"Array[\n"+t.indent(o)+"\n]"}var a=!0,o="";for(var c in n)(n.hasOwnProperty(c)||r)&&(o+=(a?"":"\n")+c+" => "+t.toString(n[c],e-1)),a&&(a=!1);return i+"(\n"+t.indent(o)+"\n)"}return i+"("+n+")"},t.toBriefString=function(t,n,e){return t=""+t,e=e||"..",n&&t.length>n&&(t=n>e.length?t.substring(0,n-e.length).trim()+e:t.substring(0,n).trim()),t},t.fontSizePercent=function(n){return t.fontSize(Math.pow(3*n,.7))},t.fontSize=function(t){var n=TTk.Math.step(t,1.5)||1;return n},t.randString=function(t,e){t=Math.abs(t||24),e=e||n;for(var r="";t--;)r+=e.charAt(~~(Math.random()*e.length));return r};var n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";t.genUUID=function(){return e.replace(/[xy]/g,r)};var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",r=function(t){var n=16*Math.random()|0,e="x"==t?n:3&n|8;return e.toString(16)};t.indent=function(t){return"\t"+t.replace(/\n/g,"\n\t")},t.toFixedLength=function(t,n,e,r){for(r=r||" ",t=e?t.substring(Math.max(0,t.length-n),t.length):t.substring(0,n);t.length<n;)t=e?r+t:t+r;return t},t.wrapText=function(t,n,e){e=e||" ";for(var r,i=t.split(e),o=[],u=0;i.length;){for(r=i.shift(),u=r.length+(i.length?i[0].length+1:0);u<=n&&i.length;)r+=e+i.shift(),u+=i.length?i[0].length+1:0;o.push(r)}return o},t.toTitleCase=function(t){if(!t)return"";t=""+t;var n=function(t){return t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()};return t.split(" ").map(n).join(" ")},t.dashToCamlCase=function(t){var n=/\-?(\w+)+/g,e=n.exec(t);e.shift();for(var r=e.shift();e=n.exec(t);){var i=e[1];r+=i.charAt(0).toUpperCase()+i.substr(1)}return r},t.strCompare=t.compare,t.matches=function(t,n){var e=n.test(t);return n.lastIndex=0,e},t.matchDist=function(t,n){var e=t.length,r=n.length;if(0===e)return r;if(0===r)return e;var i,o,u=[];for(i=e;i>=0;i--)u[i]=[];for(i=e;i>=0;i--)u[i][0]=i;for(o=r;o>=0;o--)u[0][o]=o;var a,c,s;for(i=1;i<=e;i++)for(a=t.charAt(i-1),o=1;o<=r;o++){if(i==o&&u[i][o]>4)return e;c=n.charAt(o-1),s=a==c?0:1,u[i][o]=Math.min(u[i-1][o]+1,u[i][o-1]+1,u[i-1][o-1]+s),i>1&&o>1&&a==n.charAt(o-2)&&t.charAt(i-2)==c&&(u[i][o]=Math.min(u[i][o],u[i-2][o-2]+s))}return u[e][r]},t.parse=function(t,n){var e=n.exec(t);return n.lastIndex=0,e},t.countInstances=function(n,e){var r=0;if(n instanceof RegExp)for(var i=0,o=e.length;i<o;i++)t.matches(e[i],n)&&r++;else for(var i=0,o=e.length;i<o;i++)e[i]===n&&r++;return r},t.indexOf=function(n,e){for(var r=0,i=e.length;r<i;r++)if(t.matches(e[r],n))return r;return-1},t.toBase64=TTk.Env.server?function(t){return TTk.Object.map(t,function(t){return new Buffer(t).toString("base64")},!0)}:function(t){return TTk.Object.map(t,function(t){return window.btoa(unescape(encodeURIComponent(t)))},!0)},t.fromBase64=TTk.Env.server?function(t){return TTk.Object.map(t,function(t){return new Buffer(t,"base64").toString("utf8")},!0)}:function(t){return TTk.Object.map(t,function(t){return decodeURIComponent(escape(window.atob(t)))},!0)},t.toHex=function(t){return TTk.Object.map(t,function(t){for(var n,e=""+t,r=[],i=0,o=e.length;i<o;i++)n=Number(e.charCodeAt(i)).toString(16),r.push(n);return r.join("")},!0)},t.fromHex=function(t){return TTk.Object.map(t,function(t){for(var n=""+t,e="",r=0;r<n.length;r+=2)e+=String.fromCharCode(parseInt(n.substr(r,2),16));return e},!0)},t.parseURL=function(n){var e;if(e=t.parse(n,i)){var r={url:n,protocol:e[2],host:e[3],port:e[5],path:e[6],query:e[8],hash:e[10]};return r}};var i=new RegExp("^(([^:/?#]+)://)([^:/?#]+)(:([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$","g");t.numArray2D=function(n,e,r){return Array.apply(null,Array(n)).map(function(){return t.numArray(e,r)})},t.numArray=function(t,n){return void 0===n?Array.apply(null,Array(t)).map(function(t,n){return n}):Array.apply(null,Array(t)).map(Number.prototype.valueOf,n)},t.arrayRemove=function(n,e,r){if(r){for(var i=0;t.arrayRemove(n,e);)i++;return i}var o=!1,u=n.indexOf(e);return o=u!==-1,o&&n.splice(u,1),o},t.getFirst=function(t){var n;return t.some(function(t){return n=t,void 0!==t}),n},t.getLast=function(t){var n;return t.forEach(function(t){void 0!==t&&(n=t)}),n},t.wrapArray=function(t){return Array.isArray(t)?t:[t]},t.binarySearch=function(n,e,r,i,u,a){arguments.length<4&&(i=0),a=a||0,r=r||t.compare;var c;if(Array.isArray(n)?(arguments.length<5&&(u=n.length-1),c=function(t){return n[t]}):(arguments.length<5&&(u=100),c=n),r(e,c(i))<0)return i;if(r(e,c(u))>0)return u;var s=o(c,e,r,i,u,-a);return s.iResult};var o=function(t,n,e,r,i,u){if(r>=i){var a=e(n,t(r));return{iResult:r,cmp:a}}var c,s=~~(r+(i-r)/2),f=t(s),a=e(n,f);if(a<0)c=o(t,n,e,r,s-1,u);else{if(!(a>0))return{iResult:s,cmp:a};c=o(t,n,e,s+1,i,u)}return!u||0===c.cmp||u>0&&c.cmp>0||u<0&&c.cmp<0?c:{iResult:s,cmp:a}};return t.copyGetSet=function(t,n,e){t.forEach(function(t){n[t]=function(r){var i=!arguments.length,o=i?e[t]():e[t](r);return i?o:n}})},t}(),TTk.ClientUtils=function(){var t={},n={svg:"http://www.w3.org/2000/svg"};t.windowRect=function(t){var n=document.documentElement,e={top:t?(window.pageYOffset||n.scrollTop)-(n.clientTop||0):0,left:t?(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0):0,width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight};return e.bottom=e.top+e.height,e.right=e.left+e.width,e},t.centerNode=function(t,n){var e=n?n.getBoundingClientRect():TTk.ClientUtils.windowRect(),r=t.getBoundingClientRect();t.style.top=Math.max(0,e.height/2-r.height/2)+"px",t.style.left=Math.max(0,e.width/2-r.width/2)+"px"},t.import=function(t){return"string"==typeof t?new Promise(function(n,e){var r;t.match(/\.js$/)?(r=document.createElement("script"),r.setAttribute("type","text/javascript"),r.setAttribute("src",t),r.onload=n):t.match(/\.css$/)?(r=document.createElement("link"),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",t),n()):e(new TTk.Exception("Failed to import file with unknown type: "+t)),document.head.appendChild(r)}):Array.isArray(t)?Promise.all(t.map(TTk.ClientUtils.import)):Promise.resolve()},t.parseQuery=function(){var t={};return window.location.search.substr(1).split("&").forEach(function(n){var e=n.split("=");t[e[0]]=e[1]}),t};var e;return t.openFile=function(){var n=TTk.CSS_PREFIX+"utils-fileinput",r=document.getElementById(n);r&&r.remove(),e&&(e([]),e=null);var r=t.appendElements(null,{T:"input",type:"file",style:"visibility:hidden",id:n});return new Promise(function(t){e=t,r.addEventListener("change",function(n){r.remove(),e=null,t(this.files)}),r.click()})},t.readFileText=function(t){return new Promise(function(n,e){var r=new FileReader;r.onload=function(t){n(r.result)},r.onerror=function(t){e(t)},r.readAsText(t)})},t.downloadTextFile=function(n,e){e=e||"download.txt";var r=t.appendElements(null,{T:"a",type:"text/plain",download:e,href:"data:text/plain:charset=utf-8,"+encodeURIComponent(n),C:"link"});r.click(),r.remove()},t.appendElements=function(n,e,r){var n=n||document.body,i=t.createElements(e,r);if(Array.isArray(i))for(var o=0;o<i.length;o++)n.appendChild(i[o]);else n.appendChild(i);return i},t.createElements=function(e,r){if(Array.isArray(e))return e.map(function(n){return t.createElements(n,r)});if("object"!=typeof e)return document.createTextNode(""+e);if(e instanceof Element)return e;var i=n[e.T],o=i?document.createElementNS(i,e.T):document.createElement(e.T||"div");for(var u in e)"T"!==u&&"C"!==u&&o.setAttribute(u,e[u]);if("object"==typeof r)if("id"in e)r[e.id]=o;else if("class"in e){var a=e.class.indexOf(" ");a===-1?r[e.class]=o:r[e.class.substring(0,a)]=o}return e.C&&("object"==typeof e.C?t.appendElements(o,e.C,r):o.innerHTML=""+e.C),o},t.removeElements=function(t){for(var n=[];t.firstChild;)n.push(t.removeChild(t.firstChild));return n},t.removeHTML=function(t){var n=document.createElement("div");return n.innerHTML=t,n.textContent||n.innerText||""},t.toElement=function(t){return"string"==typeof t?document.querySelector(t):t},t}(),TTk.ServerUtils=function(){var t={};return t}(),TTk.StyleSheet=function(){if(!TTk.Env.server){var t,n,e={},r=function(){if(t)return t;var e=document.createElement("style");e.appendChild(document.createTextNode("")),document.head.appendChild(e),t=e.sheet,n=t.cssRules?t.cssRules:t.rules},i=function(){},o=function(t){var n="";for(var e in t)n+=e+":"+t[e]+";";return n},u=function(n,e,i){if(r(),i=i||0,"insertRule"in t)t.insertRule(n+"{"+e+"}",i);else{if(!("addRule"in t))throw"Not supported";t.addRule(n,e,i)}},a=function(t){if(r(),"number"==typeof t)return n[t];for(var e=0;e<n.length;e++)if(n[e].selectorText===t)return n[e]};return i.set=function(t,n){if(arguments.length>2)for(var e=1;e<arguments.length;e++)i.set(t,arguments[e]);else{if(Array.isArray(n))return void n.forEach(function(n){i.set(t,n)});var r=a(t);if(r)for(var c in n)r.style[c]=n[c];else u(t,o(n));i.clearCache()}},i.get=function(t){var n=!1;if("string"==typeof t){if(t in e)return t[e];n=!0,t=[t]}var r={};t=TTk.Set.from(t,null,{});var i={};for(var o in t)o in e?r=Object.assign(r,e[o]):i[o]=!0;if(TTk.Object.isEmpty(i))return r;var u,a,c,s,o,f,l,h,p=window.document.styleSheets,m=p.length,v=function(t,n){for(var i,o=n.length,u=e[t]={},a=0;a<o;a++)i=n[a],u[i]=n[i],r[i]=n[i]};for(c=0;c<m;c++)if(u=p[c].rules||p[c].cssRules)for(a=u.length,s=0;s<a;s++)if(u[s].type===CSSRule.STYLE_RULE&&u[s].style)if(f=u[s].selectorText,f in i)v(f,u[s].style);else if(l=f.split(","),h=l.length,h>1)for(o=0;o<h;o++)l[o]in i&&v(l[o],r);return r},i.clearCache=function(){e={}},i}}(),TTk.MapList=function(){var t={};return t.add=function(t,n,e){var r=t[n]||(t[n]=[]);return r.push(e),r},t.remove=function(t,n,e){var r=t[n];return!!r&&TTk.Utils.arrayRemove(r,e,!0)},t.removeAll=function(n,e){var r=0;for(var i in n){var o=t.remove(n,i,e);o&&(r+=o)}return r},t}(),TTk.Stream=function(){var t=[],n=function(n){return t.forEach(function(t){n=t(n)}),n};return n.append=function(e){return t.push(e),n},n.prepend=function(e){return t.unshift(e),n},n.ops=function(e){return arguments.length?(t=e,n):t},n},TTk.MinMax=function(){var t=function(t){"function"==typeof t?this.compare=t:this.compare=TTk.Utils.compare};return t.prototype.update=function(n){var e=typeof n;if(!(void 0===n||null===n||"number"===e&&isNaN(n)||"string"===e&&"NaN"===n)){var r=t.Updated,i=r.NONE;return void 0!==this.min&&this.compare(n,this.min)!==-1||(this.min=n,i=r.MIN),void 0!==this.max&&1!==this.compare(n,this.max)||(this.max=n,i=i===r.NONE?r.MAX:r.BOTH),i}},t.prototype.toString=function(){return"TTk.MinMax("+this.min+", "+this.max+")"},t.fromArray=function(n,e){var r=new t(e);return n.forEach(function(t){r.update(t)}),r},t.Updated={NONE:0,MIN:1,MAX:2,BOTH:3},t}(),TTk.Executor=function(){var t=0,n=function(){this.id="Executor"+t++,this.actions=new Map,this.members={}};n.prototype.doOnce=function(t,n,r,i){var o=this;n=n||"",r=r||0,o.actions.set(n,t||o.actions.get(n));var u=!0;return o.doing&&(u=!1,i)?u:(o.doing=!0,o.handle&&clearTimeout(o.handle),o.handle=setTimeout(function(){o.handle=null;var t=o.actions;o.actions=new Map,t.forEach(e),o.actions=new Map,o.doing=!1},r),u)};var e=function(t){"function"==typeof t&&t()};n.prototype.doOnceNow=function(t,n){var e=this;return n&&(e.lastAction=t),!e.onceDoing&&(e.onceDoing=!0,setTimeout(function(){if(e.lastAction){var t=e.lastAction;e.lastAction=null,t()}e.onceDoing=!1}),t&&t(),!0)},n.prototype.doOnceEvent=function(t,n){if(!this.eventActions)return t(),!0;var e=!(""+n in this.eventActions);return this.eventActions[n]=t,e},n.prototype.eventStart=function(){this.eventActions={}},n.prototype.eventDone=function(){if(this.eventActions){for(var t in this.eventActions)this.eventActions[t]();this.eventActions=null}},n.prototype.add=function(t){this.members[t]=!1},n.prototype.remove=function(t){delete this.members[t]},n.prototype.commit=function(t,n,e){if(e&&this.onceDoing)return!1;this.members[t]=n;var i=!0;for(var o in this.members)i=i&&!!this.members[o];return!!i&&(e?this.doOnceNow(r.bind(this)):(r.call(this),!0))};var r=function(){var t=Object.assign({},this.members);for(var n in this.members)this.members[n]=!1;for(var n in t){var e=t[n];"function"==typeof e&&e()}};return n.GLOBAL=new n,n}(),TTk.identity=function(t){return t},TTk.noop=function(){},TTk.alwaysTrue=function(){return!0},TTk.alwaysFalse=function(){return!1},TTk.info=TTk.noop,TTk.warn=TTk.noop,TTk.error=TTk.noop;
}).call(this,_dereq_("buffer").Buffer)

},{"../core/polyfill-promise.js":70,"./object.js":69,"./set.js":72,"./ttk.js":73,"buffer":1}],76:[function(_dereq_,module,exports){
"use strict";_dereq_("canvas-5-polyfill");var TTk=_dereq_("../core/ttk.js");TTk.CanvasSelection=function(){var t=new TTk.Executor,n=0,e=function(t,n){return""+n},r=function(r,i,a){var o="CanvasSelection"+n++,u={},c={},l=[];i=i||{};var s,f,h=[],v=[],T=e,k=function(){var t=this;t(k)},p=function(){t.doOnce(d),t.doOnce(y,o)},y=function(){var t=k.canvasElement(),n=t.getContext("2d");k.each(function(){this(n)})},d=function(){var t=k.canvasElement(),n=t.getContext("2d");n.clearRect(0,0,t.width,t.height)};return k.selectAll=function(t){return u[t]||(u[t]=TTk.CanvasSelection(k))},k.select=function(t){var n=t.replace(/\..*$/,"");return u[t]||(u[t]=TTk.CanvasSelection(k).data(l).append(n))},k.data=function(t,n,r){if(!arguments.length)return l;if(T=n||e,r)return l=t,k;h=[];var i={},a={};return t.forEach(function(t,n){var e=T(t,n);i[e]=t,e in c?a[e]=!0:h.push(t)}),v=Object.keys(TTk.Set.difference(TTk.Set.from(c),TTk.Set.from(a))).map(function(t){return c[t]}),c=i,l=t,k},k.enter=function(){return s||(s=TTk.CanvasSelection(k,i,function(){s=null,h=[]}).data(h,T,!0))},k.exit=function(){return f||(f=TTk.CanvasSelection(k,i,function(){f=null,v=[]}).data(v,T,!0))},k.append=function(t){return k.each(function(n,e){var r=T(n,e);i[r]=TTk.CanvasElement(t,p)}),a&&a(),k},k.insert=k.append,k.remove=function(){return a&&a(),k},k.each=function(t){return l.some(function(n,e){var r=T(n,e),a=i[r];return t.call(a,n,e)}),k},k.attr=function(t){var n=arguments;return k.each(function(){this.attr.apply(this,n)}),k},k.style=function(t){var n=arguments;return k.each(function(){this.style.apply(this,n)}),k},["html","text"].forEach(function(t){k[t]=function(){var n=arguments;k.each(function(){this[t].apply(this,n)})}}),k.sort=function(t){return k},k.order=k.sort,k.canvasElement=function(){return r.canvasElement?r.canvasElement():r.node()},k};return r}(),TTk.CanvasElement=function(){var t={path:function(t,n){var e=new Path2D(t.a.d);n.stroke(e),n.fill(e)},rect:function(t,n){n.fillRect(t.a.x,t.a.y,t.a.width,t.a.height)},line:function(t,n){n.beginPath(),n.moveTo(t.a.x1,t.a.y1),n.lineTo(t.a.x2,t.a.y2),n.stroke()},text:function(t,n){n.fillText(t.t,t.a.x,t.a.x)}},n=function(n,e){var r={a:{},s:{},t:""},i=!1,a=function(t){return"."+t},o=function(e){var o=r.a.class?TTk.StyleSheet.get(r.a.class.split(" ").map(a)):{},u=t[n];if(!u)return void TTk.error("No function to draw tag '"+n+"'");e.fillStyle=r.s.fill||o.fill||"black";var c=r.s.stroke||o.stroke||"black",l=r.s["stroke-width"]||o["stroke-width"]||0;if("none"===c||0===+l?(e.strokeStyle="rgba(0, 0, 0, 0)",e.lineWidth=0):(e.strokeStyle=c,e.lineWidth=l,e.lineWidth>0&&(e.lineJoin=r.s["stroke-linejoin"]||o["stroke-linejoin"]||"miter",e.lineCap=r.s["stroke-linecap"]||o["stroke-linecap"]||"butt")),r.t){var s=r.s.font||o.font;s&&(e.font=s),e.textAlgin=r.s["text-align"]||o["text-align"]||"left",e.textBaseline=r.s["alignment-baseline"]||o["alignment-baseline"]||"alphabetic"}u(r,e),i=!1};return o.setAttribute=function(t,n){i||r.a[t]===n||(i=!0,e()),r.a[t]=n},o.getAttribute=function(t){return r.a[t]},o.attr=function(t,n){if(!arguments.length)return r.a;if(1===arguments.length&&"string"==typeof t)return r.a[t];if("object"==typeof t)for(var e in t)o.setAttribute(e,t[e]);else o.setAttribute(t,n);return o},o.style=function(t,n){if(!arguments.length)return r.s;if(1===arguments.length&&"string"==typeof t)return r.s[t];if("object"==typeof t)for(var a in t)o.style(a,t[a]);else i||r.s[t]===n||(i=!0,e()),r.s[t]=n;return o},o.style.setProperty=function(t,n,e){return o.style(t,n),o},o.style.getProperty=function(t){return o.style(t)},o.text=function(t){return arguments.length?(i||r.t===t||(i=!0,e()),r.t=t,o):r.t},o};return n}();
},{"../core/ttk.js":73,"canvas-5-polyfill":6}],77:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");TTk.MoveType={ROTATE:1,TOUCH:2,ABOVE:3},TTk.Puzzle={};var pnl,fcs,T=TTk.MoveType,rotate=TTk.AxisRotation(),V=TTk.Vector;TTk.Puzzle.MEGAMINX={};var v=[[-.262865556059567,.25*(-1-Math.sqrt(5)),Math.sqrt(5/8+11/(8*Math.sqrt(5)))],[Math.sqrt(.25+1/(2*Math.sqrt(5))),-.5,Math.sqrt(5/8+11/(8*Math.sqrt(5)))],[Math.sqrt(.25+1/(2*Math.sqrt(5))),.5,Math.sqrt(5/8+11/(8*Math.sqrt(5)))],[-.262865556059567,.25*(1+Math.sqrt(5)),Math.sqrt(5/8+11/(8*Math.sqrt(5)))],[-.85065080835204,0,Math.sqrt(5/8+11/(8*Math.sqrt(5)))],[.262865556059567,.25*(-1-Math.sqrt(5)),-1.11351636441161],[Math.sqrt(.1*(5+Math.sqrt(5))),0,-1.11351636441161],[.262865556059567,.25*(1+Math.sqrt(5)),-1.11351636441161],[-.5*Math.sqrt(1+2/Math.sqrt(5)),.5,-1.11351636441161],[-.5*Math.sqrt(1+2/Math.sqrt(5)),-.5,-1.11351636441161],[Math.sqrt(1/8+1/(8*Math.sqrt(5))),.25*(-3-Math.sqrt(5)),-.262865556059567],[Math.sqrt(5/8+11/(8*Math.sqrt(5))),.25*(-1-Math.sqrt(5)),.262865556059567],[Math.sqrt(1+2/Math.sqrt(5)),0,-.262865556059567],[Math.sqrt(5/8+11/(8*Math.sqrt(5))),.25*(1+Math.sqrt(5)),.262865556059567],[Math.sqrt(1/8+1/(8*Math.sqrt(5))),.25*(3+Math.sqrt(5)),-.262865556059567],[-.42532540417602,.25*(3+Math.sqrt(5)),.262865556059567],[-1.11351636441161,.25*(1+Math.sqrt(5)),-.262865556059567],[-.42532540417602,.25*(-3-Math.sqrt(5)),.262865556059567],[-Math.sqrt(1+2/Math.sqrt(5)),0,.262865556059567],[-1.11351636441161,.25*(-1-Math.sqrt(5)),-.262865556059567]];v=v.map(function(n){return V.scale(n,.55)}),rotate.axis([0,0,1]).angle(54*Math.PI/180),v=v.map(rotate);var fv=[[v[0],v[1],v[2],v[3],v[4]],[v[5],v[6],v[7],v[8],v[9]],[v[0],v[1],v[11],v[10],v[17]],[v[1],v[2],v[13],v[12],v[11]],[v[2],v[3],v[15],v[14],v[13]],[v[3],v[4],v[18],v[16],v[15]],[v[4],v[0],v[17],v[19],v[18]],[v[5],v[6],v[12],v[11],v[10]],[v[6],v[7],v[14],v[13],v[12]],[v[7],v[8],v[16],v[15],v[14]],[v[8],v[9],v[19],v[18],v[16]],[v[9],v[5],v[10],v[17],v[19]]],panels=[],mv_=[],iv_=[];fv.forEach(function(n,e){var l=[[n[0],n[1]],[n[1],n[2]],[n[2],n[3]],[n[3],n[4]],[n[4],n[0]]],a=[];l.forEach(function(n){a.push(V.mid(n[0],n[1],.4)),a.push(V.mid(n[0],n[1],.6))});for(var p=[],d=0;d<6;d++)4!==d&&p.push([a[d],a[d+(d%2===0?7:3)]]);var t=[];t.push(V.intersect(p[0],p[2],.001)),t.push(V.intersect(p[1],p[2],.001)),t.push(V.intersect(p[3],p[1],.001)),t.push(V.intersect(p[4],p[3],.001)),t.push(V.intersect(p[4],p[0],.001)),panels.push([n[0],a[0],t[0],a[9]]),panels.push([a[0],t[0],t[1],a[1]]),panels.push([a[1],t[1],a[2],n[1]]),panels.push([a[2],t[1],t[2],a[3]]),panels.push([a[3],t[2],a[4],n[2]]),panels.push([a[4],t[2],t[3],a[5]]),panels.push([a[5],t[3],a[6],n[3]]),panels.push([a[6],t[3],t[4],a[7]]),panels.push([a[7],t[4],a[8],n[4]]),panels.push([a[8],t[4],t[0],a[9]]),panels.push([t[0],t[1],t[2],t[3],t[4]]),v=v.concat(a),v=v.concat(t),mv_[e]=a,iv_[e]=t});var mv=mv_,iv=iv_;TTk.Puzzle.MEGAMINX.panels=panels,TTk.Puzzle.MEGAMINX.faces={U:[fv[0][4],fv[0][3],fv[0][2],fv[0][1],fv[0][0]],D:[fv[1][0],fv[1][1],fv[1][2],fv[1][3],fv[1][4]],R:[fv[2][0],fv[2][1],fv[2][2],fv[2][3],fv[2][4]],F:[fv[6][0],fv[6][1],fv[6][2],fv[6][3],fv[6][4]],DR:[fv[11][4],fv[11][3],fv[11][2],fv[11][1],fv[11][0]],UR:[fv[3][0],fv[3][1],fv[3][2],fv[3][3],fv[3][4]],BL:[fv[9][4],fv[9][3],fv[9][2],fv[9][1],fv[9][0]],DL:[fv[10][4],fv[10][3],fv[10][2],fv[10][1],fv[10][0]],L:[fv[5][0],fv[5][1],fv[5][2],fv[5][3],fv[5][4]],B:[fv[8][4],fv[8][3],fv[8][2],fv[8][1],fv[8][0]],BR:[fv[7][4],fv[7][3],fv[7][2],fv[7][1],fv[7][0]],UL:[fv[4][0],fv[4][1],fv[4][2],fv[4][3],fv[4][4]]},fcs=TTk.Puzzle.MEGAMINX.faces,TTk.Puzzle.MEGAMINX.moves={U:{plane:fcs.U,angle:72,type:T.TOUCH},D:{plane:fcs.D,angle:72,type:T.TOUCH},R:{plane:fcs.R,angle:72,type:T.TOUCH},F:{plane:fcs.F,angle:72,type:T.TOUCH},DR:{plane:fcs.DR,angle:72,type:T.TOUCH},UR:{plane:fcs.UR,angle:72,type:T.TOUCH},BL:{plane:fcs.BL,angle:72,type:T.TOUCH},DL:{plane:fcs.DL,angle:72,type:T.TOUCH},L:{plane:fcs.L,angle:72,type:T.TOUCH},B:{plane:fcs.B,angle:72,type:T.TOUCH},BR:{plane:fcs.BR,angle:72,type:T.TOUCH},UL:{plane:fcs.UL,angle:72,type:T.TOUCH},w:{plane:[fv[5][0],fv[5][1],fv[5][2],fv[5][3],fv[5][4]],angle:-72,type:T.ROTATE},x:{plane:[fv[2][0],fv[2][1],fv[2][2],fv[2][3],fv[2][4]],angle:72,type:T.ROTATE},t:{plane:[fv[11][4],fv[11][3],fv[11][2],fv[11][1],fv[11][0]],angle:72,type:T.ROTATE},v:{plane:[fv[10][4],fv[10][3],fv[10][2],fv[10][1],fv[10][0]],angle:-72,type:T.ROTATE},y:{plane:[fv[0][4],fv[0][3],fv[0][2],fv[0][1],fv[0][0]],angle:72,type:T.ROTATE},z:{plane:[fv[6][0],fv[6][1],fv[6][2],fv[6][3],fv[6][4]],angle:72,type:T.ROTATE},u:{plane:[v[172],v[134],v[127],v[142],v[157]],angle:-72,type:T.ABOVE},d:{plane:[v[97],v[82],v[67],v[52],v[59]],angle:-72,type:T.ABOVE},l:{plane:[v[44],v[56],v[53],v[70],v[37]],angle:-72,type:T.ABOVE},ur:{plane:[v[40],v[101],v[98],v[115],v[43]],angle:-72,type:T.ABOVE},f:{plane:[v[36],v[71],v[68],v[85],v[39]],angle:-72,type:T.ABOVE},r:{plane:[v[38],v[86],v[83],v[100],v[41]],angle:-72,type:T.ABOVE},ul:{plane:[v[42],v[116],v[58],v[55],v[35]],angle:-72,type:T.ABOVE},br:{plane:[v[158],v[25],v[28],v[84],v[117]],angle:-72,type:T.ABOVE},dr:{plane:[v[23],v[26],v[102],v[143],v[69]],angle:-72,type:T.ABOVE},dl:{plane:[v[128],v[54],v[21],v[24],v[87]],angle:-72,type:T.ABOVE},bl:{plane:[v[114],v[29],v[22],v[72],v[133]],angle:-72,type:T.ABOVE},b:{plane:[v[57],v[173],v[99],v[27],v[20]],angle:-72,type:T.ABOVE}},TTk.Puzzle.MEGAMINX.keys={49:"DR",54:"DL",50:"UR",51:"BR",52:"UL",53:"BL",67:"DL",82:"DL'",85:"DR",77:"DR'",73:"R",75:"R'",87:"B",79:"B'",83:"D",76:"D'",68:"L",69:"L'",74:"U",70:"U'",72:"F",71:"F'",89:"x",78:"x'",66:"x'",186:"y",59:"y",65:"y'",80:"z",81:"z'",86:"w'",84:"w"},TTk.Puzzle.MEGAMINX.palette={Y:"#FEFF73",B:"#41B2F4",G:"#7FCF61",w:"#FFFFFF",y:"#E6D223",r:"#7F0000",o:"#DF622D",b:"#010080",g:"#008001",m:"#6209BE",p:"#F392F4",a:"#AAA"},TTk.Puzzle.MEGAMINX.numFaces=12,TTk.Puzzle.MEGAMINX.fc="wwwwwwwwwwwaaaaaaaaaaabbbbbbbbbbbyyyyyyyyyyypppppppppppgggggggggggrrrrrrrrrrrGGGGGGGGGGGoooooooooooBBBBBBBBBBBYYYYYYYYYYYmmmmmmmmmmm",TTk.Puzzle.PYRAMINX={};var V=TTk.Vector,v=[[0,0,0],[1,1,0],[1,0,1],[0,1,1]],tetraFaces=[[v[0],v[1],v[2]],[v[0],v[1],v[3]],[v[0],v[2],v[3]],[v[1],v[2],v[3]]],tetraLines=[[v[0],v[1]],[v[0],v[2]],[v[0],v[3]],[v[1],v[2]],[v[1],v[3]],[v[2],v[3]]];tetraFaces.forEach(function(n){v.push(TTk.Polygon.centroid(n))}),tetraLines.forEach(function(n){v.push(V.mid(n[0],n[1],1/3)),v.push(V.mid(n[0],n[1],2/3))}),rotate.axis([0,0,1]).origin([0,0,0]).angle(-45*Math.PI/180),v=v.map(rotate),rotate.axis([1,0,0]).origin([0,0,0]).angle(-54.75*Math.PI/180),v=v.map(rotate);var c=TTk.Polygon.centroid([v[0],v[1],v[2],v[3]]);v=v.map(function(n){return V.sub(n,c)}),TTk.Puzzle.PYRAMINX.panels=[[v[5],v[9],v[8]],[v[5],v[13],v[17]],[v[5],v[12],v[8]],[v[5],v[16],v[17]],[v[5],v[12],v[13]],[v[5],v[16],v[9]],[v[3],v[13],v[17]],[v[0],v[12],v[8]],[v[1],v[16],v[9]],[v[4],v[8],v[10]],[v[4],v[8],v[9]],[v[4],v[11],v[15]],[v[4],v[11],v[10]],[v[4],v[14],v[15]],[v[4],v[14],v[9]],[v[1],v[14],v[9]],[v[2],v[11],v[15]],[v[0],v[8],v[10]],[v[7],v[14],v[15]],[v[7],v[18],v[19]],[v[7],v[17],v[16]],[v[7],v[14],v[16]],[v[7],v[18],v[15]],[v[7],v[17],v[19]],[v[1],v[14],v[16]],[v[2],v[18],v[15]],[v[3],v[17],v[19]],[v[6],v[10],v[11]],[v[6],v[18],v[19]],[v[6],v[13],v[12]],[v[6],v[11],v[18]],[v[6],v[19],v[13]],[v[6],v[12],v[10]],[v[0],v[12],v[10]],[v[2],v[11],v[18]],[v[3],v[19],v[13]]],pnl=TTk.Puzzle.PYRAMINX.panels,TTk.Puzzle.PYRAMINX.faces={D:[v[0],v[1],v[2]],R:[v[0],v[1],v[3]],L:[v[0],v[2],v[3]],B:[v[1],v[2],v[3]]},TTk.Puzzle.PYRAMINX.moves={u:{plane:[pnl[16][1],pnl[16][2],pnl[25][1]],angle:-120,type:T.ABOVE},U:{plane:[pnl[15][1],pnl[26][2],pnl[27][1]],angle:-120,type:T.ABOVE},l:{plane:[pnl[17][1],pnl[17][2],pnl[7][1]],angle:-120,type:T.ABOVE},L:{plane:[pnl[12][1],pnl[1][1],pnl[0][1]],angle:-120,type:T.ABOVE},r:{plane:[pnl[15][2],pnl[24][2],pnl[24][1]],angle:-120,type:T.ABOVE},R:{plane:[pnl[7][2],pnl[23][1],pnl[11][2]],angle:-120,type:T.ABOVE},b:{plane:[pnl[26][2],pnl[6][2],pnl[6][1]],angle:-120,type:T.ABOVE},B:{plane:[pnl[3][1],pnl[4][1],pnl[19][1]],angle:-120,type:T.ABOVE},w:{plane:[pnl[7][1],pnl[17][2],pnl[17][1]],angle:-120,type:T.ROTATE},x:{plane:[pnl[24][1],pnl[24][2],pnl[15][2]],angle:120,type:T.ROTATE},z:{plane:[pnl[6][1],pnl[6][2],pnl[26][2]],angle:-120,type:T.ROTATE},y:{plane:[pnl[25][1],pnl[16][2],pnl[16][1]],angle:120,type:T.ROTATE}},TTk.Puzzle.PYRAMINX.panelMoves={u:[16,34,25],r:[15,24,8],b:[26,6,35],l:[17,7,33],R:[14,21,5],U:[22,30,11],B:[23,31,1],L:[9,32,2]},TTk.Puzzle.PYRAMINX.keys={73:"R",75:"R'",67:"l",82:"l'",85:"r",77:"r'",87:"B",79:"B'",90:"b",190:"b'",68:"L",69:"L'",74:"U",70:"U'",71:"u",72:"u'",89:"x",78:"x'",66:"x'",186:"y",59:"y",65:"y'",80:"z",81:"z'",86:"w'",84:"w"},TTk.Puzzle.PYRAMINX.palette={B:"#41B2F4",y:"#E6D223",r:"#7F0000",g:"#008001"},TTk.Puzzle.PYRAMINX.numFaces=4,TTk.Puzzle.PYRAMINX.fc="yyyyyyyyygggggggggBBBBBBBBBrrrrrrrrr",TTk.Puzzle.PYRAMINX.rotation={pitch:80},TTk.Puzzle.SKEWB={},TTk.Puzzle.SKEWB.panels=[[[-0,-.5,-.5],[-.5,-0,-.5],[-0,.5,-.5],[.5,-0,-.5]],[[-0,-.5,-.5],[-.5,-0,-.5],[-.5,-.5,-.5]],[[-.5,0,-.5],[-0,.5,-.5],[-.5,.5,-.5]],[[0,.5,-.5],[.5,0,-.5],[.5,.5,-.5]],[[.5,-0,-.5],[0,-.5,-.5],[.5,-.5,-.5]],[[-0,-.5,.5],[-.5,-0,.5],[-0,.5,.5],[.5,-0,.5]],[[-0,-.5,.5],[-.5,-0,.5],[-.5,-.5,.5]],[[-.5,0,.5],[-0,.5,.5],[-.5,.5,.5]],[[0,.5,.5],[.5,0,.5],[.5,.5,.5]],[[.5,-0,.5],[0,-.5,.5],[.5,-.5,.5]],[[0,-.5,-.5],[.5,-.5,-0],[0,-.5,.5],[-.5,-.5,0]],[[0,-.5,-.5],[.5,-.5,-0],[.5,-.5,-.5]],[[0,-.5,.5],[.5,-.5,0],[.5,-.5,.5]],[[-0,-.5,-.5],[-.5,-.5,-0],[-.5,-.5,-.5]],[[-0,-.5,.5],[-.5,-.5,0],[-.5,-.5,.5]],[[0,.5,-.5],[.5,.5,-0],[0,.5,.5],[-.5,.5,0]],[[0,.5,-.5],[.5,.5,-0],[.5,.5,-.5]],[[0,.5,.5],[.5,.5,0],[.5,.5,.5]],[[-0,.5,-.5],[-.5,.5,-0],[-.5,.5,-.5]],[[-0,.5,.5],[-.5,.5,0],[-.5,.5,.5]],[[.5,-0,-.5],[.5,.5,-0],[.5,-0,.5],[.5,-.5,0]],[[.5,-0,-.5],[.5,-.5,-0],[.5,-.5,-.5]],[[.5,-.5,0],[.5,-0,.5],[.5,-.5,.5]],[[.5,0,.5],[.5,.5,0],[.5,.5,.5]],[[.5,.5,-0],[.5,0,-.5],[.5,.5,-.5]],[[-.5,-0,-.5],[-.5,.5,-0],[-.5,-0,.5],[-.5,-.5,0]],[[-.5,-0,-.5],[-.5,-.5,-0],[-.5,-.5,-.5]],[[-.5,-.5,0],[-.5,-0,.5],[-.5,-.5,.5]],[[-.5,0,.5],[-.5,.5,0],[-.5,.5,.5]],[[-.5,.5,-0],[-.5,0,-.5],[-.5,.5,-.5]]],pnl=TTk.Puzzle.SKEWB.panels,TTk.Puzzle.SKEWB.faces={U:pnl[0],D:pnl[5],F:pnl[10],B:pnl[15],R:pnl[20],L:pnl[25]},TTk.Puzzle.SKEWB.moves={L:{plane:[pnl[20][0],pnl[20][3],pnl[25][2],pnl[25][1]],angle:-120,type:T.ABOVE},R:{plane:[pnl[0][0],pnl[0][1],pnl[5][2],pnl[5][3]],angle:120,type:T.ABOVE},B:{plane:[pnl[0][3],pnl[0][0],pnl[5][2],pnl[5][1]],angle:120,type:T.ABOVE},U:{plane:[pnl[5][2],pnl[5][1],pnl[0][0],pnl[0][3]],angle:-120,type:T.ABOVE},r:{plane:[pnl[25][1],pnl[25][2],pnl[20][3],pnl[20][0]],angle:-120,type:T.ABOVE},l:{plane:[pnl[5][3],pnl[5][2],pnl[0][1],pnl[0][0]],angle:-120,type:T.ABOVE},b:{plane:[pnl[5][0],pnl[5][3],pnl[0][2],pnl[0][1]],angle:-120,type:T.ABOVE},f:{plane:[pnl[0][1],pnl[0][2],pnl[5][3],pnl[5][0]],angle:-120,type:T.ABOVE},y:{plane:[pnl[1][2],pnl[2][2],pnl[3][2],pnl[4][2]],angle:90,type:T.ROTATE},z:{plane:[pnl[16][2],pnl[17][2],pnl[18][2],pnl[19][2]],angle:90,type:T.ROTATE},x:{plane:[pnl[26][2],pnl[27][2],pnl[28][2],pnl[29][2]],angle:90,type:T.ROTATE}},TTk.Puzzle.SKEWB.panelMoves={L:[13,1,26],B:[2,29,18],R:[24,16,3],U:[22,12,9],f:[11,21,4],r:[17,8,23],l:[14,6,27],b:[7,28,19]},TTk.Puzzle.SKEWB.keys={73:"R",75:"R'",87:"B",79:"B'",83:"D",76:"D'",68:"L",69:"L'",74:"U",70:"U'",72:"F",71:"F'",78:"F",86:"F'",67:"l",82:"l'",85:"r",77:"r'",84:"x",89:"x",66:"x'",186:"y",59:"y",65:"y'",80:"z",81:"z'"},TTk.Puzzle.SKEWB.numFaces=4,TTk.Puzzle.SKEWB.fc="yyyyywwwwwbbbbbgggggooooorrrrr",TTk.Puzzle.SKEWB.rotation={pitch:30,yaw:45},TTk.Puzzle.SQUARE1={};var n0=.133974596,n1=.28,n2=.29,n3=.27,n4=.13,n5=.14,n6=.365,n7=.285,n8=.42,n9=.1335,n10=.1345;v=[[0,0,-.5],[0,0,.5],[-.5,-.5,-.5],[.5,-.5,-.5],[.5,.5,-.5],[-.5,.5,-.5],[-.5,-.5,.5],[.5,-.5,.5],[.5,.5,.5],[-.5,.5,.5],[-n0,-.5,-.5],[+n0,-.5,-.5],[-n0,.5,-.5],[+n0,.5,-.5],[-n0,-.5,.5],[+n0,-.5,.5],[-n0,.5,.5],[+n0,.5,.5],[-.5,-n0,-.5],[-.5,+n0,-.5],[.5,-n0,-.5],[.5,+n0,-.5],[-.5,-n0,.5],[-.5,+n0,.5],[.5,-n0,.5],[.5,+n0,.5],[-n1,-.5,-.5],[+n1,-.5,-.5],[-n1,.5,-.5],[+n1,.5,-.5],[-n1,-.5,.5],[+n1,-.5,.5],[-n1,.5,.5],[+n1,.5,.5],[-.5,-n1,-.5],[-.5,+n1,-.5],[.5,-n1,-.5],[.5,+n1,-.5],[-.5,-n1,.5],[-.5,+n1,.5],[.5,-n1,.5],[.5,+n1,.5],[-n2,-.5,-.5],[+n2,-.5,-.5],[-n2,.5,-.5],[+n2,.5,-.5],[-n2,-.5,.5],[+n2,-.5,.5],[-n2,.5,.5],[+n2,.5,.5],[-.5,-n2,-.5],[-.5,+n2,-.5],[.5,-n2,-.5],[.5,+n2,-.5],[-.5,-n2,.5],[-.5,+n2,.5],[.5,-n2,.5],[.5,+n2,.5],[-n1,-n1,-.5],[+n1,-n1,-.5],[-n1,+n1,-.5],[+n1,+n1,-.5],[-n1,-n1,.5],[+n1,-n1,.5],[-n1,+n1,.5],[+n1,+n1,.5],[-.5,-.5,-n0],[.5,-.5,-n0],[.5,.5,-n0],[-.5,.5,-n0],[-.5,-.5,+n0],[.5,-.5,+n0],[.5,.5,+n0],[-.5,.5,+n0],[-n0,-.5,-n0],[+n0,-.5,-n0],[-n0,.5,-n0],[+n0,.5,-n0],[-n0,-.5,+n0],[+n0,-.5,+n0],[-n0,.5,+n0],[+n0,.5,+n0],[-.5,-n0,-n0],[-.5,+n0,-n0],[.5,-n0,-n0],[.5,+n0,-n0],[-.5,-n0,+n0],[-.5,+n0,+n0],[.5,-n0,+n0],[.5,+n0,+n0]],TTk.Puzzle.SQUARE1.panelLen=46,TTk.Puzzle.SQUARE1.panels=[[v[34],v[2],v[26],v[58]],[v[36],v[3],v[27],v[59]],[v[37],v[4],v[29],v[61]],[v[35],v[5],v[28],v[60]],[v[0],v[18],v[50],[-n3,-n2,-.5]],[v[0],v[20],v[52],[+n3,-n2,-.5]],[v[0],v[21],v[53],[+n3,+n2,-.5]],[v[0],v[19],v[51],[-n3,+n2,-.5]],[v[0],v[10],v[42],[-n2,-n3,-.5]],[v[0],v[11],v[43],[+n2,-n3,-.5]],[v[0],v[13],v[45],[+n2,+n3,-.5]],[v[0],v[12],v[44],[-n2,+n3,-.5]],[v[0],v[10],v[11]],[v[0],v[12],v[13]],[v[0],v[18],v[19]],[v[0],v[20],v[21]],[v[38],v[6],v[30],v[62]],[v[40],v[7],v[31],v[63]],[v[41],v[8],v[33],v[65]],[v[39],v[9],v[32],v[64]],[v[1],v[22],v[54],[-n3,-n2,.5]],[v[1],v[24],v[56],[+n3,-n2,.5]],[v[1],v[25],v[57],[+n3,+n2,.5]],[v[1],v[23],v[55],[-n3,+n2,.5]],[v[1],v[14],v[46],[-n2,-n3,.5]],[v[1],v[15],v[47],[+n2,-n3,.5]],[v[1],v[17],v[49],[+n2,+n3,.5]],[v[1],v[16],v[48],[-n2,+n3,.5]],[v[1],v[14],v[15]],[v[1],v[16],v[17]],[v[1],v[22],v[23]],[v[1],v[24],v[25]],[[-n1,-.5,-.5],v[2],v[66],[-n1,-.5,-n0]],[[-n2,-.5,-.5],v[10],v[74],[-n2,-.5,-n0]],[[+n1,-.5,-.5],v[3],v[67],[+n1,-.5,-n0]],[[+n2,-.5,-.5],v[11],v[75],[+n2,-.5,-n0]],[[+n1,-.5,.5],v[7],v[71],[+n1,-.5,+n0]],[[+n2,-.5,.5],v[15],v[79],[+n2,-.5,+n0]],[[-n1,-.5,.5],v[6],v[70],[-n1,-.5,+n0]],[[-n2,-.5,.5],v[14],v[78],[-n2,-.5,+n0]],[v[10],v[11],v[75],v[74]],[v[14],v[15],v[79],v[78]],[[-n1,-.5,-n0],v[66],v[70],[-n1,-.5,+n0]],[[-n2,-.5,-n0],v[74],v[78],[-n2,-.5,+n0]],[[+n1,-.5,-n0],v[67],v[71],[+n1,-.5,+n0]],[[+n2,-.5,-n0],[+n4,-.5,-n0],[+n4,-.5,+n0],[+n2,-.5,+n0]],[[+n5,-.5,-n0],v[74],v[78],[+n5,-.5,+n0]],[[+n1,.5,-.5],v[4],v[68],[+n1,.5,-n0]],[[+n2,.5,-.5],v[13],v[77],[+n2,.5,-n0]],[[-n2,.5,-.5],v[12],v[76],[-n2,.5,-n0]],[[-n1,.5,-.5],v[5],v[69],[-n1,.5,-n0]],[[-n1,.5,.5],v[9],v[73],[-n1,.5,+n0]],[[-n2,.5,.5],v[16],v[80],[-n2,.5,+n0]],[[+n2,.5,.5],v[17],v[81],[+n2,.5,+n0]],[[+n1,.5,.5],v[8],v[72],[+n1,.5,+n0]],[v[12],v[13],v[77],v[76]],[v[16],v[17],v[81],v[80]],[[+n1,.5,-n0],v[68],v[72],[+n1,.5,+n0]],[[+n2,.5,-n0],v[77],v[81],[+n2,.5,+n0]],[[-n1,.5,-n0],v[69],v[73],[-n1,.5,+n0]],[[-n2,.5,-n0],[-n4,.5,-n0],[-n4,.5,+n0],[-n2,.5,+n0]],[[-n5,.5,-n0],v[77],v[81],[-n5,.5,+n0]],[[-.5,+n1,-.5],v[5],v[69],[-.5,+n1,-n0]],[[-.5,+n2,-.5],v[19],v[83],[-.5,+n2,-n0]],[[-.5,-n1,-.5],v[2],v[66],[-.5,-n1,-n0]],[[-.5,-n2,-.5],v[18],v[82],[-.5,-n2,-n0]],[[-.5,-n1,.5],v[6],v[70],[-.5,-n1,+n0]],[[-.5,-n2,.5],v[22],v[86],[-.5,-n2,+n0]],[[-.5,+n1,.5],v[9],v[73],[-.5,+n1,+n0]],[[-.5,+n2,.5],v[23],v[87],[-.5,+n2,+n0]],[v[18],v[19],v[83],v[82]],[v[22],v[23],v[87],v[86]],[[-.5,-n1,-n0],v[66],v[70],[-.5,-n1,+n0]],[[-.5,-n2,-n0],[-.5,-n4,-n0],[-.5,-n4,+n0],[-.5,-n2,+n0]],[[-.5,+n1,-n0],v[69],v[73],[-.5,+n1,+n0]],[[-.5,+n2,-n0],[-.5,+n4,-n0],[-.5,+n4,+n0],[-.5,+n2,+n0]],[[-.5,+n5,-n0],[-.5,-n5,-n0],[-.5,-n5,+n0],[-.5,+n5,+n0]],[[.5,-n1,-.5],v[3],v[67],[.5,-n1,-n0]],[[.5,-n2,-.5],v[20],v[84],[.5,-n2,-n0]],[[.5,+n1,-.5],v[4],v[68],[.5,+n1,-n0]],[[.5,+n2,-.5],v[21],v[85],[.5,+n2,-n0]],[[.5,+n1,.5],v[8],v[72],[.5,+n1,+n0]],[[.5,+n2,.5],v[25],v[89],[.5,+n2,+n0]],[[.5,-n1,.5],v[7],v[71],[.5,-n1,+n0]],[[.5,-n2,.5],v[24],v[88],[.5,-n2,+n0]],[v[20],v[21],v[85],v[84]],[v[24],v[25],v[89],v[88]],[[.5,-n1,-n0],v[67],v[71],[.5,-n1,+n0]],[[.5,-n2,-n0],[.5,-n4,-n0],[.5,-n4,+n0],[.5,-n2,+n0]],[[.5,+n1,-n0],v[68],v[72],[.5,+n1,+n0]],[[.5,+n2,-n0],[.5,+n4,-n0],[.5,+n4,+n0],[.5,+n2,+n0]],[[.5,+n5,-n0],[.5,-n5,-n0],[.5,-n5,+n0],[.5,+n5,+n0]],[[-.5,-n7,-n10],[-.5,-.5,-n10],[-n6,-n6,-n10]],[[-.5,-.5,-n10],[-n7,-.5,-n10],[-n6,-n6,-n10]],[[-.5,-n0,-n10],[-n8,-n3,-n10],[-.5,-n7,-n10]],[[-n8,-n3,-n10],[-n6,-n6,-n10],[-.5,-n7,-n10]],[[-n0,-.5,-n10],[-n3,-n8,-n10],[-n7,-.5,-n10]],[[-n3,-n8,-n10],[-n6,-n6,-n10],[-n7,-.5,-n10]],[[.5,-n7,-n10],[.5,-.5,-n10],[+n6,-n6,-n10]],[[.5,-.5,-n10],[+n7,-.5,-n10],[+n6,-n6,-n10]],[[.5,-n0,-n10],[+n8,-n3,-n10],[.5,-n7,-n10]],[[+n8,-n3,-n10],[+n6,-n6,-n10],[.5,-n7,-n10]],[[+n0,-.5,-n10],[+n3,-n8,-n10],[+n7,-.5,-n10]],[[+n3,-n8,-n10],[+n6,-n6,-n10],[+n7,-.5,-n10]],[[.5,+n7,-n10],[.5,.5,-n10],[+n6,+n6,-n10]],[[.5,.5,-n10],[+n7,.5,-n10],[+n6,+n6,-n10]],[[.5,+n0,-n10],[+n8,+n3,-n10],[.5,+n7,-n10]],[[+n8,+n3,-n10],[+n6,+n6,-n10],[.5,+n7,-n10]],[[+n0,.5,-n10],[+n3,+n8,-n10],[+n7,.5,-n10]],[[+n3,+n8,-n10],[+n6,+n6,-n10],[+n7,.5,-n10]],[[-.5,+n7,-n10],[-.5,.5,-n10],[-n6,+n6,-n10]],[[-.5,.5,-n10],[-n7,.5,-n10],[-n6,+n6,-n10]],[[-.5,+n0,-n10],[-n8,+n3,-n10],[-.5,+n7,-n10]],[[-n8,+n3,-n10],[-n6,+n6,-n10],[-.5,+n7,-n10]],[[-n0,.5,-n10],[-n3,+n8,-n10],[-n7,.5,-n10]],[[-n3,+n8,-n10],[-n6,+n6,-n10],[-n7,.5,-n10]],[[-.5,-n7,-n9],[-.5,-.5,-n9],[-n6,-n6,-n9]],[[-.5,-.5,-n9],[-n7,-.5,-n9],[-n6,-n6,-n9]],[[-.5,-n0,-n9],[-n8,-n3,-n9],[-.5,-n7,-n9]],[[-n8,-n3,-n9],[-n6,-n6,-n9],[-.5,-n7,-n9]],[[-n0,-.5,-n9],[-n3,-n8,-n9],[-n7,-.5,-n9]],[[-n3,-n8,-n9],[-n6,-n6,-n9],[-n7,-.5,-n9]],[[.5,-n7,-n9],[.5,-.5,-n9],[+n6,-n6,-n9]],[[.5,-.5,-n9],[+n7,-.5,-n9],[+n6,-n6,-n9]],[[.5,-n0,-n9],[+n8,-n3,-n9],[.5,-n7,-n9]],[[+n8,-n3,-n9],[+n6,-n6,-n9],[.5,-n7,-n9]],[[+n0,-.5,-n9],[+n3,-n8,-n9],[+n7,-.5,-n9]],[[+n3,-n8,-n9],[+n6,-n6,-n9],[+n7,-.5,-n9]],[[.5,+n7,-n9],[.5,.5,-n9],[+n6,+n6,-n9]],[[.5,.5,-n9],[+n7,.5,-n9],[+n6,+n6,-n9]],[[.5,+n0,-n9],[+n8,+n3,-n9],[.5,+n7,-n9]],[[+n8,+n3,-n9],[+n6,+n6,-n9],[.5,+n7,-n9]],[[+n0,.5,-n9],[+n3,+n8,-n9],[+n7,.5,-n9]],[[+n3,+n8,-n9],[+n6,+n6,-n9],[+n7,.5,-n9]],[[-.5,+n7,-n9],[-.5,.5,-n9],[-n6,+n6,-n9]],[[-.5,.5,-n9],[-n7,.5,-n9],[-n6,+n6,-n9]],[[-.5,+n0,-n9],[-n8,+n3,-n9],[-.5,+n7,-n9]],[[-n8,+n3,-n9],[-n6,+n6,-n9],[-.5,+n7,-n9]],[[-n0,.5,-n9],[-n3,+n8,-n9],[-n7,.5,-n9]],[[-n3,+n8,-n9],[-n6,+n6,-n9],[-n7,.5,-n9]],[[-.5,-n7,+n10],[-.5,-.5,+n10],[-n6,-n6,+n10]],[[-.5,-.5,+n10],[-n7,-.5,+n10],[-n6,-n6,+n10]],[[-.5,-n0,+n10],[-n8,-n3,+n10],[-.5,-n7,+n10]],[[-n8,-n3,+n10],[-n6,-n6,+n10],[-.5,-n7,+n10]],[[-n0,-.5,+n10],[-n3,-n8,+n10],[-n7,-.5,+n10]],[[-n3,-n8,+n10],[-n6,-n6,+n10],[-n7,-.5,+n10]],[[.5,-n7,+n10],[.5,-.5,+n10],[+n6,-n6,+n10]],[[.5,-.5,+n10],[+n7,-.5,+n10],[+n6,-n6,+n10]],[[.5,-n0,+n10],[+n8,-n3,+n10],[.5,-n7,+n10]],[[+n8,-n3,+n10],[+n6,-n6,+n10],[.5,-n7,+n10]],[[+n0,-.5,+n10],[+n3,-n8,+n10],[+n7,-.5,+n10]],[[+n3,-n8,+n10],[+n6,-n6,+n10],[+n7,-.5,+n10]],[[.5,+n7,+n10],[.5,.5,+n10],[+n6,+n6,+n10]],[[.5,.5,+n10],[+n7,.5,+n10],[+n6,+n6,+n10]],[[.5,+n0,+n10],[+n8,+n3,+n10],[.5,+n7,+n10]],[[+n8,+n3,+n10],[+n6,+n6,+n10],[.5,+n7,+n10]],[[+n0,.5,+n10],[+n3,+n8,+n10],[+n7,.5,+n10]],[[+n3,+n8,+n10],[+n6,+n6,+n10],[+n7,.5,+n10]],[[-.5,+n7,+n10],[-.5,.5,+n10],[-n6,+n6,+n10]],[[-.5,.5,+n10],[-n7,.5,+n10],[-n6,+n6,+n10]],[[-.5,+n0,+n10],[-n8,+n3,+n10],[-.5,+n7,+n10]],[[-n8,+n3,+n10],[-n6,+n6,+n10],[-.5,+n7,+n10]],[[-n0,.5,+n10],[-n3,+n8,+n10],[-n7,.5,+n10]],[[-n3,+n8,+n10],[-n6,+n6,+n10],[-n7,.5,+n10]],[[-.5,-n7,+n9],[-.5,-.5,+n9],[-n6,-n6,+n9]],[[-.5,-.5,+n9],[-n7,-.5,+n9],[-n6,-n6,+n9]],[[-.5,-n0,+n9],[-n8,-n3,+n9],[-.5,-n7,+n9]],[[-n8,-n3,+n9],[-n6,-n6,+n9],[-.5,-n7,+n9]],[[-n0,-.5,+n9],[-n3,-n8,+n9],[-n7,-.5,+n9]],[[-n3,-n8,+n9],[-n6,-n6,+n9],[-n7,-.5,+n9]],[[.5,-n7,+n9],[.5,-.5,+n9],[+n6,-n6,+n9]],[[.5,-.5,+n9],[+n7,-.5,+n9],[+n6,-n6,+n9]],[[.5,-n0,+n9],[+n8,-n3,+n9],[.5,-n7,+n9]],[[+n8,-n3,+n9],[+n6,-n6,+n9],[.5,-n7,+n9]],[[+n0,-.5,+n9],[+n3,-n8,+n9],[+n7,-.5,+n9]],[[+n3,-n8,+n9],[+n6,-n6,+n9],[+n7,-.5,+n9]],[[.5,+n7,+n9],[.5,.5,+n9],[+n6,+n6,+n9]],[[.5,.5,+n9],[+n7,.5,+n9],[+n6,+n6,+n9]],[[.5,+n0,+n9],[+n8,+n3,+n9],[.5,+n7,+n9]],[[+n8,+n3,+n9],[+n6,+n6,+n9],[.5,+n7,+n9]],[[+n0,.5,+n9],[+n3,+n8,+n9],[+n7,.5,+n9]],[[+n3,+n8,+n9],[+n6,+n6,+n9],[+n7,.5,+n9]],[[-.5,+n7,+n9],[-.5,.5,+n9],[-n6,+n6,+n9]],[[-.5,.5,+n9],[-n7,.5,+n9],[-n6,+n6,+n9]],[[-.5,+n0,+n9],[-n8,+n3,+n9],[-.5,+n7,+n9]],[[-n8,+n3,+n9],[-n6,+n6,+n9],[-.5,+n7,+n9]],[[-n0,.5,+n9],[-n3,+n8,+n9],[-n7,.5,+n9]],[[-n3,+n8,+n9],[-n6,+n6,+n9],[-n7,.5,+n9]]],pnl=TTk.Puzzle.SQUARE1.panels,[45,60,73,75,76,88,90,91].forEach(function(n){pnl[n].polyStrokePattern=[1]}),[0,1,2,3,4,5,6,7,8,9,10,11,16,17,18,19,20,21,22,23,24,25,26,27].forEach(function(n){pnl[n].polyStrokePattern=[0,1]}),[32,33,34,35,36,37,38,39,42,43,44,46,47,48,49,50,51,52,53,54,57,58,59,61,62,63,64,65,66,67,68,69,72,74,77,78,79,80,81,82,83,84,87,89].forEach(function(n){pnl[n].polyOpenEnded=!0}),TTk.Puzzle.SQUARE1.faces={U:[[-.5,-.5,.5],[-.5,.5,.5],[.5,.5,.5],[.5,-.5,.5]],D:[[-.5,-.5,-.5],[-.5,.5,-.5],[.5,.5,-.5],[.5,-.5,-.5]],L:[[-.5,-.5,.5],[-.5,.5,.5],[-.5,.5,-.5],[-.5,-.5,-.5]],R:[[.5,-.5,.5],[.5,.5,.5],[.5,.5,-.5],[.5,-.5,-.5]],F:[[-.5,-.5,.5],[.5,-.5,.5],[.5,-.5,-.5],[-.5,-.5,-.5]],B:[[-.5,.5,.5],[.5,.5,.5],[.5,.5,-.5],[-.5,.5,-.5]]},TTk.Puzzle.SQUARE1.moves={D:{plane:[v[69],v[68],v[67],v[66]],angle:-30,type:T.ABOVE},U:{plane:[v[70],v[71],v[72],v[73]],angle:-30,type:T.ABOVE},"/":{plane:[v[10],v[13],v[17],v[14]],angle:180,type:T.ABOVE},y:{plane:[v[2],v[3],v[4],v[5]],angle:-90,type:T.ROTATE},x:{plane:[v[2],v[5],v[9],v[6]],angle:-90,type:T.ROTATE},z:{plane:[v[2],v[3],v[7],v[6]],angle:-90,type:T.ROTATE}},TTk.Puzzle.SQUARE1.scrambleMoves=1e3,TTk.Puzzle.SQUARE1.panelMoves={D:!0,U:!0,"/":[91]},TTk.Puzzle.SQUARE1.panelMovesThreshold=.55,TTk.Puzzle.SQUARE1.keys={73:"/",75:"/'",83:"D",76:"D'",74:"U",70:"U'",84:"x",89:"x",66:"x'",186:"y",59:"y",65:"y'",80:"z",81:"z'"},TTk.Puzzle.SQUARE1.numFaces=4,TTk.Puzzle.SQUARE1.fc="yyyyyyyyyyyyyyyywwwwwwwwwwwwwwwwbbbbbbbbbbbbbbbgggggggggggggggrrrrrrrrrrrrrrrooooooooooooooonnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn",TTk.Puzzle.SQUARE1.rotation={pitch:30,yaw:35},TTk.Puzzle.genCube=function(n){var v={};v.panels=[];for(var e=0;e<2;e++)for(var l=0;l<3;l++)for(var a=0===l&&0===e,p=1===l&&1===e||2===l&&1===e,d=a?n-1:0;a?d>=0:d<n;a?d--:d++)for(var t=p?n-1:0;p?t>=0:t<n;p?t--:t++){var r=(1===l?1-e:e)*n,f=0===l?[[t,d,r],[t+1,d,r],[t+1,d+1,r],[t,d+1,r]]:1===l?[[r,t,d],[r,t+1,d],[r,t+1,d+1],[r,t,d+1]]:[[t,r,d],[t+1,r,d],[t+1,r,d+1],[t,r,d+1]];v.panels.push(f.map(function(v){return v.map(function(v){return v/n-.5})}))}for(var o=["x","z","y"],y=["M","S","E"],s=[["R","L"],["B","F"],["U","D"]],g={},z=0;z<3;z++){var u=[0,0,0];u[z]=1;var E=[0,0,0];g[o[z]]={normal:u,origin:E,angle:1===z?90:-90,type:T.ROTATE},n>2&&n%2===1&&(E[z]=-.5/n,g[y[z]]={normal:u,origin:E,angle:90,type:T.TOUCH});for(var B=0;B<2;B++){for(var c=3===n?2:n/2,w=1;w<=c;w++){var M=s[z][B];M=w>1?M.toLowerCase():M,w>2&&(M=w+M),E=[0,0,0],E[z]=.5*u[z]-w*u[z]/n,g[M]={normal:u.slice(),origin:E.slice(),angle:-90,type:T.ABOVE}}u[z]*=-1}}v.moves=g,v.faces={U:[[-.5,-.5,.5],[-.5,.5,.5],[.5,.5,.5],[.5,-.5,.5]],D:[[-.5,-.5,-.5],[-.5,.5,-.5],[.5,.5,-.5],[.5,-.5,-.5]],L:[[-.5,-.5,.5],[-.5,.5,.5],[-.5,.5,-.5],[-.5,-.5,-.5]],R:[[.5,-.5,.5],[.5,.5,.5],[.5,.5,-.5],[.5,-.5,-.5]],F:[[-.5,-.5,.5],[.5,-.5,.5],[.5,-.5,-.5],[-.5,-.5,-.5]],B:[[-.5,.5,.5],[.5,.5,.5],[.5,.5,-.5],[-.5,.5,-.5]]},v.panelMoves={},s.forEach(function(n){n.forEach(function(n){v.panelMoves[n]=!0})}),v.keys={67:"l",82:"l'",85:"r",77:"r'",73:"R",75:"R'",87:"B",79:"B'",83:"D",76:"D'",68:"L",69:"L'",74:"U",70:"U'",72:"F",71:"F'",78:"F",86:"F'",84:"x",89:"x",66:"x'",186:"y",59:"y",65:"y'",80:"z",81:"z'",190:"M'",188:"M"};var A=n*n,h=6*A,b=["w","r","b","y","o","g"];v.fc="";for(var t=0;t<h;t++)v.fc+=b[~~(t/A)];return v.rotation={pitch:30,yaw:35},v.numFaces=4,v},TTk.Puzzle.F2B_1={fc:"wwwwwdwwdddrddrdddbbdbbdddddddddddddoooooodddggggggddd"},TTk.Puzzle.F2B_2={fc:"wwdwwwwwwrrdddddddbbbbbdddddddddddddooooooddddggdggddd"},TTk.Puzzle.F2B_3={fc:"wwwwwwwwddrrdrrdddbbdbbdddddddddddddoooooodddggggggddd"},TTk.Puzzle.F2B_4={fc:"wwwwwwwwwrrrrrrdddbbbbbbddddddddddddoooooodddggggggddd"},TTk.Puzzle.LL={fc:"dddddddddddddddrrrddddddbbbyyyyyyyyyddddddoooddddddggg"},TTk.Puzzle.F2L_SLICES={fc:"wdwwdwwdwrrrrrrdddbdbbdbddddddddddddoooooodddgdggdgddd"},TTk.Puzzle.EO_LINES={fc:"dddddddlddddlddddddldldldlddlddddddddddddldddddddddddd"},TTk.Puzzle.EO_EDGES={fc:"dwdwwwdwddrdrrrdrddbdbbbdbddydyyydyddodooododdgdgggdgd"},TTk.Puzzle.EOLINE_IMG={fc:"dwdlwldwddldldldlddbdldldlddldldldlddldldldlddldldldld"};
},{"../core/ttk.js":73}],78:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");TTk.Glyph2D={TRIANGLE:[],TRIANGLEUP:[[.5,-.25],[0,.5],[-.5,-.25]],TRIANGLEDOWN:[[.5,.25],[0,-.5],[-.5,.25]],SQUARE:[[-.5,-.5],[.5,-.5],[.5,.5],[-.5,.5]],RHOMBUS:[[0,-.5],[.3,0],[0,.5],[-.3,0]],DIAMOND:[[-.5,.1],[-.2,.5],[.2,.5],[.5,.1],[0,-.5]],PENTAGON:[[-.309,0],[-.0955,.2939],[.25,.1816],[.25,-.1816],[-.0955,-.2939]],HEXAGON:[[0,-.5],[.433,-.25],[.433,.25],[0,.5],[-.433,.25],[-.433,-.25]],OCTAGON:[[-.25,-.5],[-.5,-.25],[-.5,.25],[-.25,.5],[.25,.5],[.5,.25],[.5,-.25],[.25,-.5]],X:[[-.46,-.25],[-.21,0],[-.46,.25],[-.25,.46],[0,.21],[.25,.46],[.46,.25],[.21,0],[.46,-.25],[.25,-.46],[0,-.21],[-.25,-.46]],PLUS:[[-.15,-.5],[-.15,-.15],[-.5,-.15],[-.5,.15],[-.15,.15],[-.15,.5],[.15,.5],[.15,.15],[.5,.15],[.5,-.15],[.15,-.15],[.15,-.5]],BAR:[[0,-.5],[-.1,-.4],[-.1,.4],[0,.5],[.1,.4],[.1,-.4]],DASH:[[.5,0],[.4,-.1],[-.4,-.1],[-.5,-0],[-.4,.1],[.4,.1]],BACKSLASH:[[-.3,-.5],[-.5,-.5],[-.5,-.3],[.3,.5],[.5,.5],[.5,.3]],FWDSLASH:[[-.5,.3],[-.5,.5],[-.3,.5],[.5,-.3],[.5,-.5],[.3,-.5]],STAR:[[-.309,0],[.25,-.1816],[-.0955,.2939],[-.0955,-.2939],[.25,.1816]],STAR2:[[0,-.5],[-.1,-.1],[-.25,-.25],[-.15,-.15],[-.5,0],[-.15,.15],[-.25,.25],[-.1,.1],[0,.5],[.1,.1],[.25,.25],[.15,.15],[.5,0],[.15,-.15],[.25,-.25],[.1,-.1]],STAR3:[[-.5,-.5],[0,-.05],[.5,-.5],[.05,0],[.5,.5],[0,.05],[-.5,.5],[-.05,0]],FLOWER:[[0,0],[-.25,.1],[-.5,0],[-.25,-.1],[0,0],[.25,.1],[.5,0],[.25,-.1],[0,0],[.1,.25],[0,.5],[-.1,.25],[0,0],[.1,-.25],[0,-.5],[-.1,-.25]],GERMANCROSS:[[-.1,-.1],[-.5,-.3],[-.5,.3],[-.1,.1],[-.3,.5],[.3,.5],[.1,.1],[.5,.3],[.5,-.3],[.1,-.1],[.3,-.5],[-.3,-.5]],UPARROW:[[-0,-.5],[-.15,.15],[-.5,0],[0,.5],[.5,0],[.15,.15],[0,-.5]],DOWNARROW:[[-0,.5],[-.15,-.15],[-.5,0],[0,-.5],[.5,0],[.15,-.15],[0,.5]],AIRPLANE:[[0,-.25],[-.025,-.475],[-.2,-.5],[-.2,-.45],[-.1,-.4],[-.15,0],[-.2,0],[-.5,-.1],[-.5,0],[-.1,.25],[-.1,.4],[0,.5],[0,.5],[.1,.4],[.1,.25],[.5,0],[.5,-.1],[.2,0],[.15,0],[.1,-.4],[.2,-.45],[.2,-.5],[.025,-.475]],CAR:[[-.2,.1],[-.48,.07],[-.5,.06],[-.4,-.2],[-.3,-.2],[-.3,-.3],[-.25,-.35],[-.15,-.35],[-.1,-.3],[-.1,-.2],[.1,-.2],[.1,-.3],[.15,-.35],[.25,-.35],[.3,-.3],[.3,-.2],[.4,-.2],[.5,.06],[.3,.06],[.25,.3],[-.2,.3],[-.25,.1]],LORRY:[],BOAT:[[-.5,-.3],[-.5,-.2],[-.3,-.2],[-.3,-.1],[-.2,-.1],[-.2,0],[-.1,0],[0,.15],[-.1,.3],[.2,.3],[.1,.5],[.15,.5],[.25,.3],[.3,.3],[.35,0],[.4,0],[.8,.1],[.5,-.3]],BYCYCLE:[],MOTORBIKE:[],HUMAN:[[-.05,.5],[-.1,.45],[-.1,.35],[-.05,.3],[-.03,.3],[-.03,.2],[-.2,.15],[-.3,-.15],[-.2,-.25],[-.1,-.5],[.1,-.5],[.2,-.25],[.3,-.15],[.2,.05],[.03,.1],[.03,.3],[.05,.3],[.1,.35],[.1,.45],[.05,.5]]},TTk.Glyph3D={CUBE:[[[-.5,-.5,-.5],[.5,-.5,-.5],[.5,.5,-.5],[-.5,.5,-.5]],[[-.5,-.5,.5],[.5,-.5,.5],[.5,.5,.5],[-.5,.5,.5]],[[-.5,-.5,-.5],[-.5,.5,-.5],[-.5,.5,.5],[-.5,-.5,.5]],[[.5,-.5,-.5],[.5,.5,-.5],[.5,.5,.5],[.5,-.5,.5]],[[-.5,-.5,-.5],[.5,-.5,-.5],[.5,-.5,.5],[-.5,-.5,.5]],[[-.5,.5,-.5],[.5,.5,-.5],[.5,.5,.5],[-.5,.5,.5]]],DIAMOND:[[[-.2,-.5,-.25],[-.5,-.2,-.25],[0,0,.5]],[[-.5,-.2,-.25],[-.5,.2,-.25],[0,0,.5]],[[-.5,.2,-.25],[-.2,.5,-.25],[0,0,.5]],[[-.2,.5,-.25],[.2,.5,-.25],[0,0,.5]],[[.2,.5,-.25],[.5,.2,-.25],[0,0,.5]],[[.5,.2,-.25],[.5,-.2,-.25],[0,0,.5]],[[.5,-.2,-.25],[.2,-.5,-.25],[0,0,.5]],[[.2,-.5,-.25],[-.2,-.5,-.25],[0,0,.5]],[[-.2,-.5,-.25],[-.5,-.2,-.25],[-.3,-.12,-.5],[-.12,-.3,-.5]],[[-.5,-.2,-.25],[-.5,.2,-.25],[-.3,.12,-.5],[-.3,-.12,-.5]],[[-.5,.2,-.25],[-.2,.5,-.25],[-.12,.3,-.5],[-.3,.12,-.5]],[[-.2,.5,-.25],[.2,.5,-.25],[.12,.3,-.5],[-.12,.3,-.5]],[[.2,.5,-.25],[.5,.2,-.25],[.3,.12,-.5],[.12,.3,-.5]],[[.5,.2,-.25],[.5,-.2,-.25],[.3,-.12,-.5],[.3,.12,-.5]],[[.5,-.2,-.25],[.2,-.5,-.25],[.12,-.3,-.5],[.3,-.12,-.5]],[[.2,-.5,-.25],[-.2,-.5,-.25],[-.12,-.3,-.5],[.12,-.3,-.5]],[[-.3,-.12,-.5],[-.3,.12,-.5],[-.12,.3,-.5],[.12,.3,-.5],[.3,.12,-.5],[.3,-.12,-.5],[.12,-.3,-.5],[-.12,-.3,-.5]]],DIAMOND2:[[[0,-.5,0],[0,0,-.5],[-.328,-.328,0]],[[-.328,-.328,0],[-.5,0,0],[0,0,-.5]],[[-.328,.328,0],[-.5,0,0],[0,0,-.5]],[[0,.5,0],[-.328,.328,0],[0,0,-.5]],[[.328,.328,0],[0,.5,0],[0,0,-.5]],[[.5,0,0],[.328,.328,0],[0,0,-.5]],[[.328,-.328,0],[.5,0,0],[0,0,-.5]],[[0,-.5,0],[.328,-.328,0],[0,0,-.5]],[[0,0,.5],[0,-.5,0],[-.328,-.328,0]],[[-.328,-.328,0],[-.5,0,0],[0,0,.5]],[[-.328,.328,0],[-.5,0,0],[0,0,.5]],[[0,.5,0],[-.328,.328,0],[0,0,.5]],[[.328,.328,0],[0,.5,0],[0,0,.5]],[[.5,0,0],[.328,.328,0],[0,0,.5]],[[.328,-.328,0],[.5,0,0],[0,0,.5]],[[0,-.5,0],[.328,-.328,0],[0,0,.5]]],TRIANGULAR_PYRAMID:[[[-0,-.5177,0],[-.4491,.2601,0],[.4491,.2601,0]],[[-0,-.5177,0],[-.4491,.2601,0],[0,-.0025,-.7357]],[[-0,-.5177,0],[0,-.0025,-.7357],[.4491,.2601,0]],[[-.4491,.2601,0],[0,-.0025,-.7357],[.4491,.2601,0]]],PYRAMID:[[[.5,-.5,0],[-.5,-.5,0],[0,0,-.5]],[[.5,.5,0],[-.5,.5,0],[0,0,-.5]],[[-.5,-.5,0],[-.5,.5,0],[0,0,-.5]],[[.5,-.5,0],[.5,.5,0],[0,0,-.5]],[[.5,-.5,0],[.5,.5,0],[-.5,.5,0],[-.5,-.5,0]]],RHOMBIC_PYRAMID:[[[0,-.5,0],[.3,0,0],[.3,0,0],[0,.5,0],[0,.5,0],[-.3,0,0],[-.3,0,0],[0,-.5,0]],[[0,-.5,0],[.3,0,0],[0,0,-.5]],[[.3,0,0],[0,.5,0],[0,0,-.5]],[[0,.5,0],[-.3,0,0],[0,0,-.5]],[[-.3,0,0],[0,-.5,0],[0,0,-.5]]],PENTAGONAL_PYRAMID:[[[-.309,0,0],[-.0955,.2939,0],[.25,.1816,0],[.25,-.1816,0],[-.0955,-.2939,0]],[[-.309,0,0],[-.0955,.2939,0],[0,0,-.5]],[[-.0955,.2939,0],[.25,.1816,0],[0,0,-.5]],[[.25,.1816,0],[.25,-.1816,0],[0,0,-.5]],[[.25,-.1816,0],[-.0955,-.2939,0],[0,0,-.5]],[[-.0955,-.2939,0],[-.309,0,0],[0,0,-.5]]],HEXAGONAL_PYRAMID:[[[0,-.5,0],[.433,-.25,0],[.433,.25,0],[0,.5,0],[-.433,.25,0],[-.433,-.25,0]],[[0,-.5,0],[.433,-.25,0],[0,0,-.5]],[[.433,-.25,0],[.433,.25,0],[0,0,-.5]],[[.433,.25,0],[0,.5,0],[0,0,-.5]],[[0,.5,0],[-.433,.25,0],[0,0,-.5]],[[-.433,.25,0],[-.433,-.25,0],[0,0,-.5]],[[0,-.5,0],[-.433,-.25,0],[0,0,-.5]]],OCTAGONAL_PYRAMID:[[[0,-.5,0],[0,0,-.5],[-.328,-.328,0]],[[-.328,-.328,0],[-.5,0,0],[0,0,-.5]],[[-.328,.328,0],[-.5,0,0],[0,0,-.5]],[[0,.5,0],[-.328,.328,0],[0,0,-.5]],[[.328,.328,0],[0,.5,0],[0,0,-.5]],[[.5,0,0],[.328,.328,0],[0,0,-.5]],[[.328,-.328,0],[.5,0,0],[0,0,-.5]],[[0,-.5,0],[.328,-.328,0],[0,0,-.5]],[[0,-.5,0],[-.328,-.328,0],[-.5,0,0],[-.328,.328,0],[0,.5,0],[.328,.328,0],[.5,0,0],[.328,-.328,0],[0,-.5,0]]],TETRAHEDRON:[[[-.5,-.5,-.5],[.5,-.5,.5],[-.5,.5,.5]],[[-.5,-.5,-.5],[.5,-.5,.5],[.5,.5,-.5]],[[-.5,-.5,-.5],[.5,.5,-.5],[-.5,.5,.5]],[[.5,-.5,.5],[.5,.5,-.5],[-.5,.5,.5]]],OCTAHEDRON:[[[.5,-.5,0],[-.5,-.5,0],[0,0,.5]],[[.5,.5,0],[-.5,.5,0],[0,0,.5]],[[-.5,-.5,0],[-.5,.5,0],[0,0,.5]],[[.5,-.5,0],[.5,.5,0],[0,0,.5]],[[.5,-.5,0],[-.5,-.5,0],[0,0,-.5]],[[.5,.5,0],[-.5,.5,0],[0,0,-.5]],[[-.5,-.5,0],[-.5,.5,0],[0,0,-.5]],[[.5,-.5,0],[.5,.5,0],[0,0,-.5]]],RHOMBICUBOCTAHEDRON:[[[-.2,-.5,-.2],[.2,-.5,-.2],[.2,-.5,.2],[-.2,-.5,.2]],[[.2,-.5,-.2],[.5,-.2,-.2],[.5,-.2,.2],[.2,-.5,.2]],[[.5,-.2,-.2],[.5,.2,-.2],[.5,.2,.2],[.5,-.2,.2]],[[.5,.2,-.2],[.2,.5,-.2],[.2,.5,.2],[.5,.2,.2]],[[-.2,.5,-.2],[.2,.5,-.2],[.2,.5,.2],[-.2,.5,.2]],[[-.2,.5,-.2],[-.5,.2,-.2],[-.5,.2,.2],[-.2,.5,.2]],[[-.5,-.2,-.2],[-.5,.2,-.2],[-.5,.2,.2],[-.5,-.2,.2]],[[-.5,-.2,-.2],[-.2,-.5,-.2],[-.2,-.5,.2],[-.5,-.2,.2]],[[-.2,-.5,-.2],[.2,-.5,-.2],[.2,-.2,-.5],[-.2,-.2,-.5]],[[.2,-.2,-.5],[-.2,-.2,-.5],[-.2,.2,-.5],[.2,.2,-.5]],[[.2,.2,-.5],[-.2,.2,-.5],[-.2,.5,-.2],[.2,.5,-.2]],[[.2,.5,.2],[-.2,.5,.2],[-.2,.2,.5],[.2,.2,.5]],[[.2,.2,.5],[-.2,.2,.5],[-.2,-.2,.5],[.2,-.2,.5]],[[-.2,-.2,.5],[.2,-.2,.5],[.2,-.5,.2],[-.2,-.5,.2]],[[-.5,-.2,-.2],[-.2,-.2,-.5],[-.2,.2,-.5],[-.5,.2,-.2]],[[.2,-.2,-.5],[.2,.2,-.5],[.5,.2,-.2],[.5,-.2,-.2]],[[.5,-.2,.2],[.5,.2,.2],[.2,.2,.5],[.2,-.2,.5]],[[-.2,-.2,.5],[-.2,.2,.5],[-.5,.2,.2],[-.5,-.2,.2]],[[.2,-.5,-.2],[.5,-.2,-.2],[.2,-.2,-.5]],[[.2,.2,-.5],[.5,.2,-.2],[.2,.5,-.2]],[[-.2,.2,-.5],[-.2,.5,-.2],[-.5,.2,-.2]],[[-.2,-.2,-.5],[-.2,-.5,-.2],[-.5,-.2,-.2]],[[.2,-.5,.2],[.5,-.2,.2],[.2,-.2,.5]],[[.2,.2,.5],[.5,.2,.2],[.2,.5,.2]],[[-.2,.2,.5],[-.2,.5,.2],[-.5,.2,.2]],[[-.2,-.2,.5],[-.2,-.5,.2],[-.5,-.2,.2]]],CUBOCTAHEDRON:[[[0,-.5,0],[.3,-.3,-.4],[.5,0,0],[.3,-.3,.4]],[[0,-.5,0],[-.3,-.3,-.4],[-.5,0,0],[-.3,-.3,.4]],[[0,.5,0],[.3,.3,-.4],[.5,0,0],[.3,.3,.4]],[[0,.5,0],[-.3,.3,-.4],[-.5,0,0],[-.3,.3,.4]],[[.3,-.3,-.4],[.3,.3,-.4],[-.3,.3,-.4],[-.3,-.3,-.4]],[[.3,-.3,.4],[.3,.3,.4],[.3,.3,-.4],[-.3,-.3,.4]],[[0,-.5,0],[-.3,-.3,-.4],[.3,-.3,-.4]],[[.5,0,0],[.3,-.3,-.4],[.3,.3,-.4]],[[0,.5,0],[.3,.3,-.4],[-.3,.3,-.4]],[[-.5,0,0],[-.3,-.3,-.4],[-.3,.3,-.4]],[[0,-.5,0],[-.3,-.3,.4],[.3,-.3,.4]],[[.5,0,0],[.3,-.3,.4],[.3,.3,.4]],[[0,.5,0],[.3,.3,.4],[-.3,.3,.4]],[[-.5,0,0],[-.3,-.3,.4],[-.3,.3,.4]]],ICOSAHEDRON:[[[0,0,-.5],[0,.5,-.2],[-.5,.1,-.2]],[[0,0,-.5],[-.5,.1,-.2],[-.3,-.4,-.2]],[[0,0,-.5],[-.3,-.4,-.2],[.3,-.4,-.2]],[[0,0,-.5],[.3,-.4,-.2],[.5,.1,-.2]],[[0,0,-.5],[.5,.1,-.2],[0,.5,-.2]],[[0,0,.5],[0,-.5,.2],[-.5,-.2,.2]],[[0,0,.5],[.5,-.2,.2],[0,-.5,.2]],[[0,0,.5],[.3,.4,.2],[.5,-.2,.2]],[[0,0,.5],[.3,.4,.2],[-.3,.4,.2]],[[0,0,.5],[-.3,.4,.2],[-.5,-.2,.2]],[[0,.5,-.2],[.3,.4,.2],[-.3,.4,.2]],[[-.5,.1,-.2],[-.3,.4,.2],[-.5,-.2,.2]],[[-.3,-.4,-.2],[-.5,-.2,.2],[0,-.5,.2]],[[.3,-.4,-.2],[0,-.5,.2],[.5,-.2,.2]],[[.5,.1,-.2],[.5,-.2,.2],[.3,.4,.2]],[[0,.5,-.2],[-.5,.1,-.2],[-.3,.4,.2]],[[-.5,.1,-.2],[-.3,-.4,-.2],[-.5,-.2,.2]],[[-.3,-.4,-.2],[.3,-.4,-.2],[0,-.5,.2]],[[.3,-.4,-.2],[.5,.1,-.2],[.5,-.2,.2]],[[.5,.1,-.2],[0,.5,-.2],[.3,.4,.2]]],DODECAHEDRON:[[[-.309,0,.4045],[-.0955,.2939,.4045],[.25,.1816,.4045],[.25,-.1816,.4045],[-.0955,-.2939,.4045]],[[-.4045,-.2939,-.0955],[-.5,0,.0955],[-.309,0,.4045],[-.0955,-.2939,.4045],[-.1545,-.4755,.0955]],[[-.4045,.2939,-.0955],[-.5,0,.0955],[-.309,0,.4045],[-.0955,.2939,.4045],[-.1545,.4755,.0955]],[[.1545,.4755,-.0955],[-.1545,.4755,.0955],[-.0955,.2939,.4045],[.25,.1816,.4045],[.4045,.2939,.0955]],[[.5,0,-.0955],[.4045,.2939,.0955],[.25,.1816,.4045],[.25,-.1816,.4045],[.4045,-.2939,.0955]],[[.1545,-.4755,-.0955],[.4045,-.2939,.0955],[.25,-.1816,.4045],[-.0955,-.2939,.4045],[-.1545,-.4755,.0955]],[[.4045,-.2939,.0955],[.5,0,-.0955],[.309,0,-.4045],[.0955,-.2939,-.4045],[.1545,-.4755,-.0955]],[[-.1545,-.4755,.0955],[.1545,-.4755,-.0955],[.0955,-.2939,-.4045],[-.25,-.1816,-.4045],[-.4045,-.2939,-.0955]],[[-.5,0,.0955],[-.4045,-.2939,-.0955],[-.25,-.1816,-.4045],[-.25,.1816,-.4045],[-.4045,.2939,-.0955]],[[-.1545,.4755,.0955],[-.4045,.2939,-.0955],[-.25,.1816,-.4045],[.0955,.2939,-.4045],[.1545,.4755,-.0955]],[[.4045,.2939,.0955],[.1545,.4755,-.0955],[.0955,.2939,-.4045],[.309,0,-.4045],[.5,0,-.0955]],[[.309,0,-.4045],[.0955,-.2939,-.4045],[-.25,-.1816,-.4045],[-.25,.1816,-.4045],[.0955,.2939,-.4045]]],TRUNCATED_ICOSAHEDRON:[[[0,.103,-.5],[.1667,.206,-.4363],[.103,.3727,-.3333],[-.103,.3727,-.3333],[-.1667,.206,-.4363]],[[0,-.103,-.5],[.1667,-.206,-.4363],[.103,-.3727,-.3333],[-.103,-.3727,-.3333],[-.1667,-.206,-.4363]],[[0,.103,.5],[.1667,.206,.4363],[.103,.3727,.3333],[-.103,.3727,.3333],[-.1667,.206,.4363]],[[0,-.103,.5],[.1667,-.206,.4363],[.103,-.3727,.3333],[-.103,-.3727,.3333],[-.1667,-.206,.4363]],[[0,.103,-.5],[0,-.103,-.5],[.1667,-.206,-.4363],[.3333,-.103,-.3727],[.3333,.103,-.3727],[.1667,.206,-.4363]],[[0,.103,-.5],[0,-.103,-.5],[-.1667,-.206,-.4363],[-.3333,-.103,-.3727],[-.3333,.103,-.3727],[-.1667,.206,-.4363]],[[0,.103,.5],[0,-.103,.5],[.1667,-.206,.4363],[.3333,-.103,.3727],[.3333,.103,.3727],[.1667,.206,.4363]],[[0,.103,.5],[0,-.103,.5],[-.1667,-.206,.4363],[-.3333,-.103,.3727],[-.3333,.103,.3727],[-.1667,.206,.4363]],[[.1667,-.206,-.4363],[.3333,-.103,-.3727],[.4363,-.1667,-.206],[.3727,-.3333,-.103],[.206,-.4363,-.1667],[.103,-.3727,-.3333]],[[.1667,-.206,.4363],[.3333,-.103,.3727],[.4363,-.1667,.206],[.3727,-.3333,.103],[.206,-.4363,.1667],[.103,-.3727,.3333]],[[-.1667,.206,-.4363],[-.3333,.103,-.3727],[-.4363,.1667,-.206],[-.3727,.3333,-.103],[-.206,.4363,-.1667],[-.103,.3727,-.3333]],[[-.1667,.206,.4363],[-.3333,.103,.3727],[-.4363,.1667,.206],[-.3727,.3333,.103],[-.206,.4363,.1667],[-.103,.3727,.3333]],[[-.1667,-.206,-.4363],[-.3333,-.103,-.3727],[-.4363,-.1667,-.206],[-.3727,-.3333,-.103],[-.206,-.4363,-.1667],[-.103,-.3727,-.3333]],[[-.1667,-.206,.4363],[-.3333,-.103,.3727],[-.4363,-.1667,.206],[-.3727,-.3333,.103],[-.206,-.4363,.1667],[-.103,-.3727,.3333]],[[.1667,.206,-.4363],[.3333,.103,-.3727],[.4363,.1667,-.206],[.3727,.3333,-.103],[.206,.4363,-.1667],[.103,.3727,-.3333],[.1667,.206,-.4363]],[[.1667,.206,.4363],[.3333,.103,.3727],[.4363,.1667,.206],[.3727,.3333,.103],[.206,.4363,.1667],[.103,.3727,.3333],[.1667,.206,.4363]],[[-.5,0,-.103],[-.4363,-.1667,-.206],[-.3333,-.103,-.3727],[-.3333,.103,-.3727],[-.4363,.1667,-.206]],[[-.5,0,.103],[-.4363,-.1667,.206],[-.3333,-.103,.3727],[-.3333,.103,.3727],[-.4363,.1667,.206]],[[.5,0,-.103],[.4363,-.1667,-.206],[.3333,-.103,-.3727],[.3333,.103,-.3727],[.4363,.1667,-.206]],[[.5,0,.103],[.4363,-.1667,.206],[.3333,-.103,.3727],[.3333,.103,.3727],[.4363,.1667,.206]],[[.103,-.5,0],[-.103,-.5,0],[-.206,-.4363,-.1667],[-.103,-.3727,-.3333],[.103,-.3727,-.3333],[.206,-.4363,-.1667]],[[.103,-.5,0],[-.103,-.5,0],[-.206,-.4363,.1667],[-.103,-.3727,.3333],[.103,-.3727,.3333],[.206,-.4363,.1667]],[[.103,.5,0],[-.103,.5,0],[-.206,.4363,-.1667],[-.103,.3727,-.3333],[.103,.3727,-.3333],[.206,.4363,-.1667]],[[.103,.5,0],[-.103,.5,0],[-.206,.4363,.1667],[-.103,.3727,.3333],[.103,.3727,.3333],[.206,.4363,.1667]],[[.103,-.5,0],[.206,-.4363,-.1667],[.3727,-.3333,-.103],[.3727,-.3333,.103],[.206,-.4363,.1667]],[[.103,.5,0],[.206,.4363,-.1667],[.3727,.3333,-.103],[.3727,.3333,.103],[.206,.4363,.1667]],[[-.103,-.5,0],[-.206,-.4363,-.1667],[-.3727,-.3333,-.103],[-.3727,-.3333,.103],[-.206,-.4363,.1667]],[[-.103,.5,0],[-.206,.4363,-.1667],[-.3727,.3333,-.103],[-.3727,.3333,.103],[-.206,.4363,.1667]],[[.3727,-.3333,-.103],[.3727,-.3333,.103],[.4363,-.1667,.206],[.5,0,.103],[.5,0,-.103],[.4363,-.1667,-.206]],[[.3727,.3333,-.103],[.3727,.3333,.103],[.4363,.1667,.206],[.5,0,.103],[.5,0,-.103],[.4363,.1667,-.206]],[[-.3727,-.3333,-.103],[-.3727,-.3333,.103],[-.4363,-.1667,.206],[-.5,0,.103],[-.5,0,-.103],[-.4363,-.1667,-.206]],[[-.3727,.3333,-.103],[-.3727,.3333,.103],[-.4363,.1667,.206],[-.5,0,.103],[-.5,0,-.103],[-.4363,.1667,-.206]]],STAR:[[[-.5,0,0],[-.1,-.1,.1],[-.1,-.1,-.1]],[[-.5,0,0],[-.1,-.1,.1],[-.1,.1,.1]],[[-.5,0,0],[-.1,.1,.1],[-.1,-.1,-.1]],[[-.5,0,0],[-.1,-.1,-.1],[-.1,.1,-.1]],[[.5,0,0],[.1,-.1,-.1],[.1,-.1,.1]],[[.5,0,0],[.1,-.1,.1],[.1,.1,.1]],[[.5,0,0],[.1,.1,.1],[.1,.1,-.1]],[[.5,0,0],[.1,-.1,-.1],[.1,.1,-.1]],[[0,0,.5],[.1,-.1,.1],[-.1,-.1,.1]],[[0,0,.5],[.1,-.1,.1],[.1,-.1,.1]],[[0,0,.5],[.1,.1,.1],[-.1,.1,.1]],[[0,0,.5],[-.1,-.1,.1],[-.1,.1,.1]],[[0,0,-.5],[-.1,-.1,-.1],[.1,-.1,-.1]],[[0,0,-.5],[.1,-.1,-.1],[.1,.1,-.1]],[[0,0,-.5],[.1,.1,-.1],[-.1,.1,-.1]],[[0,0,-.5],[-.1,-.1,-.1],[-.1,.1,-.1]],[[0,-.5,0],[-.1,-.1,-.1],[-.1,.1,.1]],[[0,-.5,0],[-.1,-.1,.1],[.1,-.1,.1]],[[0,-.5,0],[.1,-.1,-.1],[.1,-.1,.1]],[[0,-.5,0],[-.1,-.1,-.1],[.1,-.1,-.1]],[[0,.5,0],[-.1,.1,.1],[.1,.1,.1]],[[0,.5,0],[-.1,.1,-.1],[-.1,.1,.1]],[[0,.5,0],[-.1,.1,-.1],[.1,.1,-.1]],[[0,.5,0],[.1,.1,.1],[.1,.1,-.1]]],SMALL_STELLATED_DODECAHIDRON:[[[.0016,-0,.5],[-.1545,0,.2023],[-.0477,.1469,.2023]],[[.0016,-0,.5],[-.0477,.1469,.2023],[.125,.0908,.2023]],[[.0016,-0,.5],[.125,.0908,.2023],[.125,-.0908,.2023]],[[.0016,-0,.5],[.125,-.0908,.2023],[-.0477,-.1469,.2023]],[[.0016,-0,.5],[-.1545,0,.2023],[-.0477,-.1469,.2023]],[[-.0016,0,-.5],[.1545,0,-.2023],[.0477,-.1469,-.2023]],[[-.0016,0,-.5],[.0477,-.1469,-.2023],[-.125,-.0908,-.2023]],[[-.0016,0,-.5],[-.125,-.0908,-.2023],[-.125,.0908,-.2023]],[[-.0016,0,-.5],[-.125,.0908,-.2023],[.0477,.1469,-.2023]],[[-.0016,0,-.5],[.0477,.1469,-.2023],[.1545,0,-.2023]],[[.1389,-.4253,.2232],[.0772,-.2378,-.0478],[.2023,-.147,.0478]],[[.1389,-.4253,.2232],[.2023,-.147,.0478],[.125,-.0908,.2023]],[[.1389,-.4253,.2232],[.125,-.0908,.2023],[-.0477,-.1469,.2023]],[[.1389,-.4253,.2232],[-.0477,-.1469,.2023],[-.0773,-.2378,.0478]],[[.1389,-.4253,.2232],[.0772,-.2378,-.0478],[-.0773,-.2378,.0478]],[[-.1389,.4253,-.2232],[-.0772,.2378,.0478],[-.2023,.147,-.0478]],[[-.1389,.4253,-.2232],[-.2023,.147,-.0478],[-.125,.0908,-.2023]],[[-.1389,.4253,-.2232],[-.125,.0908,-.2023],[.0477,.1469,-.2023]],[[-.1389,.4253,-.2232],[.0477,.1469,-.2023],[.0773,.2378,-.0478]],[[-.1389,.4253,-.2232],[-.0772,.2378,.0478],[.0773,.2378,-.0478]],[[-.1389,-.4253,-.2232],[-.0773,-.2378,.0478],[.0772,-.2378,-.0478]],[[-.1389,-.4253,-.2232],[.0772,-.2378,-.0478],[.0477,-.1469,-.2023]],[[-.1389,-.4253,-.2232],[.0477,-.1469,-.2023],[-.125,-.0908,-.2023]],[[-.1389,-.4253,-.2232],[-.125,-.0908,-.2023],[-.2022,-.147,-.0478]],[[-.1389,-.4253,-.2232],[-.0773,-.2378,.0478],[-.2022,-.147,-.0478]],[[.1389,.4253,.2232],[.0773,.2378,-.0478],[-.0772,.2378,.0478]],[[.1389,.4253,.2232],[-.0772,.2378,.0478],[-.0477,.1469,.2023]],[[.1389,.4253,.2232],[-.0477,.1469,.2023],[.125,.0908,.2023]],[[.1389,.4253,.2232],[.125,.0908,.2023],[.2022,.147,.0478]],[[.1389,.4253,.2232],[.0773,.2378,-.0478],[.2022,.147,.0478]],[[.4479,0,.2221],[.25,0,-.0478],[.2022,.147,.0478]],[[.4479,0,.2221],[.2022,.147,.0478],[.125,.0908,.2023]],[[.4479,0,.2221],[.125,.0908,.2023],[.125,-.0908,.2023]],[[.4479,0,.2221],[.125,-.0908,.2023],[.2023,-.147,.0478]],[[.4479,0,.2221],[.25,0,-.0478],[.2023,-.147,.0478]],[[-.4479,-0,-.2221],[-.25,0,.0478],[-.2022,-.147,-.0478]],[[-.4479,-0,-.2221],[-.2022,-.147,-.0478],[-.125,-.0908,-.2023]],[[-.4479,-0,-.2221],[-.125,-.0908,-.2023],[-.125,.0908,-.2023]],[[-.4479,-0,-.2221],[-.125,.0908,-.2023],[-.2023,.147,-.0478]],[[-.4479,-0,-.2221],[-.25,0,.0478],[-.2023,.147,-.0478]],[[-.3611,-.2629,.2248],[-.2022,-.147,-.0478],[-.25,0,.0478]],[[-.3611,-.2629,.2248],[-.25,0,.0478],[-.1545,0,.2023]],[[-.3611,-.2629,.2248],[-.1545,0,.2023],[-.0477,-.1469,.2023]],[[-.3611,-.2629,.2248],[-.0477,-.1469,.2023],[-.0773,-.2378,.0478]],[[-.3611,-.2629,.2248],[-.0773,-.2378,.0478],[-.2022,-.147,-.0478]],[[.3611,.2629,-.2248],[.2022,.147,.0478],[.0773,.2378,-.0478]],[[.3611,.2629,-.2248],[.0773,.2378,-.0478],[.0477,.1469,-.2023]],[[.3611,.2629,-.2248],[.0477,.1469,-.2023],[.1545,0,-.2023]],[[.3611,.2629,-.2248],[.1545,0,-.2023],[.25,0,-.0478]],[[.3611,.2629,-.2248],[.2022,.147,.0478],[.25,0,-.0478]],[[.3611,-.2629,-.2248],[.2023,-.147,.0478],[.25,0,-.0478]],[[.3611,-.2629,-.2248],[.25,0,-.0478],[.1545,0,-.2023]],[[.3611,-.2629,-.2248],[.1545,0,-.2023],[.0477,-.1469,-.2023]],[[.3611,-.2629,-.2248],[.0477,-.1469,-.2023],[.0772,-.2378,-.0478]],[[.3611,-.2629,-.2248],[.2023,-.147,.0478],[.0772,-.2378,-.0478]],[[-.3611,.2629,.2248],[-.2023,.147,-.0478],[-.25,0,.0478]],[[-.3611,.2629,.2248],[-.25,0,.0478],[-.1545,0,.2023]],[[-.3611,.2629,.2248],[-.1545,0,.2023],[-.0477,.1469,.2023]],[[-.3611,.2629,.2248],[-.0477,.1469,.2023],[-.0772,.2378,.0478]],[[-.3611,.2629,.2248],[-.2023,.147,-.0478],[-.0772,.2378,.0478]]]},TTk.Enumeration("colour-band",[{k:"2-band",l:"Two"},{k:"3-band",l:"Three"},{k:"4-band",l:"Four"},{k:"5-band",l:"Five"},{k:"6-band",l:"Six"},{k:"7-band",l:"Seven"},{k:"8-band",l:"Eight"},{k:"9-band",l:"Nine"},{k:"10-band",l:"Ten"},{k:"11-band",l:"Eleven"},{k:"12-band",l:"Twelve"},{k:"continous",l:"Continous"}]),TTk.Enumeration("placement",[{k:"top",l:"Top"},{k:"left",l:"Left"},{k:"right",l:"Right"},{k:"bottom",l:"Bottom"}]);
},{"../core/ttk.js":73}],79:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");TTk.Projection={},TTk.Projection.Ortho3D=function(){var n=[0,0,0],r=function(n){return[n[0],n[1]]};return r.origin=function(t){return arguments.length?(n=t,r):n},r},TTk.Projection.Persp3D=function(){var n,r=[0,0,0],t=2e3,e=1,o=1.2,u=function(u){return n=o+u[2]/(t*e),[(u[0]-r[0])/n+r[0],(u[1]-r[1])/n+r[1]]};return u.origin=function(n){return arguments.length?(r=n,u):r},u.near=function(n){return arguments.length?(o=n,u):o},u.focal=function(n){return arguments.length?(t=n,u):t},u.focalFac=function(n){return arguments.length?(e=n,u):e},u};
},{"../core/ttk.js":73}],80:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");TTk.Scale=function(){var n,e,t=d3.scale.linear().domain([0,25]).range([150,650]),r=d3.scale.linear().domain([0,25]).range([150,650]),a=d3.scale.linear().domain([0,25]).range([250,0]),u=[],c=[],i=[0,0],l=[0,0],o=[0,0],g=function(n){return[t(n[0]),n.length<2?0:r(n[1]),n.length<3?0:a(n[2])]};g.getScales=function(){return[t,r,a]},g.usedTypes=function(){return e},g.getRanges=function(){return n};var d=function(n){var e=g.getScales(),t=g.usedTypes();n.forEach(function(n,r){var a=u[r]||("ordinal"===t[r]?"rangePoints":"range");"function"==typeof a?u[r](n):e[r][a](n)}),S()},f=function(){return[t?t.domain():null,r?r.domain():null,a?a.domain():null]},s=function(n){var e=g.getScales().map(TTk.Scale.declaredRange);t=n[0]?h(n[0],c[0]):t,r=n[1]?h(n[1],c[1]):r,a=n[2]?h(n[2],c[2]):a,T(),d(e)},h=function(n,e){if(e)return"utc"===e?d3.time.scale.utc().domain(n):d3.scale[e]().domain(n);switch(typeof n[0]){case"number":return d3.scale.linear().domain(n);case"string":return d3.scale.ordinal().domain(n);default:return d3.time.scale.utc().domain(n)}},T=function(){e=[m(t),m(r),m(a)]},m=function(n){return n.rangePoints?"ordinal":n.base?"log":n.invert(0)instanceof Date?"utc":"linear"},S=function(){n=[TTk.Scale.rangeExtent(t),TTk.Scale.rangeExtent(r),TTk.Scale.rangeExtent(a)],n[0][0]-=i[0],n[0][1]+=i[1],n[1][0]-=l[0],n[1][1]+=l[1],n[2][0]-=o[0],n[2][1]+=o[1],T()};return S(),g.x=function(n){return arguments.length?(t=n,S(),g):t},g.y=function(n){return arguments.length?(r=n,S(),g):r},g.z=function(n){return arguments.length?(a=n,S(),g):a},g.xPad=function(n){return arguments.length?(i=n,g):i},g.yPad=function(n){return arguments.length?(l=n,g):l},g.zPad=function(n){return arguments.length?(o=n,g):o},g.ranges=function(e){return arguments.length?(d(e),g):n},g.domains=function(n){return arguments.length?(s(n),g):f()},g.rangeFn=function(e){return arguments.length?(u=e,d(n),g):u},g.types=function(n){return arguments.length?(c=n,s(f()),g):c},g},TTk.Scale.declaredRange=function(n){var e=n.range();return[e[0],e[e.length-1]]},TTk.Scale.rangeExtent=function(n,e,t){arguments.length<3&&(t=!0);var r=n.range(),a=r[0],u=r[r.length-1];return n.categoric&&n.rangeExtent&&r.length>1&&(u+=(u-a)/(r.length-1)),1===r.length&&n.rangeExtent&&(r=n.rangeExtent(),a=r[0],u=r[r.length-1]),t&&a===u?0===a?[-1,1]:[a,2*a]:e&&a>u?[u,a]:[a,u]};
},{"../core/ttk.js":73,"d3":8}],81:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");TTk.Space={},TTk.Space.Cartesian=function(){var n=TTk.Scale(),t=function(n){return n};return t.getCentre=function(){var t=n.getRanges();return[t[0][0]+(t[0][1]-t[0][0])/2,t[1][0]+(t[1][1]-t[1][0])/2,t[2][0]+(t[2][1]-t[2][0])/2]},t.getOffset=function(n){return[0,n.height/2-400]},t.scale=function(e){return arguments.length?(n=e,t):n},t},TTk.Space.Cartesian2D=function(){var n=TTk.Space.Cartesian();return n.getOffset=function(n){return[0,0]},n},TTk.Space.Cylindrical=function(){var n=TTk.Scale(),t=function(n){return n},e=function(e){var r=n.getRanges(),a=t(e[0]),u=e[1]-r[1][0];return[u*Math.cos(a),u*Math.sin(a),e[2]]};e.CLASS="Cylindrical";var r=function(){var e=n.getRanges(),r=2*Math.PI/(e[0][1]-e[0][0]);t=function(n){return(n-e[0][0])*r}};return r(),e.getCentre=function(){var t=n.getRanges();return[0,0,t[2][0]]},e.getOffset=function(n){return[n.width/2,n.height/2]},e.scale=function(t){return arguments.length?(n=t,r(),e):n},e};
},{"../core/ttk.js":73}],82:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/math.js"),TTk.Transform3D=function(){var n=.3,t=Math.PI/4,r=1,e=[0,0,0],u=[0,0,0],c=[],o=function(n){return n=TTk.Vector.sub(n,u),n=[c[0]*n[0]+c[1]*(n[2]||0)+c[2]*n[1],c[3]*n[0]+c[4]*(n[2]||0)+c[5]*n[1],c[6]*n[0]+c[7]*(n[2]||0)+c[8]*n[1]],n=TTk.Vector.scale(n,r),n=TTk.Vector.add(n,e),n=TTk.Vector.add(n,u)},a=function(){var r=Math.cos(n),e=Math.sin(n),u=Math.cos(t),o=Math.sin(t);c[0]=u,c[1]=0,c[2]=o,c[3]=e*o,c[4]=r,c[5]=-e*u,c[6]=-o*r,c[7]=e,c[8]=r*u};return a(),o.origin=function(n){return arguments.length?(u=n,o):u},o.pitch=function(t){return arguments.length?(n=t,a(),o):n},o.yaw=function(n){return arguments.length?(t=n,a(),o):t},o.scale=function(n){return arguments.length?(r=n,o):r},o.translate=function(n){return arguments.length?(e=n,o):e},o},TTk.Transform2D=function(){return TTk.Transform3D().pitch(Math.PI/2).yaw(0)},TTk.TransformSimple=function(){var n=0,t=0,r=1,e=[0,0,0],u=[0,0,0],c=function(n){return n=TTk.Vector.scale(n,r),n=TTk.Vector.add(n,e)};return c.origin=function(n){return arguments.length?(u=n,c):u},c.pitch=function(t){return arguments.length?(n=t,c):n},c.yaw=function(n){return arguments.length?(t=n,c):t},c.scale=function(n){return arguments.length?(r=n,c):r},c.translate=function(n){return arguments.length?(e=n,c):e},c};
},{"../core/math.js":67,"../core/ttk.js":73}],83:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/math.js"),_dereq_("./context-scale.js"),_dereq_("./context-space.js"),_dereq_("./context-transform.js"),_dereq_("./context-project.js"),TTk.Context=function(){var n=TTk.Space.Cartesian(),e=TTk.Transform3D(),t=TTk.Projection.Persp3D(),r=[600,400],a=[0,0],c=function(r){return r=n.scale()(r),r=n(r),r=e(r),r=t(r),r=TTk.Vector.add(r,a)},o=function(){s(),u()},s=function(){var r=n.getCentre();e.origin(r),t.origin(r)},u=function(){a=n.getOffset(r)};return o(),c.stage1=function(e){return e=n.scale()(e),e=n(e)},c.stage1b=function(n){return n=e(n),n=t(n),n=TTk.Vector.add(n,a)},c.stage2=function(t){return t=n.scale()(t),t=n(t),t=e(t)},c.stage2b=function(n){return n=t(n),n=TTk.Vector.add(n,a)},c.applyScale=function(e){return e=n.scale()(e)},c.noScale=function(r){return r=n(r),r=e(r),r=t(r),r=TTk.Vector.add(r,a)},c.applyOffset=function(n){return n=TTk.Vector.add(n,a)},c.applyTrans=function(n){return n=e(n)},c.x=function(e){return arguments.length?(n.scale().x(e),o(),c):n.scale().x()},c.y=function(e){return arguments.length?(n.scale().y(e),o(),c):n.scale().y()},c.z=function(e){return arguments.length?(n.scale().z(e),o(),c):n.scale().z()},c.scale=function(e){return arguments.length?(n.scale(e),o(),c):n.scale()},c.space=function(e){return arguments.length?(e.scale(n.scale()),n=e,o(),c):n},c.transform=function(n){return arguments.length?(e=n,s(),c):e},c.projection=function(n){return arguments.length?(t=n,s(),c):t},c.screen=function(n){return arguments.length?(r=n,u(),c):r},c},TTk.Context2D=function(){var n=TTk.Context().projection(TTk.Projection.Ortho3D()).transform(TTk.Transform2D()).space(TTk.Space.Cartesian2D()).z(d3.scale.linear());return n},TTk.ContextSimple=function(){var n=TTk.Context().projection(TTk.Projection.Ortho3D()).transform(TTk.TransformSimple()).space(TTk.Space.Cartesian2D()).x(d3.scale.linear()).y(d3.scale.linear()).z(d3.scale.linear());return n},TTk.GhostContext=function(n){var e=TTk.Transform3D(),t=function(t){var r=n.transform();return n.transform(e),t=n(t),n.transform(r),t};return["stage1","stage1b","stage2","stage2b","applyScale","noScale","applyOffset"].forEach(function(r){t[r]=function(t){var a=n.transform();return n.transform(e),t=n[r](t),n.transform(a),t}}),t.transform=function(n){return arguments.length?(e=n,t):e},TTk.Utils.copyGetSet(["x","y","z","scale","space","projection","screen"],t,n),t};
},{"../core/math.js":67,"../core/ttk.js":73,"./context-project.js":79,"./context-scale.js":80,"./context-space.js":81,"./context-transform.js":82}],84:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/math.js"),_dereq_("../core/number.js"),_dereq_("../core/utils.js"),_dereq_("./shape-element.js"),_dereq_("./shape-multi.js"),TTk.Grid3D=function(){var n=TTk.Visual.MultiVisual(),t=TTk.Visual.SingleVisual(),e=TTk.Visual.SingleVisual(),i=TTk.Visual.SingleVisual(),r=TTk.Grid3D.Grid.X_FLOOR,a=TTk.Shape.Element().tag("line").cls(TTk.Grid3D.CSS_PREFIX+"axis").coords([["x1","y1"],["x2","y2"]]).contextFn("noScale");e.shape(a);var u,s=[0,1],l=!0,o=TTk.Shape.Text().cls(TTk.Grid3D.CSS_PREFIX+"label").html(!1).align([.5,.5]).contextFn("noScale").text(TTk.identity).style(function(n){var t=c?"function"==typeof c?c(n):Object.assign({},c):{};return d&&(t["font-size"]=("function"==typeof d?d(n):d)+"px"),t});i.shape(o);var c,T=50,d=13,f=!0,k=!1,h=TTk.Shape.Multi().zSort(!1).cls(TTk.Grid3D.CSS_PREFIX+"tick");t.shape(h);var g,p,S,v,x,F,_,G,y=TTk.Shape.Element().cls(TTk.Shape.CSS_PREFIX+"elm").dataModify(function(n){return n.d}).tag("line").coords([["x1","y1"],["x2","y2"]]).contextFn("noScale"),L=5,O=12,R=TTk.Shape.Text().contextFn("noScale").point(function(n){return n.d[2]}).html(!1).style(function(n){n=n.d;var t=g?"function"==typeof g?g(n):Object.assign({},g):{};return O&&(t["font-size"]=("function"==typeof O?O(n):O)+"px"),t}).text(function(n){l&&void 0!==n.d.key&&""!==n.d.key?x(n.d.key,n.iSel):"";return l&&void 0!==n.d.key&&""!==n.d.key?x(n.d.key,n.iSel):""}),m=10,C=8,D=!1,b=[!1,!1],V=TTk.Shape.Box().cls(TTk.Grid3D.CSS_PREFIX+"serif-bottom").width(3).height(3).offset([0,0]).contextFn("noScale").point(function(n){return n.d[0]}),X=TTk.Shape.Box().cls(TTk.Grid3D.CSS_PREFIX+"serif-top").width(3).height(3).offset([0,0]).contextFn("noScale").point(function(n){return n.d[1]}),E=TTk.identity,Z=[],w=function(e){var i,a=TTk.Vector,u=n.context();_=w.axis(),G=w.axisScale(),F="Cylindrical"===u.space().CLASS;var s=a.sub(r[2],r[0]),l=u.applyTrans(r[0]),o=u.applyTrans(r[2]),c=a.sub(o,l),T=u.applyTrans(a.add(r[0],r[3])),i=a.sub(T,l),d=u.applyTrans(r[1]),f=a.sub(d,l);if(v=!1,D&&(r[3][2]&&(v=c[1]>0),(r[3][0]||r[3][1])&&(v=s[2]?i[1]>=0:i[1]>0||c[1]>0||1===f[1]&&c[0]<=0),v=v||0===f[0]&&0===f[1]),!R.orient()){var k=c[0]>0,h=0===c[0],g=r[3][2]<0&&0===i[0]&&0===i[2],y=[k?0:h?.5:1,g?1.5:.5];R.align(y)}I();var O="function"==typeof L?L():L,m=G.ticks?G.ticks.apply(G,[O]):G.domain();F&&(a.sub(r[1],r[0])[1]?m=[]:r[0][1]||r[2][1]?0===_&&m.pop():m=[]);var C=m.map(z);if(G.categoric&&B(C),t.data(C),!F||0!==_&&2!==_||r[0][1]){if(x=S||(G.ticks?G.tickFormat.apply(G,[O]):function(n){return n}),p){var b=x;x=function(n,t){return p(n,t)===!1?"":b(n,t)}}}else x=function(){return""};return n(e)},z=function(t,e){var i,a,u=n.context(),s=TTk.Vector,l=s.sub(r[2],r[0]),o=s.sub(r[1],r[0]),c=u.scale().ranges(),T=c[0],d=c[1],k=c[2],h=c[_],g=function(n){return[T[0]+n[0]*(T[1]-T[0]),d[0]+n[1]*(d[1]-d[0]),k[0]+n[2]*(k[1]-k[0])]},p=s.mag(g(l)),S=r[2],v=s.scale(o,G(t)-h[0]);if(!F||r[0][1]||r[1][1]){var x=C;"function"==typeof x&&(x=x()),i=g(s.sub(r[0],s.scale(l,m/p))),a=g(s.sub(r[0],s.scale(l,(m+x)/p)))}else i=g(r[0]),a=i;var y=[s.add(i,v),s.add(g(f?S:r[0]),v),s.add(a,v)];return y.key=t,y},B=function(t){var e=n.context();if(0!==t.length){var i=TTk.Vector,r=t[0],a=t[t.length-1],u=e.scale().ranges(),a=TTk.Object.clone(a);a[0][_]=u[_][1],a[1][_]=u[_][1],a[2][_]=u[_][1],t.push(a),r[0][_]=u[_][0],r[1][_]=u[_][0],r[2][_]=u[_][0];for(var s=1;s<t.length;s++)r=t[s-1][2],a=t[s][2],t[s-1][2]=i.add(r,i.scale(i.sub(a,r),.5))}},I=function(){var t=n.context();if(t){var i=TTk.Vector,a=i.sub(r[2],r[0]),u=(i.sub(r[1],r[0]),t.x(),t.y(),t.z(),t.scale().ranges()),l=u[0],o=u[1],c=u[2],T=function(n){return[l[0]+n[0]*(l[1]-l[0]),o[0]+n[1]*(o[1]-o[0]),c[0]+n[2]*(c[1]-c[0])]},d="function"==typeof s?s():s;Z=d.map(function(n,t){var e=i.scale(a,n),u=[i.add(r[0],e),i.add(r[1],e)];return u=u.map(T),u.key=""+t,u}),F&&0===_&&Z.length>1&&(Z=Y(Z[r[0][1]?0:1],30)),e.data(Z),A()}},Y=function(n,t){var e,i,r=TTk.Vector,a=n[0],u=r.sub(n[1],a),s=[];e=a;for(var l=0;l<=t;l++){i=r.add(a,r.scale(u,l/t));var n=[e,i];n.key=l,s.push(n),e=i}return s},A=function(){o.orient(TTk.Vector.sub(r[1],r[0])),i.data(u?[u]:[])};A();var K=function(){var t=n.context();if(t){var e=TTk.Vector,i=e.add(r[0],e.scale(e.sub(r[1],r[0]),.5)),a=e.sub(r[2],r[0]),u=(t.x(),t.y(),t.z(),t.scale().ranges()),s=u[0],l=u[1],o=u[2],c=function(n){return[s[0]+n[0]*(s[1]-s[0]),l[0]+n[1]*(l[1]-l[0]),o[0]+n[2]*(o[1]-o[0])]},d=e.mag(c(a));return c(e.add(i,e.scale(a,-T/d)))}};o.point(K),w.axis=function(n){var n=n||TTk.Vector.sub(r[1],r[0]);return TTk.Vector.axis(n)},w.axisScale=function(t){return n.context().scale().getScales()[w.axis(t)]};var P=function(n){return{visibility:v?"hidden":""}},j=function(){var r=[e,t,i];r.forEach(function(n){n.sort(!1).style(P)}),n.visuals(r)};j();var H=function(){var n=[y,R];b[0]&&n.push(V),b[1]&&n.push(X),h.shapes(n)};H();var N=function(){a.transition(E),o.transition(E),h.transition(E)};return w.grid=function(n){return arguments.length?(r=n,w):r},w.axisVisual=function(n){return arguments.length?(e=n,j(),w):e},w.axisLine=function(n){return arguments.length?(a=n,w):a},w.axisLines=function(n){return arguments.length?(s=n,w):s},w.axisText=function(n){return arguments.length?(u=n,A(),w):u},w.axisLabel=function(n){return arguments.length?(o=n,A(),w):o},w.labelVisual=function(n){return arguments.length?(i=n,j(),w):i},w.labelSpacing=function(n){return arguments.length?(T=n,w):T},w.labelStyle=function(n){return arguments.length?(c=n,w):c},w.labelSize=function(n){return arguments.length?(d=n,w):d},w.showValues=function(n){return arguments.length?(l=n,w):l},w.showLines=function(n){return arguments.length?(f=n,w):f},w.disks=function(n){return arguments.length?(k=n,w):k},w.hideNear=function(n){return arguments.length?(D=n,w):D},w.tickVisual=function(n){return arguments.length?(t=n,j(),w):t},w.tickLine=function(n){return arguments.length?(y=n,H(),w):y},w.tickCount=function(n){return arguments.length?(L=n,w):L},w.tickSize=function(n){return arguments.length?(m=n,w):m},w.serifs=function(n){return arguments.length?(b=n,H(),w):b},w.serifTop=function(n){return arguments.length?(V=n,H(),w):V},w.serifBottom=function(n){return arguments.length?(X=n,H(),w):X},w.valueSpacing=function(n){return arguments.length?(C=n,w):C},w.valueStyle=function(n){return arguments.length?(g=n,w):g},w.valueSize=function(n){return arguments.length?(O=n,w):O},w.valueFilter=function(n){return arguments.length?(p=n,w):p},w.valueFormat=function(n){return arguments.length?(S=n,w):S},w.valueLabel=function(n){return arguments.length?(R=n,w):R},w.transition=function(n){return arguments.length?(E=n,N(),w):E},TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","data","index","genKey","context","hilight","size","autoScale","resizeRender","clip"],w,n),w},TTk.Grid3D.CSS_PREFIX=TTk.CSS_PREFIX+"grid-",TTk.Grid3D.GridSet=function(){var n,t,e=TTk.Visual.MultiVisual().genKey(null),i=[],r=[],a=function(a){var u=t?t.hiData():null,s=e.visuals();return s.forEach(function(t){t.hideNear(n);var e=t.axis();i[e]&&(u&&u.length?t.valueFilter(function(n){var t="";return u.some(function(i){if(n===i[e])return t=n,!0}),t}):t.valueFilter(i[e])),r[e]&&t.tickLine().style(r[e])}),e(a)};return a.grids=function(n){return arguments.length?(e.visuals(n),a):e.visuals()},a.adaptive=function(t){return arguments.length?(n=t,a):n},a.hilight=function(n){return arguments.length?(t=n,a):t},a.valueFilters=function(n){return arguments.length?(i=n,a):i},a.lineStyles=function(n){return arguments.length?(r=n,a):r},TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","data","index","genKey","context","hilight","size","autoScale","resizeRender","clip"],a,e),a},TTk.Grid3D.XY=function(){var n=TTk.Grid3D.GridSet(),t=TTk.Grid3D.Grid,e=[t.X_FLOOR,t.Y_FLOOR2].map(function(n){return TTk.Grid3D().grid(n)});return n.grids(e),n},TTk.Grid3D.Floor=function(){var n=TTk.Grid3D.GridSet(),t=TTk.Grid3D.Grid,e=[t.X_FLOOR,t.Y_FLOOR,t.X_FLOOR2,t.Y_FLOOR2].map(function(n){return TTk.Grid3D().grid(n)});return n.grids(e).adaptive(!0),n},TTk.Grid3D.Minimal=function(){var n=TTk.Grid3D.GridSet(),t=TTk.Grid3D.Grid,e=[t.X_BACK,t.Z_BACK,t.Y_LEFT,t.Z_LEFT,t.X_FLOOR,t.Y_FLOOR].map(function(n){return TTk.Grid3D().grid(n)});return e[0].axisLines([0]).showValues(!1).showLines(!1).tickSize(0),e[2].axisLines([0]).showValues(!1).showLines(!1).tickSize(0),e[3].axisLines([0]),e[4].showLines(!1),e[5].showLines(!1),e[1].valueFilter(function(n,t){return 0!==t}),e[3].valueFilter(function(n,t){return 0!==t}),n.grids(e),n},TTk.Grid3D.HalfBox=function(){var n=TTk.Grid3D.GridSet(),t=TTk.Grid3D.Grid,e=[t.X_BACK,t.Z_BACK,t.Y_LEFT,t.Z_LEFT,t.X_FLOOR,t.Y_FLOOR].map(function(n){return TTk.Grid3D().grid(n)});return e[0].axisLines([0]),e[2].axisLines([0]),e[3].axisLines([0]),e[0].valueFilter(function(n,t){return 0!==t}),e[1].valueFilter(function(n,t){return 0!==t}),e[3].valueFilter(function(n,t){return 0!==t}),n.grids(e),n},TTk.Grid3D.FullBox=function(){var n=TTk.Grid3D.GridSet(),t=TTk.Grid3D.Grid,e=[t.X_BACK,t.X_FRONT,t.Y_LEFT,t.Y_RIGHT,t.Z_BACK,t.Z_BACK2,t.Z_FRONT,t.Z_FRONT2,t.Z_LEFT,t.Z_LEFT2,t.Z_RIGHT,t.Z_RIGHT2,t.X_FLOOR,t.Y_FLOOR,t.X_FLOOR2,t.Y_FLOOR2].map(function(n){return TTk.Grid3D().grid(n)});return e[0].axisLines([]).showValues(!1).tickSize(0),e[1].axisLines([]).showValues(!1).tickSize(0),e[2].axisLines([]).showValues(!1).tickSize(0),e[3].axisLines([]).showValues(!1).tickSize(0),n.grids(e),n},TTk.Grid3D.Grid={X_BACK:[[0,1,1],[1,1,1],[0,1,0],[0,1,0]],Z_BACK:[[1,1,0],[1,1,1],[0,1,0],[0,1,0]],Z_BACK2:[[0,1,0],[0,1,1],[1,1,0],[0,1,0]],X_FRONT:[[0,0,0],[1,0,0],[0,0,1],[0,-1,0]],Z_FRONT:[[0,0,0],[0,0,1],[1,0,0],[0,-1,0]],Z_FRONT2:[[1,0,0],[1,0,1],[0,0,0],[0,-1,0]],Y_LEFT:[[0,0,1],[0,1,1],[0,0,0],[-1,0,0]],Z_LEFT:[[0,0,0],[0,0,1],[0,1,0],[-1,0,0]],Z_LEFT2:[[0,1,0],[0,1,1],[0,0,0],[-1,0,0]],Y_RIGHT:[[1,0,0],[1,1,0],[1,0,1],[1,0,0]],Z_RIGHT:[[1,0,0],[1,0,1],[1,1,0],[1,0,0]],Z_RIGHT2:[[1,1,0],[1,1,1],[1,0,0],[1,0,0]],X_FLOOR:[[0,0,0],[1,0,0],[0,1,0],[0,0,-1]],Y_FLOOR:[[1,0,0],[1,1,0],[0,0,0],[0,0,-1]],X_FLOOR2:[[0,1,0],[1,1,0],[0,0,0],[0,0,-1]],Y_FLOOR2:[[0,0,0],[0,1,0],[1,0,0],[0,0,-1]],X_CEIL:[[0,0,1],[1,0,1],[0,1,1],[0,0,1]],Y_CEIL:[[1,0,1],[1,1,1],[0,0,1],[0,0,1]]},TTk.Grid3D.Radial=function(){var n=TTk.Grid3D.GridSet(),t=TTk.Grid3D.Grid,e=[t.Z_RIGHT2,t.X_FLOOR2].map(function(n){return TTk.Grid3D().grid(n)});return e[1].tickCount(36),n.grids(e),n},TTk.BGGrid=function(){var n=8,t="#111",e=1,i=function(i){var r=i.node().getBoundingClientRect(),a=r.width,u=r.height,s=d3.scale.linear().domain([0,1]).range([0,a]),l=d3.scale.linear().domain([0,1]).range([u,0]),o=TTk.CSS_PREFIX+"vGrid";i.selectAll("line."+o).data(s.ticks(n)).enter().append("line").attr({class:o,y1:0,y2:u,x1:function(n){return s(n)},x2:function(n){return s(n)},fill:"none","shape-rendering":"crispEdges",stroke:t,"stroke-width":e+"px"});var c=TTk.CSS_PREFIX+"hGrid";i.selectAll("line."+c).data(l.ticks(n)).enter().append("line").attr({class:c,x1:0,x2:a,y1:function(n){return l(n)},y2:function(n){return l(n)},fill:"none","shape-rendering":"crispEdges",stroke:t,"stroke-width":e+"px"})};return i.ticks=function(t){return arguments.length?(n=t,i):n},i.color=function(n){return arguments.length?(t=n,i):t},i.weight=function(n){return arguments.length?(e=n,i):e},i},TTk.StyleSheet.set(".ttk-grid-axis",{stroke:"#CCC8CB","stroke-width":1,fill:"none"}),TTk.StyleSheet.set(".ttk-grid-tick line",{stroke:"#CCC8CB","stroke-width":1}),TTk.StyleSheet.set(".ttk-grid-tick text",{fill:"#878C90","font-family":"sans-serif","font-size":"12px"}),TTk.StyleSheet.set(".ttk-grid-label",{fill:"#878C90","font-family":"sans-serif","font-size":"13px"});
},{"../core/math.js":67,"../core/number.js":68,"../core/ttk.js":73,"../core/utils.js":75,"./shape-element.js":88,"./shape-multi.js":89}],85:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var d3ease=_dereq_("d3-ease"),TTk=_dereq_("../core/ttk.js");_dereq_("../core/math.js"),_dereq_("./interact.js"),TTk.Interact.MouseWheel=function(){var e,n="ttkwheel",t=d3.dispatch("wheel"),r="onwheel"in document?(e=function(){return d3.event.deltaY*(d3.event.deltaMode?120:1)},"wheel"):"onmousewheel"in document?(e=function(){return-d3.event.wheelDelta},"mousewheel"):(e=function(){return d3.event.detail},"MozMousePixelScroll"),o=function(e){e.on(r+"."+n,a)};o.detach=function(e){e.on(r+"."+n,null)};var a=function(){var n=e();t.wheel({delta:n})};return o.on=function(e,n){return t.on(e,n),o},o.namespace=function(e){return arguments.length?(n=e,o):n},o},TTk.Interact.Drag=function(){var e,n,t,r,o,a,c,i,d,u,l="ttkdrag",f=5,s=30,h=500,v=d3ease.easeQuadOut,g=d3.dispatch("drag","dragstart","dragend","click"),T=function(n){if(d3.event=d3.event||{x:0,y:0},t=[d3.event.x,d3.event.y],!e)return e=a=t,void(r=o=Date.now());if(TTk.Vector.dist(e,t)>=f){c||g.dragstart.call(this,n),c=!0,g.drag.call(this,n);var i=Date.now();i-o>100&&(r=o,e=a,o=i,a=t)}},k=function(e){},x=function(r){n=e,e=null,a=null,o=null,c?(c=!1,h?m.call(this,r):g.dragend.call(this,r)):(d3.event=i||{},d3.event.x=t[0],d3.event.y=t[1],g.click.call(this,r))},m=function(o){var a=this;if(!e){var c=Date.now();if(n)d=TTk.Vector.sub(t,n),d=TTk.Vector.scale(d,s/Math.max(10,c-r)),u=TTk.Vector.mag(d)*h/20,r=c,n=null;else{var i=(c-r)/u;if(i>1)return void g.dragend.call(a,o);var l=1-v(i),f=TTk.Vector.scale(d,l),T=TTk.Vector.add(t,f);d3.event={x:T[0],y:T[1],dx:f[0],dy:f[1]},g.drag.call(a,o)}setTimeout(m.bind(a),s,o)}},p=d3.behavior.drag().on("drag."+l,T).on("dragstart."+l,k).on("dragend."+l,x),w=function(e){e.call(p),e.on("mousedown."+l,function(){i={};for(var e in d3.event)"webkitMovementX"!==e&&"webkitMovementY"!==e&&(i[e]=d3.event[e]);t=[i.x,i.y]})};return w.detach=function(e){e.on(".drag",null),e.on("mousedown."+l,null)},w.on=function(e,n){return g.on(e,n),w},w.namespace=function(e){return arguments.length?(l=e,w):l},w.threshold=function(e){return arguments.length?(f=e,w):f},w.period=function(e){return arguments.length?(s=e,w):s},w.easePeriod=function(e){return arguments.length?(h=e,w):h},w.origin=function(e){return arguments.length?(p.origin(e),w):p.origin()},w.base=function(e){return arguments.length?(p.base(e),w):p.base()},w},TTk.Interact.ForceNet=function(){var e,n,t,r,o,a=!0,c=.03,i=.01,d=TTk.Interact.Drag().namespace("force").easePeriod(0).on("dragstart.force",function(e){e.forceNode.fixed|=2}).on("drag.force",function(e){var o=r.translate(),a=n.invert(d3.event.x-o[0]),c=t.invert(d3.event.y-o[1]);e.forceNode.px=a,e.forceNode.py=c,u()}).on("dragend.force",function(e){e.forceNode.fixed=!!a||e.forceNode.fixed&-7}).on("click.force",function(e){a&&e.forceNode.fixed&&(e.forceNode.fixed=!1,u())}),u=function(){e.alphaThreshold(i),e.layout().alpha(c)},l=function(a){e=a,e.nodes().enter(function(e){e.call(d)}),n=e.context().x(),t=e.context().y(),r=e.context().transform(),o=e.alphaThreshold(),e.layout().on("end.interact",function(){e.alphaThreshold(o)})};return l.drag=function(e){return arguments.length?(d=e,l):d},l.pinNodes=function(e){return arguments.length?(a=e,l):a},l.startAlpha=function(e){return arguments.length?(c=e,l):c},l.stopAlpha=function(e){return arguments.length?(i=e,l):i},l};
},{"../core/math.js":67,"../core/ttk.js":73,"./interact.js":87,"d3":8,"d3-ease":7}],86:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");_dereq_("./interact.js"),TTk.Interact.Transform=function(){var t,n,r,e,a,o,c=1,i=1,s=!0,u=!0,l=!0,h=d3.dispatch("start","stop","change","click"),f=function(){n||(n=TTk.Interact.Drag().easePeriod(0).on("dragstart.ttktransform",d).on("drag.ttktransform",g).on("dragend.ttktransform",m).on("click.ttktransform",h.click));var r=this.node().getBoundingClientRect();e=r.width,a=r.height,this.call(n),(s||u)&&(o||(o=d3.behavior.zoom().scaleExtent([.1,10]).scale(t.scale()).translate(t.origin()).on("zoom.ttktransform",k)),this.call(o),l||this.on("mousewheel.zoom",null).on("DOMMouseScroll.zoom",null).on("wheel.zoom",null))};f.isInteracting=function(){return!!r},f.on=function(t,n){return h.on(t,n),f};var d=function(){r=[d3.mouse(this),t.yaw(),t.pitch()],h.start()},g=function(){if(r){var n=d3.mouse(this),o=r[1]-(n[0]-r[0][0])*c/(e/2),s=TTk.Math.clamp(r[2]+(n[1]-r[0][1])*i/(a/2),-Math.PI/2,Math.PI/2);t.yaw(o),t.pitch(s),h.change()}},m=function(){r=!1,h.stop()},k=function(){if(s&&t.scale(d3.event.scale),u){var n=d3.event.translate,r=t.origin();t.translate([0===c?n[0]-r[0]:0,0===i?n[1]-r[1]:0,0])}(s||u)&&h.change()};return f.transform=function(n){return arguments.length?(t=n,f):t},f.dYaw=function(t){return arguments.length?(c=t,f):c},f.dPitch=function(t){return arguments.length?(i=t,f):i},f.scale=function(t){return arguments.length?(s=t,f):s},f.translate=function(t){return arguments.length?(u=t,f):u},f.wheel=function(t){return arguments.length?(l=t,f):l},f},TTk.Interact.Transform2D=function(){var t=TTk.Interact.Transform().dYaw(0).dPitch(0);return t};
},{"../core/ttk.js":73,"./interact.js":87,"d3":8}],87:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");TTk.Interact={};
},{"../core/ttk.js":73}],88:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");_dereq_("../core/utils.js"),_dereq_("./shape.js"),TTk.Shape.PointShape=function(){var t=TTk.Shape.SVGShape().centroid(function(e,o){var r=t.context(),a=n(e,o),c=t.dataModify&&t.dataModify(),a=c?c(a,o):a;return r.stage2(a)}),n=function(t){return t.point};return t.point=function(e){return arguments.length?(n=e,t):n},t},TTk.Shape.Element=function(){var t,n=TTk.Shape.PointShape().point(function(t){return"string"==typeof e[0]?t:t[0]}),e=["x","y"],o=function(o){var r,a,c=n.context(),i=n.contextFn(),u=n.offset(),f="function"==typeof u&&u,s=n.transition(),l=n.style();o.each(function(o,h){f&&(u=f(o,h)),a=n.attrs()(o,h);var p=d3.select(this),T=t?t(o,h):o;"string"==typeof e[0]?(r=n.point()(T,h),r=i?c[i](r):c(r),u&&(r=TTk.Vector.add(r,u)),a[e[0]]=r[0],a[e[1]]=r[1]):e.forEach(function(t,n){r=i?c[i](T[n]):c(T[n]),u&&(r=TTk.Vector.add(r,u)),a[t[0]]=r[0],a[t[1]]=r[1]}),p=s(p),p.attr(a),l&&p.style(l(o,h))})};return o.coords=function(t){return arguments.length?(e=t,o):e},o.dataModify=function(n){return arguments.length?(t=n,o):t},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","attrs","style","point"],o,n),o},TTk.Shape.Line=function(){var t=TTk.Shape.Element().tag("line").cls(TTk.Shape.CSS_PREFIX+"line").coords([["x1","y1"],["x2","y2"]]);return t},TTk.Shape.Circle=function(){var t,n,e,o=TTk.Shape.Element().tag("ellipse").cls(TTk.Shape.CSS_PREFIX+"disk").point(function(t){return t.point}).coords(["cx","cy"]).attrs(function(c){return e&&(t=r(c)),n=a?Math.abs(Math.sin(o.context().transform().pitch())):1,{r:t,rx:t,ry:t*n}}),r=5,a=!1,c=function(n){t=r,e="function"==typeof r,n.call(o)};return c.radius=function(t){return arguments.length?(r=t,c):r},c.isDisk=function(t){return arguments.length?(a=t,c):a},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","dataModify","offset","transition","point","attrs","style"],c,o),c},TTk.Shape.Arc=function(){var t=TTk.Shape.PointShape().tag("path").cls(TTk.Shape.CSS_PREFIX+"arc").point(TTk.identity).attrs(function(u){var f=TTk.Vector,s="function"==typeof n?n(u):n,l="function"==typeof e?e(u):e,h="function"==typeof o?o(u):o,p="function"==typeof r?r(u):r,T="function"==typeof a?a(u):a,S=t.context()(t.point()(u)),y=[0,-s],k=f.rotate(y,l[0]),g=f.rotate(y,l[1]),d=f.add(S,k),x=f.add(S,g),v=s*(1-p+h*p),m=s*(p+1/h*(1-p)),P=TTk.Math.mod(l[1]-l[0],2*Math.PI),E=!0,F=P>Math.PI,u="M"+d+"A"+v+" "+m+","+TTk.Math.toDegrees(T)+","+(F?1:0)+","+(E?1:0)+","+x+(i?(c?"":"L"+S)+"Z":"");return{d:u}}),n=20,e=[-Math.PI/2,Math.PI/2],o=1,r=.5,a=0,c=!0,i=!0;return t.radius=function(e){return arguments.length?(n=e,t):n},t.angles=function(n){return arguments.length?(e=n,t):e},t.aspect=function(n){return arguments.length?(o=n,t):o},t.bias=function(n){return arguments.length?(r=n,t):r},t.rotate=function(n){return arguments.length?(a=n,t):a},t.chord=function(n){return arguments.length?(c=n,t):c},t.closed=function(n){return arguments.length?(i=n,t):i},t},TTk.Shape.Box=function(){var t=TTk.Shape.PointShape().tag("rect").cls(TTk.Shape.CSS_PREFIX+"box").attrs(function(r,a){var c="function"==typeof n?n(r):n,i="function"==typeof e?e(r):e,u="function"==typeof o?o(r):o,f=t.point()(r),s=t.contextFn(),l=t.context();s&&(l=l[s]),f=l(f);var h=t.offset()||[0,0];return"function"==typeof h&&(h=h(r,a)),{x:f[0]-c*u[0]+h[0],y:f[1]-i*u[1]+h[1],width:c,height:i}}),n=30,e=30,o=[.5,.5];return t.width=function(e){return arguments.length?(n=e,t):n},t.height=function(n){return arguments.length?(e=n,t):e},t.align=function(n){return arguments.length?(o=n,t):o},t},TTk.Shape.Glyph2D=function(){var t=TTk.Shape.PointShape().tag("path").cls(TTk.Shape.CSS_PREFIX+"glyph"),n=TTk.Glyph2D.SQUARE,e=[10,10],o=[.5,.5],r=0,a=TTk.AxisRotation().axis([0,0,1]);return t.attrs(function(c,i){var u=TTk.Vector,f=t.point()(c);f=t.context().applyScale(f);var s=t.offset()||[0,0];"function"==typeof s&&(s=s(c,i));var l=u.add(t.context().noScale(f),s),h="function"==typeof n?n(c,i):n,p="function"==typeof r?r(c,i):r,T="function"==typeof o?o(c,i):o;T=u.sub(T,[.5,.5]);var S="function"==typeof e?e(c,i):e;a.angle(p);var y="M"+h.map(function(n){return n=u.mult(n,S),n=u.add(n,T),n=u.add(f,n),n=t.context().noScale(n),n=u.add(n,s),n=u.sub(n,l),n=a([n[0],n[1],0]),n=u.add(n,l),""+n}).join("L")+"Z";return{d:y}}),t.glyph=function(e){return arguments.length?(n=e,t):n},t.unit=function(n){return arguments.length?(e=n,t):e},t.align=function(n){return arguments.length?(o=n,t):o},t.orient=function(n){return arguments.length?(r=n,t):r},t},TTk.Shape.Path=function(){var t,n=TTk.Shape.PointShape().tag("path").cls(TTk.Shape.CSS_PREFIX+"path").attrs(function(e,o){var r=n.point()(e);r=n.context().applyScale(r);var a=n.offset()||[0,0];"function"==typeof a&&(a=a(e,o));var c=t.slice();return c=c.map(function(t){if("string"==typeof t)return t;var e=TTk.Vector.add(r,t);return e=n.context().noScale(e),e=TTk.Vector.add(e,a)}),r=n.context().noScale(r),r=TTk.Vector.add(r,a),c="M "+r+" "+c.join(" "),{d:c}});return n.pathDef=function(e){return arguments.length?(t=e,n):t},n},TTk.Shape.Text=function(){var t,n=TTk.Shape.PointShape().tag("text").cls(TTk.Shape.CSS_PREFIX+"txt").attrs(function(e,o){var c=n.point()(e,o),i=n.contextFn(),u=n.context();i&&(u=u[i]);var f={},s=0;if(t){var l="noScale"===i?c:n.context().scale()(c),h="function"==typeof t?t(e,o):t,p=TTk.Vector.add(l,h);l=n.context().noScale(l),p=n.context().noScale(p),s=TTk.Vector.angleBetween([1,0,0],TTk.Vector.sub(p,l))}c=u(c);var T=n.offset()||[0,0];"function"==typeof T&&(T=T(e,o)),f.x=c[0]+T[0],f.y=c[1]+T[1],f["xml:space"]=r?"preserve":null;var S="function"==typeof a?a(e,o):a;return f["text-anchor"]=0===S[0]?"end":1===S[0]?"start":"middle",f.dy=.7*S[1]+"em",f.transform=s?"rotate("+180*s/Math.PI+" "+f.x+" "+f.y+")":null,f}).offset([0,0]),e=function(t){return t.key},o=!1,r=!1,a=[1,0],c=function(t){var r=n.transition(),a=n.style();t[o?"html":"text"](e),t.each(function(t,e){var o=r(d3.select(this)),c=n.attrs()(t,e);o.attr(c),a&&o.style(a(t))})};return c.text=function(t){return arguments.length?(e=t,c):e},c.html=function(t){return arguments.length?(o=t,c):o},c.space=function(t){return arguments.length?(r=t,c):r},c.align=function(t){return arguments.length?(a=t,c):a},c.orient=function(n){return arguments.length?(t=n,c):t},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","point","attrs","style"],c,n),c},TTk.StyleSheet.set(".ttk-shp-txt",{fill:"#878c90","font-family":"sans-serif"}),TTk.Shape.TextArea=function(){var t,n=TTk.Shape.Text(),e=50,o=1.2,r=" ",a=function(a){var c=n.transition(),i=n.style(),u=(n.align(),n.text()),f="function"==typeof u,s="function"==typeof e,l="function"==typeof t;a.each(function(a){var h=c(d3.select(this)),p=n.attrs()(a),T=s?e(a):e,S=l?t(a):t,y=TTk.Utils.wrapText(f?u(a):u,T,r);S&&(y=y.slice(0,S));var k=h.selectAll("tspan").data(y,function(t,n){return n});k.enter().append("tspan"),k.exit().remove(),k.text(function(t){return t}).each(function(t,n){d3.select(this).attr({x:p.x,dy:0===n?0:o+"em"})}),h.attr(p),i&&h.style(i(a))})};return a.columns=function(t){return arguments.length?(e=t,a):e},a.rows=function(n){return arguments.length?(t=n,a):t},a.lineHeight=function(t){return arguments.length?(o=t,a):o},a.delim=function(t){return arguments.length?(r=t,a):r},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","point","attrs","style","text","align","orient"],a,n),a},TTk.Shape.Stock=function(){var t=TTk.Shape.PointShape().tag("line").cls(TTk.Shape.CSS_PREFIX+"stock").point(function(t){return t}).attrs(function(e,o){var r=n(e,o).map(t.context().noScale),a=t.offset()||[0,0];"function"==typeof a&&(a=a(e,o));var c={};return c.x1=r[0][0]+a[0],c.y1=r[0][1]+a[1],c.x2=r[1][0]+a[0],c.y2=r[1][1]+a[1],c}).centroid(function(e,o){var r=n(e,o),a=t.context();return r=r.map(a.space()),r=r.map(a.transform()),TTk.Polygon.centroid(r)}),n=function(n,r){var a=t.point()(n,r),c=t.contextFn(),i=t.context(),u=t.context().x(),f=TTk.Scale.rangeExtent(u),s=t.context().y(),l=TTk.Scale.rangeExtent(s),h=t.context().z();c&&(i=i[c]);var a="noScale"===c?a:t.context().scale()(a),p=u.categoric?(f[1]-f[0])/u.domain().length:0,T=s.categoric?(l[1]-l[0])/s.domain().length:0,S=h(e);return Math.abs(a[2]-S)<o&&(S=a[2]-o),[[a[0]+p/2,a[1]+T/2,S],[a[0]+p/2,a[1]+T/2,a[2]]]},e=0,o=1,r=function(n){n.call(t)};return r.baseValue=function(t){return arguments.length?(e=t,r):e},r.stockmin=function(t){return arguments.length?(o=t,r):o},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","point","attrs","style"],r,t),r},TTk.Shape.Image=function(){var t=TTk.Shape.PointShape().tag("image").cls(TTk.Shape.CSS_PREFIX+"image").attrs(function(c,i){var u="function"==typeof n?n(c,i):n,f="function"==typeof e?e(c,i):e,s="function"==typeof o?o(c,i):o,l="function"==typeof a?a(c,i):a,h="function"==typeof r?r(c,i):r,p=t.point()(c,i);p=t.context()(p);var T=t.offset()||[0,0];return"function"==typeof T&&(T=T(c,i)),{x:p[0]-u*h[0]+T[0],y:p[1]-f*h[1]+T[1],width:u,height:f,"xlink:href":s,preserveAspectRatio:l?"none":null}}),n=30,e=30,o="",r=[.5,.5],a=!1,c=function(n){n.call(t)};return c.width=function(t){return arguments.length?(n=t,c):n},c.height=function(t){return arguments.length?(e=t,c):e},c.align=function(t){return arguments.length?(r=t,c):r},c.href=function(t){return arguments.length?(o=t,c):o},c.stretch=function(t){return arguments.length?(a=t,c):a},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","point","attrs","style"],c,t),c},TTk.StyleSheet.set(".ttk-shp-stock",TTk.Shape.CSS_STROKE_STYLE,{fill:"none",stroke:"#AAA","stroke-width":6}),TTk.StyleSheet.set(".ttk-shp-disk, .ttk-shp-arc",TTk.Shape.CSS_STROKE_STYLE,{fill:"silver",stroke:"#777"});
},{"../core/ttk.js":73,"../core/utils.js":75,"./shape.js":91,"d3":8}],89:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");_dereq_("./constants.js"),_dereq_("./shape.js");var multiShapeCount=0;TTk.Shape.Multi=function(){var t,n,e=TTk.Shape.SVGShape().tag("g").cls(TTk.Shape.CSS_PREFIX+"multi").centroid(function(t){return e.context().stage2(r(t))}),r=function(t){return t.point},o=[],i=!0,c=TTk.Shape.CSS_PREFIX+"sub",a=multiShapeCount++,s=function(s){var u=o,h="function"==typeof o;h||l(u),s.each(function(s,f){var p=d3.select(this),T=e.offset();if(T){"function"==typeof T&&(T=T(s));var S=p.attr("transform")?e.transition()(p):p;S.attr("transform","translate("+T[0]+","+T[1]+")")}h&&(u=o(s),l(u));var g=u.map(function(t,n){var o={shape:t,point:r(s,f),key:e.key()(s)+":"+n,iPanel:n,iSel:f,d:s};return o});if(i){var k=e.context().transform().origin().slice();k[2]=-1e4,g.forEach(function(t){t.centroid=t.shape.centroid()(t),t.dist=TTk.Vector.dist(k,t.centroid)})}var x=p.selectAll("."+c+a),x=p.selectAll("."+c+a).data(g,function(t){return t.key}),y=x.enter().append(function(t){return document.createElementNS("http://www.w3.org/2000/svg",t.shape.tag())}).attr("class",function(t){return c+" "+c+a+" "+t.shape.cls()+" "+(("function"==typeof t.shape.classes()?t.shape.classes()(s,t):t.shape.classes())||"")});t&&t(y);var d=x.exit();n&&n(d),d.remove(),i&&x.sort(function(t,n){return n.dist-t.dist});var v=e.style();x.each(function(t){var n=d3.select(this),e=t.shape.style();v&&t.shape.style(e?function(t,n){var r="function"==typeof v?v(t,n):v,o="function"==typeof e?e(t,n):e;return r&&o?Object.assign(r,o):r||o}:v),n.call(t.shape),v&&t.shape.style(e)})})},u=function(){Array.isArray(o)&&l(o)},l=function(t){t.forEach(function(t){t.context(e.context()),t.transition(e.transition())})};return s.point=function(t){return arguments.length?(r=t,s):r},s.shapes=function(t){return arguments.length?(o=t,u(),s):o},s.zSort=function(t){return arguments.length?(i=t,s):i},s.context=function(t){return arguments.length?(e.context(t),u(),s):e.context()},s.transition=function(t){return arguments.length?(e.transition(t),u(),s):e.transition()},s.style=function(t){return arguments.length?(e.style(t),u(),s):e.style()},s.enter=function(n){return arguments.length?(t=n,s):t},s.exit=function(t){return arguments.length?(n=t,s):n},TTk.Utils.copyGetSet(["key","tag","cls","classes","centroid","contextFn","offset","attrs"],s,e),s},TTk.Shape.Bar=function(){var t=TTk.Shape.Multi().cls(TTk.Shape.CSS_PREFIX+"bar").centroid(function(n){var e=t.point()(n),r=[e[0],e[1],t.context().scale().z().domain()[0]];return t.context().stage2(r)}),n=[30,30],e=TTk.Glyph2D.SQUARE,r=!0,o=!0,i=!0,c=function(n){n.call(t)},a=function(){for(var c=[],a=0;a<e.length;a++)c.push([e[a],e[(a+1)%e.length]]);var s=i?c.map(function(e){return TTk.Shape.Poly().cls(TTk.Shape.CSS_PREFIX+"panel").closed(!0).contextFn("noScale").vertices(function(r){var o=t.context().scale()(r.point),i=t.context().scale().z().range()[0];return[[e[0][0],e[0][1],1],[e[1][0],e[1][1],1],[e[1][0],e[1][1],0],[e[0][0],e[0][1],0]].map(function(t){return[o[0]+t[0]*n[0],o[1]+t[1]*n[1],t[2]?o[2]:i]})})}):[],u=[];o&&u.push(0),r&&u.push(1),s=s.concat(u.map(function(r){return TTk.Shape.Poly().cls(TTk.Shape.CSS_PREFIX+"panel").closed(!0).contextFn("noScale").vertices(function(o){var i=t.context().scale()(o.point),c=t.context().scale().z().range()[0];return e.map(function(t){return[i[0]+t[0]*n[0],i[1]+t[1]*n[1],r?i[2]:c]})})})),t.shapes(s)};return a(),c.unit=function(t){return arguments.length?(n=t,c):n},c.base=function(t){return arguments.length?(e=t,a(),c):e},c.ceil=function(t){return arguments.length?(r=t,a(),c):r},c.floor=function(t){return arguments.length?(o=t,a(),c):o},c.walls=function(t){return arguments.length?(i=t,a(),c):i},TTk.Utils.copyGetSet(["key","tag","cls","classes","point","context","centroid","contextFn","offset","transition","attrs","style","enter","exit"],c,t),c},TTk.Shape.Glyph3D=function(){var t=TTk.Shape.Multi().cls(TTk.Shape.CSS_PREFIX+"glyph"),n=[30,30,30],e=TTk.Glyph3D.CUBE,r=function(n){n.call(t)},o=function(){var r=e.map(function(e){return TTk.Shape.Poly().cls(TTk.Shape.CSS_PREFIX+"panel").closed(!0).contextFn("noScale").vertices(function(r){var o=t.context().scale()(r.point);return e.map(function(t){return o.map(function(e,r){return e+t[r]*n[r]})})})});t.shapes(r)};return o(),r.unit=function(t){return arguments.length?(n=t,o(),r):n},r.glyph=function(t){return arguments.length?(e=t,o(),r):e},TTk.Utils.copyGetSet(["key","tag","cls","classes","point","context","centroid","contextFn","offset","transition","attrs","style","enter","exit"],r,t),r},TTk.Shape.TextBox=function(){var t=TTk.Shape.Multi().cls(TTk.Shape.CSS_PREFIX+"txbox").zSort(!1),n=TTk.Shape.Text(),e=TTk.Shape.Box(),r=function(n){n.call(t)},o=function(){t.shapes([e,n])};return o(),r.text=function(t){return arguments.length?(n=t,o(),r):n},r.box=function(t){return arguments.length?(e=t,o(),r):e},r.width=function(t){return arguments.length?(e.width(t),r):e.width()},r.height=function(t){return arguments.length?(e.height(t),r):e.height()},TTk.Utils.copyGetSet(["key","tag","cls","classes","point","context","centroid","contextFn","offset","transition","attrs","style","enter","exit"],r,t),r},TTk.Shape.ImageBox=function(){var t=TTk.Shape.Multi().cls(TTk.Shape.CSS_PREFIX+"imgbox").zSort(!1),n=TTk.Shape.Image(),e=TTk.Shape.Box(),r=function(n){n.call(t)},o=function(){t.shapes([e,n])};return o(),r.image=function(t){return arguments.length?(r=t,o(),r):n},r.box=function(t){return arguments.length?(e=t,o(),r):e},r.width=function(t){return arguments.length?(e.width(t),r):e.width()},r.height=function(t){return arguments.length?(e.height(t),r):e.height()},TTk.Utils.copyGetSet(["key","tag","cls","classes","point","context","centroid","contextFn","offset","transition","attrs","style","enter","exit"],r,t),r},TTk.StyleSheet.set(".ttk-shp-panel",TTk.Shape.CSS_STROKE_STYLE,{fill:"silver","fill-opacity":.5,stroke:"grey"});
},{"../core/ttk.js":73,"./constants.js":78,"./shape.js":91,"d3":8}],90:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");_dereq_("./shape.js"),TTk.Shape.Poly=function(){var t,e=TTk.Shape.SVGShape().tag("path").cls(TTk.Shape.CSS_PREFIX+"poly").centroid(function(t){var r=e.context();return"noScale"===e.contextFn()?TTk.Polygon.centroid(n(t).map(r.transform())):TTk.Polygon.centroid(n(t).map(r.stage2))}),n=TTk.identity,r=TTk.identity,o=!1,i=!1,a=!0,s=[!0,!0,!0],c=0,l=function(l){var u,T,f,h,d=e.contextFn(),p=e.context(),S=e.transition(),k=e.style(),g=d?p[d]:p,y="function"==typeof c?c:function(t){return[t[0],t[1],c]};l.each(function(c,l){f=e.attrs()(c),T=S(d3.select(this)),h=n(c,l),u="";var d,p,v,x,m,P,F="",A=0;if(h){var R=[],E=!0;if(h.forEach(function(t,e){return t=r(t,e,l),x=d,d=g(t),p=p||d,isFinite(d[0])&&isFinite(d[1])?(v=d,m||(m=t),P=t,u+=(E?" M ":" L ")+d[0]+","+d[1],c&&c.polyStrokePattern&&x&&(A+=TTk.Vector.dist(d,x),c.polyStrokePattern[(e-1)%c.polyStrokePattern.length]&&(F+=A+",",A=0)),R.push(d),void(E=!1)):void(E=!0)}),t&&(u=d3.svg.line().interpolate(t)(R)),c&&c.polyStrokePattern&&p!==d&&(A+=TTk.Vector.dist(d,p),F+=A),i){var L="";if(a){if(m){L+=" M "+v[0]+","+v[1];var M=g(y(P));L+=" L "+M[0]+","+M[1];var V=g(y(m));L+=" L "+V[0]+","+V[1],s[0]&&s[1]&&s[2]||(s[2]||(F+="0"),A=TTk.Vector.dist(M,v),s[1]!==s[2]&&(F+=" "+A,A=0),A+=TTk.Vector.dist(M,V),s[0]!==s[1]&&(F+=" "+A,A=0),A+=TTk.Vector.dist(V,p),F+=" "+A,s[0]||(F+=" 1000000"))}}else{var E=!0;h.reverse(),h.forEach(function(t,e){return t=r(t,h.length-e-1,l),d=g(y(t)),isFinite(d[0])&&isFinite(d[1])?(L+=(E?" M ":" L ")+d[0]+","+d[1],void(E=!1)):void(E=!0)}),h.reverse()}var _=u.indexOf("M");u=L+" L "+u.substring(_+1)}!o&&!i||c&&c.polyOpenEnded||(u+=" Z")}f.d=u,T.attr(f);var G={};k&&(G=k(c,l)),F&&(G["stroke-dasharray"]=F),c&&c.polyNoStroke&&(G.stroke="none"),T.style(G)})};return l.vertices=function(t){return arguments.length?(n=t,l):n},l.vertexPoint=function(t){return arguments.length?(r=t,l):r},l.closed=function(t){return arguments.length?(o=t,l):o},l.walled=function(t){return arguments.length?(i=t,l):i},l.simpleWall=function(t){return arguments.length?(a=t,l):a},l.wallStroke=function(t){return arguments.length?(s=t,l):s},l.baseValue=function(t){return arguments.length?(c=t,l):c},l.interpolate=function(e){return arguments.length?(t=e,l):t},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","attrs","style"],l,e),l},TTk.StyleSheet.set(".ttk-shp-poly",TTk.Shape.CSS_STROKE_STYLE,{fill:"none",stroke:"#AAA"}),TTk.Shape.Area=function(){var t,e=TTk.Shape.SVGShape().tag("path").cls(TTk.Shape.CSS_PREFIX+"area").centroid(function(t){var o=e.context(),i=n(t)||r(t);return"noScale"===e.contextFn()?TTk.Polygon.centroid(i.map(o.transform())):TTk.Polygon.centroid(i.map(o.stage2))}),n=function(t){return t.upper},r=function(t){return t.lower},o=function(o){var i,a,s,c,l,u,T=e.contextFn(),f=e.context(),h=e.transition(),d=e.style(),p=T?f[T]:f,S=f.scale().x().domain(),k=f.scale().y().domain();o.each(function(o){s=e.attrs()(o),a=h(d3.select(this)),i="",c=n(o)||[[S[0],k[1]],[S[1],k[1]]],l=c.map(function(e,n){return u=p(e),t||(i+=(i?" L ":" M ")+u[0]+","+u[1]),u}),t&&(i=d3.svg.line().interpolate(t)(l)),c=r(o)||[[S[0],k[0]],[S[1],k[0]]],c.reverse(),l=c.map(function(e,n){return u=p(e),t||(i+=" L "+u[0]+","+u[1]),u}),t&&(i+=" L "+d3.svg.line().interpolate(t)(l).substr(1)),c.reverse(),i+="Z",s.d=i,a.attr(s),a.style(d(o))})};return o.upper=function(t){return arguments.length?(n=t,o):n},o.lower=function(t){return arguments.length?(r=t,o):r},o.interpolate=function(e){return arguments.length?(t=e,o):t},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","attrs","style"],o,e),o},TTk.StyleSheet.set(".ttk-shp-area",TTk.Shape.CSS_STROKE_STYLE,{fill:"#BBB",stroke:"none"}),TTk.Shape.Segment=function(){var t,e=TTk.Shape.SVGShape().tag("path").cls(TTk.Shape.CSS_PREFIX+"sgm").centroid(function(n){var r=e.context(),o=t.centroid(n);return r.transform()(o)}),n=100,r=150,o=0,i=function(t){return t},a=function(n){var r,o,a,s=(e.context(),e.transition()),c=e.style();n.each(function(n){a=e.attrs()(n),o=d3.select(this),o.attr("d")&&(o=s(o)),r=t(i(n)),a.d=r,o.attr(a),o.style(c(n))})};a.pointAtDist=function(t,n){var r=a.midAngle(t)-Math.PI/2,o=[Math.cos(r)*n,Math.sin(r)*n];return e.context().transform()(o)},a.midAngle=function(t){return t.startAngle+TTk.Math.mod(t.endAngle-t.startAngle,2*Math.PI)/2};var s=function(){t=d3.svg.arc().innerRadius(n).outerRadius(r).cornerRadius(o)};return s(),a.innerRadius=function(t){return arguments.length?(n=t,s(),a):n},a.outerRadius=function(t){return arguments.length?(r=t,s(),a):r},a.cornerRadius=function(t){return arguments.length?(o=t,s(),a):o},a.arcAttrs=function(t){return arguments.length?(i=t,a):i},TTk.Utils.copyGetSet(["key","tag","cls","classes","context","centroid","contextFn","offset","transition","attrs","style"],a,e),a};
},{"../core/ttk.js":73,"./shape.js":91,"d3":8}],91:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/math.js"),_dereq_("./context.js"),TTk.Shape=function(){var t,n,e,r,o=function(t){return t.key},u=function(){return{}},i=TTk.identity,c=function(){};return c.key=function(t){return arguments.length?(o=t,c):o},c.context=function(n){return arguments.length?(t=n,c):t},c.centroid=function(t){return arguments.length?(n=t,c):n},c.contextFn=function(t){return arguments.length?(e=t,c):e},c.offset=function(t){return arguments.length?(r=t,c):r},c.attrs=function(t){return arguments.length?(u=t,c):u},c.transition=function(t){return arguments.length?(i=t,c):i},c},TTk.Shape.CSS_PREFIX=TTk.CSS_PREFIX+"shp-",TTk.Shape.CSS_STROKE_STYLE={stroke:"black","stroke-width":2,"stroke-linejoin":"round","stroke-linecap":"round"},TTk.Shape.SVGShape=function(){var t,n,e,r=TTk.Shape(),o=function(t){var n,e,o=r.transition();t.each(function(t){e=o(d3.select(this)),n=r.attrs()(t),e.attr(n),u&&e.style(u(t))})},u=TTk.Stream().append(function(){return{}});return o.tag=function(n){return arguments.length?(t=n,o):t},o.cls=function(t){return arguments.length?(n=t,o):n},o.classes=function(t){return arguments.length?(e=t,o):e},o.style=function(t){return arguments.length?(u=t,o):u},TTk.Utils.copyGetSet(["key","context","centroid","contextFn","offset","transition","attrs"],o,r),o},TTk.Shape.pathTween=function(t,n){return arguments.length<2&&(n=4),function(){var e=this,r=e.cloneNode();r.setAttribute("d",t);var o,u;try{o=e.getTotalLength(),u=r.getTotalLength()}catch(t){o=10,u=10}for(var i=[0],c=0,a=n/Math.max(o,u);(c+=a)<1;)i.push(c);i.push(1);var h=i.map(function(t){try{var n=e.getPointAtLength(t*o),i=r.getPointAtLength(t*u);return d3.interpolate([n.x,n.y],[i.x,i.y])}catch(t){return[0,0]}});return function(n){return n<1?"M"+h.map(function(t){return t(n)}).join("L"):t}}};
},{"../core/math.js":67,"../core/ttk.js":73,"./context.js":83}],92:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");_dereq_("./visual.js"),_dereq_("./context.js"),_dereq_("./shape-element.js"),_dereq_("./shape-poly.js"),_dereq_("./grid.js"),TTk.Visual.PointVisual=function(){var e=TTk.Visual.SingleVisual(),t=[],i=function(t){return e(t)},n=function(){var i=e.shape();if(t&&t.length&&i){var n=function(n,r){var a=i.point()(n),s=e.parent(),l=e.hilight()||(s?s.hilight():null),u=e.style();if(l&&!l.isEmpty()){var o=l.hiData();o.some(function(e){var t=i.point()(e);if(t&&!TTk.Utils.compare(t[0],a[0])&&!TTk.Utils.compare(t[1],a[1]))return!0})?u=e.styleHigh()||u:t.some(function(e,t){return e&&o.some(function(n){var r=i.point()(n);if(!TTk.Utils.compare(r[t],a[t]))return u=e||u,!0})})||(u=e.styleFade()||u)}return u?u(n,r):{}};i.style(n)}};return i.shape=function(t){return arguments.length?(e.shape(t),n(),i):e.shape()},i.styleSlice=function(e){return arguments.length?(t=e,n(),i):t},TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","data","index","genKey","context","hilight","size","autoScale","resizeRender","clip","grid","shape","style","styleHigh","styleFade","selection","enter","exit","sort"],i,e),i},TTk.Visual.Point=function(){var e=TTk.Visual.PointVisual().data([]).genKey(function(t){var i=e.shape().point()(t);return i[0]+":"+i[1]+":"+i[2]}).context(TTk.Context()).grid(TTk.Grid3D.Minimal()).shape(TTk.Shape.Circle());return e},TTk.Visual.Poly=function(){var e=TTk.Visual.SingleVisual().data([]).genKey(function(t){var i=e.shape().vertices()(t);return i[0][0]+":"+i[0][1]}).context(TTk.Context()).grid(TTk.Grid3D.Minimal()).shape(TTk.Shape.Poly()),t=function(t){return e(t)};return TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","data","index","genKey","context","hilight","size","autoScale","resizeRender","clip","grid","shape","style","styleHigh","styleFade","selection","enter","exit","sort"],t,e),t},TTk.Visual.Scatter3D=function(){var e=TTk.Visual.MultiVisual().data([]).genKey(function(e){return e[0]+":"+e[1]}).context(TTk.Context()).grid(TTk.Grid3D.Minimal()),t=TTk.Visual.PointVisual().shape(TTk.Shape.Circle()),i=TTk.Visual.PointVisual().shape(TTk.Shape.Stock()),n=function(t){return e(t)},r=function(){var n=[];i&&n.push(i),t&&n.push(t),e.visuals(n)};return r(),n.points=function(e){return arguments.length?(t=e,r(),n):t},n.stocks=function(e){return arguments.length?(i=e,r(),n):i},TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","data","index","genKey","context","hilight","size","autoScale","resizeRender","clip","grid"],n,e),n};
},{"../core/ttk.js":73,"./context.js":83,"./grid.js":84,"./shape-element.js":88,"./shape-poly.js":90,"./visual.js":94,"d3":8}],93:[function(_dereq_,module,exports){
"use strict";var TTk=_dereq_("../core/ttk.js");_dereq_("../core/utils.js"),_dereq_("../core/math.js"),_dereq_("./constants-puzzle.js"),_dereq_("./visual-chart.js"),_dereq_("./interact-transform.js"),_dereq_("./interact-mouse.js"),TTk.TwistyPuzzle=function(t){var e,n,i,r,o,a,A,c,s,u,l,T=TTk.Visual.Poly().genKey(function(t,e){return""+e}).size({width:150,height:150}).data([]).grid(null).style(function(t,e){if(i)return{fill:f[i[t.iFace]]}}),m={n:"#000000",d:"#404040",l:"#808080",s:"#BFBFBF",w:"#E8E8E8",y:"#D8D900",r:"#A61300",o:"#DB7B00",b:"#001E93",g:"#008F0E",m:"#A83DD9",p:"#F33D7B",t:"rgba(0,0,0,0)"},f=m,g=1e-4,d=TTk.AxisRotation(),h=function(t){return T(t)};T.shape().closed(!0).style(function(t){var i=n.panelLen?n.panelLen:r.length,o=i/n.numFaces,a=.5*Math.min(T.size().width,T.size().height),c=.1*Math.pow(a,.9)/(r?Math.sqrt(o):1)+"px";return{fill:f[e[A[t.key]]],"stroke-width":c}}),["x","y","z"].forEach(function(t){T.context()[t]().domain([-.5,.5])}),T.context().z().range([500,0]),T.context().transform().yaw(0).pitch(25*Math.PI/180),TTk.StyleSheet.set(".ttk-shp-poly",TTk.Shape.CSS_STROKE_STYLE,{"stroke-width":"3px"});var v=function(){if(n&&(l=n,n=p(n),e=n.fc,r=n.panels,s=n.moves,u=n.keys,f=n.palette||m,T.data(r),A={},c=r.map(function(t,e){return A[t.key]=e,e}),k(),n.rotation)){var t=T.context().transform();n.rotation.pitch&&t.pitch(n.rotation.pitch*Math.PI/180),n.rotation.yaw&&t.yaw(n.rotation.yaw*Math.PI/180)}},p=function(t){var e=TTk.Object.clone(t);return t.panels.forEach(function(t,n){t.polyStrokePattern&&(e.panels[n].polyStrokePattern=t.polyStrokePattern),t.polyOpenEnded&&(e.panels[n].polyOpenEnded=t.polyOpenEnded)}),e},k=function(){o=[];for(var t in n.faces){var e=TTk.Polygon.centroid(n.faces[t]),i=TTk.Polygon.normal(n.faces[t]);o.push({origin:e,normal:i})}var r=B();a=0,r.forEach(function(t,e){t.forEach(function(t){t.iFace=e}),a+=t.length})},w=function(){var t=T.context(),e=T.size(),n=.7*Math.min(e.width,e.height),i=(e.width-n)/2,r=400-e.height/2+(e.height-n)/2;t.x(t.x().range([i,i+n])),t.y(t.y().range([r,r+n])),t.z(t.z().range([n,0])),T.context().projection().focal(3*n)},y=function(t,e,n){var i=[];return t.forEach(function(t,r){t.some(function(t){return Math.abs(TTk.Vector.planeDist(t,e,n))<g})&&!t.some(function(t){var i=TTk.Vector.planeDist(t,e,n);return i<-g})&&i.push(r)}),i},M=function(t,e,n){var i=[];return t.forEach(function(t,r){t.some(function(t){return TTk.Vector.planeDist(t,e,n)<-g})||i.push(r)}),i},B=function(){return o.map(function(t){return r.filter(function(e){return!e.some(function(e){return Math.abs(TTk.Vector.planeDist(e,t.origin,t.normal))>g})})})},I=function(t,e,n){return t.some(function(t){var i=0;return t.some(function(t){var r=TTk.Vector.planeDist(t,e,n);return r=r<-g?-1:r>g?1:0,!(!i||!r||r===i)||void(r&&(i=r))})})},F=function(t,e,n){n=n||1;var i=s[t];if(i){var o=i.origin||TTk.Polygon.centroid(i.plane),a=i.normal||TTk.Polygon.normal(i.plane),A=i.angle*n*Math.PI/180*(e?-1:1);if(d.axis(a).angle(A).origin(o),(i.type===TTk.MoveType.TOUCH||i.type===TTk.MoveType.ABOVE)&&I(r,o,a))return!1;var u;switch(i.type){case TTk.MoveType.ROTATE:u=c;break;case TTk.MoveType.TOUCH:u=y(r,o,a);break;case TTk.MoveType.ABOVE:u=M(r,o,a)}return u.forEach(function(t){r[t].forEach(function(e,n){r[t][n]=d(e)})}),!0}};h.move=function(t,e,n){if(e=!!e,"object"==typeof t)if(Array.isArray(t))t.forEach(function(t){h.move(t,e,n)});else{var i=t.mult;for(t.inv=!!t.inv;i-- >0;)F(t.slice,t.inv!==e,n)}else F(t,e,n);return h},h.alg=function(t){return t=TTk.TwistyPuzzle.parseAlg(t),h.move(t),h},h.case=function(t){return t=TTk.TwistyPuzzle.inverseAlg(t),h.alg(t),h},h.isSolved=function(){var t=B(),e=t.reduce(function(t,e){return t+e.length},0);return e===a&&!t.some(function(t){var e=t[0].iFace;return t.some(function(t){return t.iFace!==e})})};var z={};return["x","y","z","w","v","t"].forEach(function(t){z[t]=!0}),h.scramble=function(){for(var t=Object.keys(s).filter(function(t){return!z[t]}),e=n.scrambleMoves||Math.min(t.length*t.length,1e3);e-- >0;){var i=t[~~(Math.random()*t.length)],r=~~(4*Math.random());F(i,r%2===1),r>1&&F(i,r%2===1)}return h},t&&("string"==typeof t?(t=t.toUpperCase(),t in TTk.Puzzle?n=TTk.Puzzle[t]:t=+t):"object"==typeof t&&(n=t),!n&&"number"==typeof t&&isFinite(t)&&t>0&&(n=TTk.Puzzle.genCube(t)),n&&v()),w(),h.pzl=function(t){return arguments.length?(n=t,v(),h):l},h.size=function(t){return arguments.length?(T.size(t),w(),h):T.size()},h.fc=function(t){return arguments.length?(e=t,h):e},TTk.Utils.copyGetSet(["parent","frame","canvas","data","genKey","context","hilight","grid","autoScale","resizeRender","shape","style","styleHigh","styleFade","styleSlice","elements","selection","enter","exit","id"],h,T),h},TTk.TwistyPuzzle.CSS_PREFIX=TTk.CSS_PREFIX+"pzl-",TTk.TwistyPuzzle.parseAlg=function(t){if("string"!=typeof t)return t;var e=t.split(" ");return e=e.map(function(t){return TTk.TwistyPuzzle.parseMove(t)})},TTk.TwistyPuzzle.formatAlg=function(t){return"string"==typeof t?t:t.map(TTk.TwistyPuzzle.formatMove).join(" ")},TTk.TwistyPuzzle.parseMove=function(t){var e=!1,n=1;t=t.trim();var i=t.slice(-1);return"'"!==i&&"-"!==i||(e=!0,t=t.slice(0,-1),i=t.slice(-1)),i.match(/[0-9]/)&&(n=+i,t=t.slice(0,-1),i=t.slice(-1)),{slice:t,mult:n,inv:e}},TTk.TwistyPuzzle.formatMove=function(t){return t.mult>1?t.slice+t.mult+(t.inv?"'":""):t.slice+(t.inv?"'":"")},TTk.TwistyPuzzle.inverseAlg=function(t){return t=TTk.TwistyPuzzle.parseAlg(t),t=TTk.Object.clone(t),t.forEach(function(t){switch(t.inv){case!0:return t.inv=!1;case!1:return t.inv=!0}}),t.reverse(),t},TTk.Interact.PuzzleMove=function(){var t,e,n=!0,i=!0,r=d3.dispatch("move","scramble","moved","scrambled"),o=function(t){i&&d3.select(t.node().parentNode).on("keydown",a)};o.registerPanels=function(t){n&&t.on("click",A)};var a=function(e){switch(d3.event.keyCode){case 13:return void r.scramble()}var n=t.keys[d3.event.keyCode];if(n){d3.event.shiftKey&&(n=n.toLowerCase());var i=TTk.TwistyPuzzle.parseMove(n);r.move({move:i.slice,inv:i.inv||d3.event.ctrlKey||d3.event.altKey})}},A=function(n){var i,o=TTk.Vector.norm(TTk.Polygon.normal(n)),a=TTk.Vector.scale(o,-1),A=TTk.Polygon.centroid(n),c=1e9,s=1e9;if(e){c=t.panelMovesThreshold||c;for(var u in e)e[u].length&&e[u].forEach(function(e){var n,r,o=TTk.Vector.dist(A,e);t.moves[u].normal&&(r=TTk.Vector.scale(t.moves[u].normal,.5),n=TTk.Vector.dist(A,r)),o<c?(i=u,c=o,s=n):o===c&&n<s&&(s=n,i=u)})}if(!i){var c=100;for(var u in t.moves)if(t.moves[u].type!==TTk.MoveType.ROTATE&&(!e||u in e&&!e[u].length)){var l=t.moves[u].origin||TTk.Polygon.centroid(t.moves[u].plane),T=t.moves[u].normal||TTk.Vector.norm(TTk.Polygon.normal(t.moves[u].plane)),m=Math.min(TTk.Vector.dist(o,T),TTk.Vector.dist(a,T)),f=TTk.Vector.dist(A,l);if(m<.4&&f<=c){if(f===c){var g=TTk.Vector.dist(TTk.Vector.add(A,TTk.Vector.scale(T,.01)),l);if(g<f)continue}c=f,i=u}}}i&&(d3.event.shiftKey&&(i=i.toLowerCase()),r.move({move:i,inv:d3.event.ctrlKey||d3.event.altKey}))};o.on=function(t,e){return r.on(t,e),o},o.moveDone=function(t){r.moved(t)},o.scrambleDone=function(){r.scrambled()};var c=function(){if(e={},t.panelMoves)for(var n in t.panelMoves)if(t.panelMoves[n].length)e[n]=t.panelMoves[n].map(function(e){return TTk.Polygon.centroid(t.panels[e])});else{if(!t.moves[n].plane){e[n]=[t.moves[n].origin];continue}e[n]=[TTk.Polygon.centroid(t.moves[n].plane)]}else for(var n in t.moves)e[n]=[TTk.Polygon.centroid(t.moves[n].plane)]};return o.pzl=function(e){return arguments.length?(t=e,c(),o):t},o.mouse=function(t){return arguments.length?(n=t,o):n},o.keyboard=function(t){return arguments.length?(i=t,o):i},o},TTk.InteractivePuzzle=function(t){var e,n,i=TTk.TwistyPuzzle(t),r=!0,o=150,a=300,A=50,c=function(t){return t.transition().duration(o)},s=function(t){return t.transition().duration(a)},u=TTk.Interact.PuzzleMove().on("move",function(t){T.moveAnimate(t.move,t.inv?-1:1,!1,function(){u.moveDone(t)})}).on("scramble",function(){T.scramble(u.scrambleDone)}),l=TTk.Interact.Transform(),T=(TTk.Context2D().x(d3.scale.linear()).y(d3.scale.linear()),function(t){t=t||n;var e=i(t);return m(e),n=e,e}),m=function(t){n&&t.node()===n.node()||(l.transform(i.context().transform()),u(t),r&&(l.on("change",T),t.call(l),t.on(".zoom",null)))},f=function(){u.pzl(i.pzl()),i.enter(u.registerPanels)};return i.pzl()&&f(),T.moveAnimate=function(t,r,a,c){"object"!=typeof t&&(t={slice:t,mult:r?r<0?-r:r:1,inv:r<0});var s=t;if(Math.abs(s.mult)>1){var u={slice:s.slice,mult:s.mult/Math.abs(s.mult),inv:s.inv},l=Math.abs(s.mult),m=function(){return 0===l--?void(c&&c()):void T.moveAnimate(u,null,a,m)};return void m()}if(!e){e=!0;var f=~~(o/1e3*A),g=0,d=1/f,h=o/f,m=function(){if(g++>=f)return e=!1,void(c&&c());var r=1,o=Date.now()-v,A=~~(o/h)-g-1;A=Math.min(A,f-g),A>0&&(r+=A,g+=A),i.move(t,a,d*r),T(n),setTimeout(m,h)},v=Date.now();m()}},T.scramble=function(t){if(!e)return e=!0,i.scramble(),i.shape().transition(s),T(n),setTimeout(function(){i.shape().transition(TTk.identity),e=!1,t&&t()},a),T},T.pzl=function(t){return arguments.length?(i.pzl(t),f(),T):i.pzl()},T.rotate=function(t){return arguments.length?(r=t,T):r},T.moveInteract=function(t){return arguments.length?(u=t,T):u},T.sceneInteract=function(t){return arguments.length?(l=t,T):l},T.moveTrans=function(t){return arguments.length?(c=t,T):c},T.scrambleTrans=function(t){return arguments.length?(s=t,T):s},T.movePeriod=function(t){return arguments.length?(o=t,T):o},T.scramblePeriod=function(t){return arguments.length?(a=t,T):a},T.frameRate=function(t){return arguments.length?(A=t,T):A},T.isSolved=i.isSolved,T.move=i.move,T.renderStatic=i,TTk.Utils.copyGetSet(["parent","frame","canvas","data","genKey","context","hilight","grid","autoScale","resizeRender","shape","style","styleHigh","styleFade","styleSlice","elements","selection","enter","exit","size","alg","case","fc","id"],T,i),T},TTk.AlgorithmPuzzle=function(t){var e=TTk.Visual.MultiVisual().size({width:150,height:150}).context(TTk.ContextSimple()),n=TTk.InteractivePuzzle(t).movePeriod(500);n.moveInteract().mouse(!1).keyboard(!1);var i,r,o,a,A=!1,c=!0,s=.09,u=!0,l=.1,T=!0,m=!0,f=700,g=!0,d=!1,h=[],v=[],p=0,k={play:"data:image/png;base64,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\t\tBKMAAAAASUVORK5CYII=",pause:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABtCAYAAAA29ebeAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AMHBC0dRMJtoQAABSNJREFUeNrt3U9oHFUcB/Dv7817s7sxaZSaWKwiqK2obS21IoJQxL+nJFSlNUhvFj14EaF4UU9eBEFPLYIoFan\t\t/kKQYexD8g4W0pVrb+ideqi2tVWKCJmF35r15Pw+N7TbZzZ+dnRkPvy/kEHZn5rufnZn3Zi8PkKQKpdhWVVC5zhnXM/s/h9aenQH++B9/XlVBZbUzrreu87kZ4HwugJ1AjzOmj5n7AHoQQKXBDic8YQSehuIk/gzATJFiXcDV9vLOHQ06T4Iw4j0Nx0k8AmC6rSU6gZ5SYPaUtIlL2vBS/8raTIRa7wJQLsDuypI2r5e0ibL\t\tsvOgZWNL6EYDeAdCb4sP8xIoei+P4xzzkylo/wFB7AV6VYjdjrOjxOI5PLHhPWLhI+DJAIynxAOBW8nw4DMKBrPFCrXcx6EBKPAC4ZbbzYEtnYKj1CwR6pc2fLwGrrVESDWeBV9L6eYBebXdnZtoWJ/HHSwYMg3CQiN9NOUo3S9UTtlhrj7T1zAvC7UT8Xkada4pwX9Xa0UUBy+XyjeyS4wCuyOw6Y5yKEns7gGpb7nko38A\t\t6OXFh0M1swnc6sva2ubOKYO77AuBNgO7IePZ5VaBUlHj/dTt2pw3tBnBnxrfXbqN04nzyRdMz0BizWTEOZ3QZzM3fobM3TQF/pdmJMWajYhxdbEBsU6aMszdPA382HIXJ45mc8ACgOzbmydSPFh5P54QHAF1W6x3NpjEahP5cp7qc+ngKhIFcO4P6GwJWtL6LgJU5Py3cC6A7xeW7CcA1OXe+p6vO6SKgJ9pUwOOWqWi9vtW\t\tNA6CIzoHVesM8QGK6voiH/YRV68ctqHP9cS8CMnNnEV1I8YrWb6HFdGaFFY0GkaCgX5xMikGo8M4KkpTTAIkACqAACqBEAAVQAAVQIoACKIACKBFAARRAAZQIoAAKoABKBFAABVAAJQIogAIogBIBFEABFECJAAqgAAqgRAAFUAAFUCKAAiiAAiiAEgEUQAEUQIkACqAACqBEAAVQAAVQIoACKIACKBFAARRAAZQIoAAKoAB\t\tKBFAABVAAJQsB+oI6JC1vScV3vgRIVMgamORpqnW/gjoD/zQA5NMoRvC3VjflojrzpePWLcjCx4u4FGrO/dDy/aeYzl47d3IeYM25gwDGcy7zDYCJVjeuOncIoPO5nnzAaLNl0RImjOR8LexPezaA+dMiO6s5l8TeHJvUlDMfpL6FUq6dY6X1+00Ba859Prscbg4jGb1WRfVM6m/Bua8AHsppxHujVqudmjMiX57ZpRaPANA\t\tZNhmPnF0LYLIdOwvDcB15/hZp1mdafOoyaZxdOzVnnJj3JGKtPUaEnRniRQo80C48AIjj+CQxnsry0gW4f6rBINtwVSzn/TFNwSoQNmfwVT5bc+6Tdu/Wsf9eU7AShLsz6Pxc5NyHjV5quqxYwn7EKA0AW9CeBUurzLQjdvbtzCaV7A8ESlUJdH+bOsdE2BlZu7vZGxZcl8355EsTBL8DeCjlPXGcwFujxO5Hxkm8P2iC4Ay\t\tAh9N0JmAC4Ecj5z5a6H2LLmznvD9a8uW3mHwXCBuX+QvOFINfip0bdN7/ktdcw3n/XYf3exIVlHFh4ebldJ5m8IuRc08k3v+8BOhljXYblMc2BvcBWNdscsvAKMBDgTP7qqgW87xaN0Irj+2zndcv0PkQwMNK6321Wu3XZZypraWCymrWdo1n1fPfFD0gf7bq3Fiax7Ms04GOa72O13hWvXWdz2nnxlpdaftfUOfNGl9DeSo\t\tAAAAASUVORK5CYII=",home:"data:image/png;base64,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",end:"data:image/png;base64,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",forward:"data:image/png;base64,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",backward:"data:image/png;base64,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",cursor:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABl0lEQVRYw2NgIAIICwszMTIytgKZ70EYxAaJEaOXKoCJiSkFSP1HxlAxuoHl6A6AitENrMbigNWjDhh1wKgDQBLA8iACSJ0GFk7dIiIiNCucsDqAg4ODD0h/Z0AUTj5sbGw8QMfsBvJfAvkZtHTAa6BFi5HFgPypQE\t\ttLkMR+s7KyygDFHIDs/UDaipoOIAoDLU0COmwmlP+RhYVFjq4OAOK/aKE0F6ctQNdGgYIKqGg7EKdxcXGxUcEB6PgjLy8vG4blzMzMeuiuBeLLQHEdKjvgP9BMI2y+98PlYiC+SU0HAO0KwHAAMPsIAKnX1LQIFwZGbxCuNOAApL7S2gFAe+zwJUQXBqTChQb4N7AAE2DAB6Dp4TeNgn8nAzEAVIDQKPjdiHIACABd20ll3+\t\t8l2nIQABYYTFBN1Mr/JiQ5AASAZbcUkHpLBd9vJ9lyGADGWxwV4j6AdJtRwXEKHPAVWK9wUGQ7NPWS64D9lPoeBq6T4wBg/E+miu1Ag+rIdEARVRwAzEY2ZDoggSoO4ObmFiDTARG4zAQArMzVVVfQd7QAAAAASUVORK5CYII="},w=TTk.Shape.TextBox().cls(TTk.TwistyPuzzle.CSS_PREFIX+"algtext").point(function(t){return L(t.key)}).width(function(t){return S}).height(function(t){return S});w.text().text(function(t){return TTk.TwistyPuzzle.formatMove(t.d)}).align([.5,.5]);var y=w.text().attrs();w.text().attrs(function(t){var e=y(t);return e["font-size"]=.8*S+"px",e});var M=TTk.Visual.PointVisual().genKey(function(t,e){return e}).sort(!1).shape(w).enter(function(t){t.on("mousedown",function(t){d3.event.stopPropagation(),G.moveTo(t.key+1)})}).style(function(){return{visibility:!u||m&&!O?"hidden":""}}),B=TTk.Shape.Image().point(function(t){var e=L(p-1);return[e[0]+(o?0:(V+P)/2),e[1]+S]}).width(function(t){return.8*S}).height(function(t){return.8*S}).href(function(t){return t.name}),I=TTk.Visual.PointVisual().sort(!1).shape(B).data([{name:k.cursor,width:20,height:20}]).style(function(t){return{visibility:!i&&!r||!u||!c||m&&!O?"hidden":""}}),F=TTk.Shape.ImageBox().cls(TTk.TwistyPuzzle.CSS_PREFIX+"algbtn").point(function(t){var i=n.size(),r=e.size(),o=(u?Y:0)+C+C*s>r.height?r.height-C*s*.5:r.height/2+i.height/2+C*s*.75/2,a=C/5,A=(r.width-C)/2+a/2;switch(t.name){case"play":return[A+2*a,o];case"pause":return[A+2*a,o];case"forward":return[A+3*a,o];case"backward":return[A+1*a,o];case"end":return[A+4*a,o];case"home":return[A+0*a,o]}}).width(function(t){return(C-4*P)/5}).height(function(t){return C*s});F.image().href(function(t){return k[t.d.key]}).width(function(t){return C*s*.7}).height(function(t){return C*s*.7});var z=TTk.Visual.PointVisual().genKey(function(t){return t.name}).shape(F).data([{name:"play"},{name:"pause"},{name:"forward"},{name:"backward"},{name:"home"},{name:"end"}]).sort(!1).enter(function(t){w.box().style(function(t){return t.d.key<=p-1?{opacity:1,fill:"#ff9c3f"}:{opacity:.4,fill:"#ff9c3f"}}),t.on("mousedown",function(t){switch(d3.event.stopPropagation(),t.name){case"play":G.play();break;case"pause":G.pause();break;case"forward":G.forward();break;case"backward":G.back();break;case"home":G.rewind();break;case"end":G.end()}})}).style(function(t){
return c&&(i||r)?{display:!O&&T||"pause"===t.d.name&&!o||"play"===t.d.name&&o?"none":""}:{display:"none"}});e.visuals([n,z,M,I]);var C,S,P,V,N,b,Y,x,R=function(){E(),h=[],v=[],i&&(h=TTk.TwistyPuzzle.parseAlg(i)),r&&(v=TTk.TwistyPuzzle.parseAlg(r)),v.length?(n.case(v),h.length||(h=v)):n.alg(h),p=v.length?0:h.length,M.data(h)},E=function(){var t=n.fc();n.pzl(n.pzl()),n.fc(t)},O=!1,U=!1,Q=new TTk.Executor,G=function(t){if(!A){i||r||M.data([]),t=t||x,K(),D();var n=e(t);return j(),W(n),x=n,n}},K=function(){var t=e.size().width,n=e.size().height;C=Math.min(t,n),S=C*l,P=.2*S,V=S+P,N=~~((t-P)/V),b=Math.ceil(h.length/N),Y=b*V+P},D=function(){var t=C,i=C*s+Y;(u||c)&&h.length&&i+C>e.size().height&&(t-=u&&c?i+C-e.size().height:u?Y:c?C*s*1.2:""),n.size({width:C,height:t})},j=function(){var t=e.size(),i=n.size();if(t!==i){var r=t.width/2-i.width/2,o=u?Math.max(Y,t.height/2-i.height/2):t.height!==C?t.height/2-i.height/2:0;d3.select(n.selection().node().parentNode).attr("transform","translate ("+r+","+o+")")}},L=function(t){var n=e.size().width,i=~~(t/N),r=t%N,o=i===b-1?h.length%N||N:N,a=(n-(o*V+P))/2,A=P+i*V;Y<=(e.size().height-C)/2&&(A+=(e.size().height-C)/2-V*b);var c=r*V+a+P;return[c+S/2,A+S/2]},W=function(t){x&&t.node()===x.node()||(T||m)&&t.on("mouseenter",function(){U=!0,Q.doOnce(TTk.identity,""),O=!0,o||G()}).on("mouseleave",function(){U=!1,o||Q.doOnce(J,"",f)})};n.sceneInteract().on("click",function(){g&&(o?G.pause():G.play(!0))});var H=function(t){if(p===h.length||a)return Q.doOnce(J,"",f),void setTimeout(function(){var e=a;o=!1,a=!1,G(),t&&t(e),"function"==typeof e&&e()},50);var e=h[p++];n.moveAnimate(e,null,null,function(){H(t)}),G()};G.play=function(t){o||(a=!1,t===!0&&(t=function(t){!t&&d&&setTimeout(function(){G.rewind(!0)},f)}),p===h.length?(G.rewind(),setTimeout(function(){G.play(t)},f)):(o=!0,H(t)))},G.pause=function(t){t?o?a=t:t():a=!0},G.forward=function(){p!==h.length&&(o?a=G.forward:(o=!0,p++,I(),M(),z(),n.moveAnimate(h[p-1],null,null,function(){o=!1,e(),Q.doOnce(J,"",f)})))},G.back=function(){0!==p&&(o?a=G.back:(o=!0,I(),z(),n.moveAnimate(h[--p],null,!0,function(){o=!1,e(),Q.doOnce(J,"",f)})))},G.end=function(){if(!(p>h.length)){if(o)a=G.end;else for(;p<h.length;)n.move(h[p++],!1);G()}},G.rewind=function(t){if(0!==p){if(o&&!t)a=G.rewind;else for(;p>0;)n.move(h[--p],!0);G()}},G.moveTo=function(t){if(o)a=function(){G.moveTo(t)};else{for(;t<p;)n.move(h[--p],!0);for(;t>p;)n.move(h[p++])}G()};var J=function(){U||(O=!1,G())};return G.alg=function(t){return arguments.length?(i=t,R(),G):i},G.case=function(t){return arguments.length?(r=t,R(),G):r},G.waitPeriod=function(t){return arguments.length?(f=t,G):f},G.disable=function(t){return arguments.length?(A=t,G):A},G.controls=function(t){return arguments.length?(c=t,G):c},G.showAlg=function(t){return arguments.length?(u=t,G):u},G.hoverButtons=function(t){return arguments.length?(T=t,G):T},G.hoverAlg=function(t){return arguments.length?(m=t,G):m},G.clickPlay=function(t){return arguments.length?(g=t,G):g},G.playRewind=function(t){return arguments.length?(d=t,G):d},G.buttonSize=function(t){return arguments.length?(s=t,G):s},G.isSolved=n.isSolved,G.renderStatic=n.renderStatic,TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","data","index","genKey","context","hilight","size","autoScale","resizeRender","clip","grid","visuals"],G,e),TTk.Utils.copyGetSet(["fc","pzl","rotate","moveInteract","sceneInteract","moveTrans","scrambleTrans","movePeriod","scramblePeriod","frameRate"],G,n),G},TTk.StyleSheet.set(".ttk-pzl-algtext",{cursor:"pointer"}),TTk.StyleSheet.set(".ttk-pzl-algtext text",{fill:"rgba(0,0,0,0.8)"}),TTk.StyleSheet.set(".ttk-pzl-algtext rect",{fill:"#ff9c3f",opacity:.4}),TTk.StyleSheet.set(".ttk-pzl-algbtn",{cursor:"pointer","z-index":3}),TTk.StyleSheet.set(".ttk-pzl-algbtn rect",{fill:"#ff9c3f",opacity:.5,"border-width":"5px","border-color":"black"}),TTk.ModalPuzzle=function(t){var e,n,i,r=t.renderStatic,o=Object.assign({},t.size()),a=function(t){r.frame(null);var n=r.size(o)(t);e&&e.node()===n.node()||n.on("mousedown.modal",function(){d3.event.stopPropagation(),A()}),e=n},A=function(){r.frame(null),t.disable&&t.disable(!1),n=s(),n.empty()&&(n=d3.select("body").append("div").attr("tabindex",100+t.id()).attr("class",TTk.TwistyPuzzle.CSS_PREFIX+"modal"),i=d3.select("div."+TTk.TwistyPuzzle.CSS_PREFIX+"modal").append("img").attr("class","closebtn").attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AsOCAoGUADrBwAABV9JREFUaN7tms9vVUUUx79DWx6xtY1tTYgFamlAdhLjmsSNpa0kICTUtq6M4MqN/gGaaIw73SAhJgUBU1MokogQDQFqoiAbXdkmtGxKYKdFhVbbftzMTabXmbnz2luaGE/y8t7Nm3NmvnPOnF9zpf9pKQGPhCdEpgwAxhj3uUnSTkmdkjZKesz+9aeke5ImJf1kjLkfkrGW2mgD3gUmgHlgAVgMfBbsmHHgHeCpNTUfoBnoAS6zcvoW6AaaV8PsYiAGgGuUT9eAV1YNTCYQqAfOAXOsHs0CZ4H6asCY1IMMdEoak5Ri04uSFuwHZ64a+1mXIOOOpF3GmKkUh2ASNdIr6YykDQVDb0uakPSzpHG7mBn7X5OkTZJ2SHpW0jOSni6Q91DSfmPMxTLMqReYKTCHG0A/sB2oTZBda8f2Az8WyP4N6F7WmXFAdAIPI5Pctwe/knMGqU5DlncQ+D0yzwNga1VgHBANwJ0CLbSX6FA6gJuR+aardQCZ4HMRoUeBOmdXV2TCzubVAcci856tVvhgxMUeBTaU7ecdMBsiYGbdOFMksAUYi5hTrU8TgFnGGTERzdyMBM3mJFcbOdjtnklbgX3Am0AXsD4ExuFZD+y2PHuBFo/cjogD6E5R7ZUAc79nR1ttFM5oERgKeSjn9/Gc7JEMTG4tg6HcLKp5YHOA8QegkptEwMuB8V/5TMY+Xwrw7PUAqUTizJIMY10O2eGAwj6WNCfJTROMpJD77QWGgfXGGBljskWNSOoK8GzJzowzx5ykjwLjDwW1AtzyIJ8CtgU02FMQlT+1UbwOGCoYuzswx3bgtmf8eMisnrAFT56+BmoCPBXgZMECTwKnC8Ycz5xEIJ3xmeM80OhjeMFWby4tAB/4VJiz+29WkLZfCrlt56x8GFjbriVnxFKnJxuel/RLzm6VPWcTGWNelDS6jDh4xhizO5SmO8/jtiTIZ+6dPiAbA3XFdLAGcMBIGpD0WRUgjksaTGw+THuALFmzC6QhAOR+tDKzYIwxs5Jel/RFAojPJR0yxswldlBmnALNpXofkFJSpsDO+Tao1ILcBfJH4P/GlHLYBsxjkvoT5h2UdDSLMwnJZ1Ogmn2Q/XCruXsBIJsSm3OnJB2oYhNfs+bc55hnaGybrfXzdM+nkUmPumttje11jU5j4lKVIDI6mKUzPs04zzs8QLBr/tfuNnt8NcCFgoB4oiBOnLbpSoyGCgLixUBAbAqZyqSHYTKSonQnLLDOpu0xwItAVyRFmfLwTMSSxmGPrK2SnvOo3WRmFwp2kt4wxvxtjPnLJqSjkbbUDrfQctb1vKQOD89wLGncEtix77M0Ppee709JOxLTmX2BNP5GYHxbUWF1NcDYFyisvsyNO5FQWJ3K8YwCrZ61DATWcrmwZwC8FGCeATZ7StIngQPAWzatrySUuhVbUr9teVs9ctttee2jntTmw3cBAdczD5abtOrmQ8aTe3Y9VcikxpKaDwntoCOxXS+hHVSxLScfzQED1Qo+H3GXR1zNrBRAThOfROY9t5ydeRy4GxF6PTszJWmkPWJO2PZtw3L7v9tsd4+IA+groYndHznY2EZ650o78nsKJsnizEELvCZBdo0d22dbTRRsVm8RiNSLnj2SRiRVCoZO2bI0u+iZdgqzRueiZ6f97iiQNyvpgDHmQplXb9vs1dvGxMJp3n4vOunQOptRpxR0d+3V263S7uJzDuD8Kl+GztkrjYayXbzvkL4aCZoroTFg8FHftbfYdOZqCQCu2JSlZdVBFADcArxva5eFxFc4bgHvlRWLVuOlmmbrlbZax9DgNDfcl2p+DclYU1rr15z+M/QP37pJVAcOCxcAAAAASUVORK5CYII=").style("visibility","visible"),i.on("click",function(){u()}),c()),t.resizeRender(function(){n&&(l(),n.call(t))}),l(),t(n)},c=function(){d3.select("body").on("keydown.modal"+t.id(),function(t){var e=d3.event.keyCode;27===e&&u()})},s=function(){return d3.selectAll("div."+TTk.TwistyPuzzle.CSS_PREFIX+"modal")},u=function(i){if(n){if(t.pause&&!i)return void t.pause(function(){u(!0)});n.remove(),n=null,t.disable&&t.disable(!0),a(e)}},l=function(){if(n){var e=n.node().getBoundingClientRect();t.size({width:e.width,height:e.height})}};return a},TTk.StyleSheet.set("."+TTk.TwistyPuzzle.CSS_PREFIX+"modal",{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",width:"100%",height:"100%",margin:"0px","background-color":"rgba(0,0,0,0.5)","z-index":10}),TTk.StyleSheet.set(".closebtn",{position:"fixed",width:"50px",height:"50px",bottom:"20px",left:"20px"});
},{"../core/math.js":67,"../core/ttk.js":73,"../core/utils.js":75,"./constants-puzzle.js":77,"./interact-mouse.js":85,"./interact-transform.js":86,"./visual-chart.js":92}],94:[function(_dereq_,module,exports){
"use strict";_dereq_("d3");var TTk=_dereq_("../core/ttk.js");_dereq_("../core/math.js"),_dereq_("../core/utils.js"),_dereq_("./context.js"),_dereq_("./canvas.js"),_dereq_("./shape.js"),_dereq_("./shape-element.js"),_dereq_("./shape-poly.js"),_dereq_("./grid.js"),TTk.Visual=function(){var t=0,e=function(){return t++},n=function(){var t,n,i,r,a,s,c,u,o,l,f,d,h,g=e(),v=!1,T={top:50,bottom:50,left:50,right:50},p=!1,S=!1,m=!0,y=!1,k=TTk.Visual.CSS_PREFIX+"grid",x=function(e){h=null;var n=e?null:x.frame();if(n&&i!==!0||(n=C(e)),e=l=n,s){var r=x.size();S&&E(r),s.screen(r)}var a=x.context(),u=x.canvas()||e;a&&c&&(d=d||u.append("g").attr("class",k),d.call(c));var o=e;if(a&&y){o=e.select("g."+TTk.Visual.CSS_PREFIX+"clip"),f||(f=e.select("clipPath#"+TTk.Visual.CSS_PREFIX+"clipregion"),f.empty()&&(f=e.append("clipPath").attr("id",TTk.Visual.CSS_PREFIX+"clipregion").append("rect"))),o.empty()&&(o=e.append("g").attr("class",TTk.Visual.CSS_PREFIX+"clip").attr("clip-path","url(#"+TTk.Visual.CSS_PREFIX+"clipregion)"));var v=TTk.Scale.rangeExtent(a.x(),!0),T=TTk.Scale.rangeExtent(a.y(),!0),p=a.scale().xPad(),V=a.scale().yPad(),R=a.applyOffset([v[0],T[0]]);f.attr({x:R[0]-p[0],y:R[1]-V[0],width:v[1]-v[0]+p[0]+p[1],height:T[1]-T[0]+V[0]+V[1]})}return x.render&&x.render(o),d3.select(window).on("resize.visual"+g,t||!m?null:function(){"function"==typeof m?m():e.call(x)}),e},C=function(e){if(!e&&n)return n;e&&("string"==typeof e||e instanceof d3.selection)||(e="body"),e=d3.select(e),e.empty()&&(e=d3.select("body"));for(var r=e.node();!r.tagName;)e=r,r=e.node();var a=r.tagName.toLowerCase();if("svg"===a||"canvas"===a||"g"===a){if("svg"===a||"canvas"===a){var s=o||(t?t.size():{});if(TTk.Object.isEmpty(s)){var c=r.getBoundingClientRect();s={width:c.width,height:c.height}}(!e.attr("width")||"svg"===a&&!e.attr("width").match(/%/)||"canvas"===a&&+e.attr("width")!==s.width)&&e.attr("width",s.width),(!e.attr("height")||"svg"===a&&!e.attr("height").match(/%/)||"canvas"===a&&+e.attr("height")!==s.height)&&e.attr("height",s.height)}return("canvas"===a&&!i||i===!0)&&(i=TTk.CanvasSelection(e)),e}var u=TTk.Visual.CSS_PREFIX+"vis"+g,l=e.select("svg#"+u);return l.empty()?(l=e.select("canvas#"+u),l.empty()?(o=o||{width:800,height:600},n=e.append(i?"canvas":"svg").attr("id",u).attr(o),n.classed(TTk.Visual.CSS_CLASS,!0),n):l):l},V=function(){return l?h?h:h=l.node().getBoundingClientRect():{width:1,height:1}},E=function(t){var e=x.context(),n=e.space().getOffset({width:0,height:0})[1];if(n===-400){var i=Math.min(.7*t.width,.9*t.height),r=.4*t.height,a=Math.min(i,r),s=(t.width-i)/2,c=-n-t.height/2+(t.height-i)/2;e.scale().ranges(R([[s,s+i],[c,c+i],[r,0]])),e.scale(e.scale()),e.projection().focal&&e.projection().focal(3*a)}else{var u="function"==typeof x.margins()?x.margins()():x.margins(),i=t.width-u.left-u.right,r=t.height-u.top-u.bottom;e.scale().ranges(R([[u.left,u.left+i],[u.top,u.top+r]])),e.scale(e.scale())}},R=function(t){if("function"==typeof S)t=S(t);else if(Array.isArray(S)){var e=x.context().scale().ranges();t=t.map(function(n,i){return n[0]=S[i]===!0||S[i][0]?t[i][0]:e[i][0],n[1]=S[i]===!0||S[i][1]?t[i][1]:e[i][1],n})}return t},_=function(){var t=x.genKey();t&&r&&r.forEach(function(e,n){var i=typeof e;"object"!==i&&"function"!==i||"key"in e||(e.key=t(e,n))})},w=function(){d&&(d.remove(),d=null),c&&c.parent(x)},j=function(){if(l&&!l.empty()&&o){var t=l.node();if(t){var e=t.tagName.toLowerCase();"svg"!==e&&"canvas"!==e||l.attr("width",o.width).attr("height",o.height)}}};return x.parent=function(e){return arguments.length?(t=e,x):t},x.frame=function(e){return arguments.length?(n=e,l=null,x):n||(t?t.frame():void 0)},x.id=function(t){return arguments.length?(g=t,x):g},x.elements=function(t){return arguments.length?(v=t===!0?{}:t,x):v},x.canvas=function(e){return arguments.length?(i=e,x):i||(t?t.canvas():void 0)},x.margins=function(e){return arguments.length?(T=e,x):T||(t?t.margins():void 0)},x.data=function(e){return arguments.length?(r=e,_(),x):r||(t?t.data():void 0)},x.index=function(t){return arguments.length?(p=t===!0?{}:t,x):p},x.genKey=function(e){return arguments.length?(a=e,_(),x):a||(void 0===a&&t?t.genKey():void 0)},x.context=function(e){return arguments.length?(s=e,x):s||(t?t.context():void 0)},x.hilight=function(e){return arguments.length?(u=e,x):u||(t?t.hilight():void 0)},x.size=function(e){return arguments.length?(o=e,j(),x):o||(t?t.size():V())},x.autoScale=function(t){return arguments.length?(S=t,x):S},x.resizeRender=function(t){return arguments.length?(m=t,x):m},x.clip=function(t){return arguments.length?(y=t,x):y},x.grid=function(t){return arguments.length?(c=t,w(),x):c},x};return n.flattenData=function(t){for(var e=[t];t.d;)t=t.d,e.unshift(t);return e},n}(),TTk.Visual.CSS_CLASS=TTk.CSS_PREFIX+"vis",TTk.Visual.CSS_PREFIX=TTk.Visual.CSS_CLASS+"-",TTk.Visual.SingleVisual=function(){var t,e,n,i,r,a,s,c=!0,u=!1,o=TTk.Visual(),l=function(t){return o(t)};o.render=function(e){var n=o.context(),i=o.data(),u=o.hilight(),l=o.canvas()||e;if(t.context(n),c===!0){var d=n.transform().origin().slice();d[2]=-1e4,i.forEach(function(e){e.centroid=t.centroid()(e),e.dist=TTk.Vector.dist(d,e.centroid)})}r=l.selectAll("."+t.cls()).data(i,t.key());var h=r.enter().append(t.tag()).attr("class",t.cls()),g=r.exit();t.classes()&&("function"==typeof t.classes()?r.attr("class",function(e){return t.cls()+" "+(t.classes()(e)||"")}):r.attr("class",t.cls()+" "+(t.classes()||""))),a&&a(h),s&&s(g),g.remove(),u&&(h.empty()||u(h),g.empty()||u.removeSel(g)),c&&r.sort(c===!0?function(t,e){return e.dist-t.dist}:c);var v=t.transition(),T=t.style(),p=f(T);p&&t.style(p),t.transition(TTk.identity),h.call(t),t.transition(v),r.call(t),p&&t.style(T);var S=o.index(),m=o.elements();if(S||m){S=!!S&&{},m=!!m&&{};var y=t.key();r.each(function(t,e){var n=y(t,e);S&&(S[n]=t),m&&(m[n]=d3.select(this).node())}),o.index(S),o.elements(m)}};var f=function(t){var r=o.hilight();if(r||e)return function(a,s){var c=e;if(r&&!r.isEmpty()){var u=TTk.Visual.flattenData(a);c=r.isHigh(u[0])?n||c:i||c}var o=(c?"function"==typeof c?c(a,s):c:null)||null;if(t){var l="function"==typeof t?t(a,s):t;o=o&&l?Object.assign(o,l):o||l}return o||{}}},d=function(t,e){return"ordinal"===t?{set:{},order:[]}:new TTk.MinMax},h={linear:function(t,e){t.update(e)},ordinal:function(t,e){t.set[e]||(t.set[e]=!0,t.order.push(e))}};h.utc=h.linear,h.log=h.linear;var g={linear:function(t,e,n){var i=t.domain();void 0!==e.min&&(n===!0||"object"==typeof n&&n[0])&&(i[0]=e.min),void 0!==e.min&&(n===!0||"object"==typeof n&&n[1])&&(i[1]=e.max),t.domain(i)},ordinal:function(t,e){t.domain(e.order)}};g.utc=g.linear,g.log=g.linear;var v=function(){if(u&&t&&t.point()){var e="function"==typeof u?u():u;if(e&&(e===!0&&(e=[!0,!0,!0]),e.some(TTk.identity))){var n=o.context().scale(),i=n.getScales(),r=n.usedTypes(),a=r.map(d),s=function(t,e){h[r[e]](a[e],t)},c=t.point();o.data().forEach(function(t,e){var n=c(t,e);n.forEach(s)}),a.forEach(function(t,n){g[r[n]](i[n],t,e[n])})}}};return l.shape=function(e){return arguments.length?(t=e,l):t},l.data=function(t){return arguments.length?(o.data(t),v(),l):o.data()},l.autoDomain=function(t){return arguments.length?(u=t,l):u},l.style=function(t){return arguments.length?(e=t,l):e},l.styleHigh=function(t){return arguments.length?(n=t,l):n},l.styleFade=function(t){return arguments.length?(i=t,l):i},l.selection=function(t){return arguments.length?l:r},l.enter=function(t){return arguments.length?(a=t,l):a},l.exit=function(t){return arguments.length?(s=t,l):s},l.sort=function(t){return arguments.length?(c=t,l):c},TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","index","genKey","context","hilight","size","autoScale","resizeRender","clip","grid"],l,o),l},TTk.Visual.MultiVisual=function(){var t,e=TTk.Visual(),n=[],i=function(t){return e(t)};e.render=function(i){t=i.selectAll("g."+TTk.Visual.CSS_PREFIX+"id"+e.id()).data(n,function(t){return t.id()}),t.enter().append("g").attr("class",function(t,n){return TTk.Visual.CSS_CLASS+" "+TTk.Visual.CSS_PREFIX+"id"+e.id()+" "+TTk.Visual.CSS_PREFIX+"mvis "+TTk.Visual.CSS_PREFIX+"mvis"+n}),t.exit().remove(),t.each(function(t){var n=d3.select(this);if(t){if(t(n),e.index()){var i=t.index();i&&e.index(Object.assign(e.index(),i))}if(e.elements()){var r=t.elements();r&&e.elements(Object.assign(e.elements(),r))}}})};var r=function(){n.forEach(function(t){t&&t.parent(i)})};return i.visuals=function(t){return arguments.length?(n=t,r(),i):n},i.selection=function(e){return arguments.length?i:t},TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","data","index","genKey","context","hilight","size","autoScale","resizeRender","clip","grid"],i,e),i},TTk.Visual.GroupedVisual=function(){var t,e,n=TTk.Visual(),i={},r=function(t){return t.groupKey},a=TTk.Utils.compare,s=!1,c={},u=[],o=function(t){n(t)};n.render=function(t){e=t.selectAll("g."+TTk.Visual.CSS_PREFIX+"id"+n.id()).data(u,function(t){return t}),e.enter().append("g").attr("class",function(t){return TTk.Visual.CSS_CLASS+" "+TTk.Visual.CSS_PREFIX+"id"+n.id()+" "+TTk.Visual.CSS_PREFIX+"gvis "+TTk.Visual.CSS_PREFIX+"gvis"+t}),e.exit().remove(),e.sort(a),e.each(function(t,e){var r=d3.select(this),a=i[t];if(a){if(a(r),n.index()){var s=a.index();s&&n.index(Object.assign(n.index(),s))}if(n.elements()){var c=a.elements();c&&n.elements(Object.assign(n.elements(),c))}}})};var l=function(){f(),d()},f=function(){var t=n.data()||[];c={},t.forEach(function(t,e){var n=r(t,e);if(s)n in c||(c[n]=t);else{var i=c[n]||(c[n]=[]);i.push(t)}}),u=Object.keys(c).sort(a)},d=function(){u.forEach(function(e,n){if(!(e in i)){if(!t)return;i[e]=t(e,n)}i[e].parent(o),i[e].data(c[e])})};return o.visuals=function(t){return arguments.length?(i=t,d(),o):i},o.selection=function(t){return arguments.length?o:e},o.generate=function(e){return arguments.length?(t=e,d(),o):t},o.group=function(t){return arguments.length?(r=t,l(),o):r},o.compare=function(t){return arguments.length?(a=t,l(),o):a},o.singleData=function(t){return arguments.length?(s=t,l(),o):s},o.data=function(t){return arguments.length?(n.data(t),l(),o):n.data()},TTk.Utils.copyGetSet(["parent","frame","id","elements","canvas","margins","index","genKey","context","hilight","size","autoScale","resizeRender","clip","grid"],o,n),o},TTk.StyleSheet.set("."+TTk.Visual.CSS_CLASS,{"font-family":'"Arial", sans-serif'});
},{"../core/math.js":67,"../core/ttk.js":73,"../core/utils.js":75,"./canvas.js":76,"./context.js":83,"./grid.js":84,"./shape-element.js":88,"./shape-poly.js":90,"./shape.js":91,"d3":8}]},{},[93])

